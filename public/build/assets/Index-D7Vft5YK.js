import{F as i,e as r,V as o,c as q,r as k,y as yt,U as bt,al as kt,b as w,f as l,z as s,u as t,E as c,M as n,N as m,G as de,ai as ue,H as C,I as A,C as N,W as z,aj as Ne,ak as Ue}from"./vendor-V15tCYD7.js";import{_ as y}from"./Icon.vue_vue_type_script_setup_true_lang-BUfn1Nb5.js";import{_ as Z,a as ee,b as V,c as _,d as te,e as g}from"./TableRow.vue_vue_type_script_setup_true_lang-BEOVmLmh.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-D8N7iMlA.js";import{_ as Ce}from"./Card.vue_vue_type_script_setup_true_lang-BoKpLyfJ.js";import{_ as St}from"./CardHeader.vue_vue_type_script_setup_true_lang-DP10pkoB.js";import{_ as Ct}from"./CardTitle.vue_vue_type_script_setup_true_lang-BblEC4LI.js";import{_ as Ae}from"./CardContent.vue_vue_type_script_setup_true_lang-CMp4m9t0.js";import{_ as j,a as L,b as Q,c as P,d as E}from"./DialogDescription.vue_vue_type_script_setup_true_lang-C10l9qSz.js";import{_ as Y}from"./DialogFooter.vue_vue_type_script_setup_true_lang-D5_0mGOj.js";import{_ as b,a as U}from"./Label.vue_vue_type_script_setup_true_lang-B5KT1zkt.js";import{_ as Ie,a as Me,b as Re}from"./AlertDescription.vue_vue_type_script_setup_true_lang-HbvVyNmX.js";import{_ as At}from"./AppLayout.vue_vue_type_script_setup_true_lang-BoqS1NJK.js";import{x as we,g as ht,W as h}from"./vendor-vue-CX2lYCwr.js";import{_ as Ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-mNqKJl5l.js";import"./vendor-icons-BfFpU_zn.js";import"./vendor-ui-Bz5CVjPz.js";import"./app-DcxYiYPp.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CIZWYdx8.js";const Vt={class:"inline-flex ml-1"},$t={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},Dt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},Nt={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-muted-foreground opacity-30",viewBox:"0 0 20 20",fill:"currentColor"},he={__name:"SortIndicator",props:{column:{type:String,required:!0},sortColumn:{type:String,required:!0},sortDirection:{type:String,required:!0}},setup(p){return(f,R)=>(r(),i("div",Vt,[p.column===p.sortColumn&&p.sortDirection==="asc"?(r(),i("svg",$t,R[0]||(R[0]=[o("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)]))):p.column===p.sortColumn&&p.sortDirection==="desc"?(r(),i("svg",Dt,R[1]||(R[1]=[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]))):(r(),i("svg",Nt,R[2]||(R[2]=[o("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])))]))}},Ut={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},It={class:"mb-2 flex flex-col items-center justify-between px-2 sm:flex-row md:mb-4 lg:mb-6"},Mt={class:"flex flex-wrap gap-3"},Rt={class:"relative"},qt={key:0,class:"absolute right-0 z-10 mt-1 w-48 rounded-md border bg-background shadow-lg"},zt={class:"py-1"},Wt={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},Ft=["href"],Tt={key:2,class:"mb-6"},Bt={class:"rounded-md border-l-4 border-red-500 bg-red-50 p-4 shadow-sm dark:border-red-400 dark:bg-red-900/30"},jt={class:"flex items-center"},Lt={class:"flex-shrink-0"},Qt={class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-800"},Pt={class:"ml-3"},Et={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Yt={class:"mt-2"},Ht={class:"flex flex-col items-center gap-2 md:items-start"},Gt={class:"flex flex-wrap gap-1 md:gap-2"},Jt={key:0,class:"text-sm text-muted-foreground"},Kt={key:0},Xt={key:1},Zt={key:2},es={key:3,class:"ml-1"},ts={key:3,class:"mx-auto mb-6 grid max-w-[95vw] grid-cols-1 gap-4 md:max-w-[64vw] md:grid-cols-2 lg:max-w-full"},ss={class:"rounded-lg border bg-card shadow-sm"},ls={class:"p-4"},as={class:"space-y-3"},os={class:"text-sm"},ns={key:0,class:"text-center text-muted-foreground"},rs={class:"rounded-lg border bg-card shadow-sm"},ds={class:"p-4"},us={class:"space-y-3"},is={class:"text-sm"},ms={key:0,class:"text-center text-muted-foreground"},fs={key:4,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card p-4 shadow-sm md:max-w-[64vw] lg:max-w-full"},ps={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},cs={class:"mt-4 flex justify-end"},vs={key:5,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card shadow-sm md:max-w-[64vw] lg:max-w-full"},xs={class:"flex items-center justify-between border-b p-4"},gs={class:"flex items-start justify-between"},ws={class:"flex flex-col items-center space-y-1"},_s={key:0,class:"mb-6 rounded-lg border bg-card shadow-sm"},ys={class:"overflow-x-auto"},bs={class:"/* ~15rem on xs */ /* ~20rem on sm+ */ /* ~24rem on md+ */ max-h-60 overflow-y-auto sm:max-h-80 md:max-h-96"},ks={key:6,class:"mb-6 rounded-lg border bg-card shadow-sm"},Ss={class:"flex items-center justify-between"},Cs={class:"flex items-center gap-2"},As={key:0,class:"ml-4 flex flex-wrap gap-2 text-xs text-muted-foreground"},hs={key:0,class:"rounded-full bg-muted px-2 py-1"},Os={key:1,class:"rounded-full bg-muted px-2 py-1"},Vs={key:2,class:"rounded-full bg-muted px-2 py-1"},$s={class:"flex flex-col gap-1 md:gap-4"},Ds={class:"grid w-full grid-cols-1 gap-1 sm:grid-cols-3 md:gap-4"},Ns=["value"],Us={key:0},Is=["value"],Ms={key:0},Rs={class:"flex justify-end space-x-2"},qs={key:7,class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},zs={class:"overflow-x-auto border-t border-border bg-background dark:bg-background"},Ws={class:"flex items-center justify-center"},Fs=["checked"],Ts={class:"flex items-center"},Bs={class:"flex items-center"},js={class:"flex items-center"},Ls=["value"],Qs={key:0,class:"ml-1 text-xs text-red-500"},Ps={key:0},Es={key:0,class:"text-xs text-red-500"},Ys={key:1},Hs={key:1},Gs={class:"flex space-x-2"},Js={key:0,class:"border-t bg-muted/20 px-4 py-3"},Ks={class:"flex flex-col items-center justify-between gap-2 sm:flex-row"},Xs={class:"text-sm text-muted-foreground"},Zs={class:"flex w-full flex-col items-center gap-2 sm:w-auto sm:flex-row sm:gap-4"},el={class:"flex items-center gap-2"},tl={class:"flex flex-wrap"},sl=["innerHTML"],ll={key:0,class:"col-span-2"},al={class:"relative mt-1"},ol=["value"],nl={class:"col-span-2 sm:col-span-1"},rl={class:"col-span-2 sm:col-span-1"},dl={class:"col-span-2 sm:col-span-1"},ul={class:"col-span-2 sm:col-span-1"},il={class:"relative mt-1"},ml=["value"],fl={class:"col-span-2"},pl={class:"mt-1 rounded-md border border-input bg-background p-2"},cl={class:"mb-2 flex flex-wrap gap-1"},vl={key:0,class:"ml-1 text-[0.65rem] text-red-500 sm:text-xs"},xl=["onClick"],gl={class:"relative"},wl=["value","disabled"],_l={class:"col-span-2"},yl={class:"col-span-2 sm:col-span-1"},bl={class:"relative mt-1"},kl=["value","disabled"],Sl={class:"col-span-2 sm:col-span-1"},Cl={class:"col-span-2 sm:col-span-1"},Al={class:"relative mt-1"},hl=["value","disabled"],Ol={class:"col-span-2 sm:col-span-1"},Vl={class:"col-span-2 sm:col-span-1"},$l={class:"col-span-2 sm:col-span-1"},Dl={class:"mt-1 flex items-center space-x-2"},Nl={class:"col-span-2 sm:col-span-1"},Ul={class:"relative mt-1"},Il={class:"col-span-2 sm:col-span-1"},Ml={key:1},Rl={class:"relative mt-1"},ql={key:2,class:"col-span-2"},zl={class:"space-y-4 sm:space-y-6"},Wl={class:"space-y-1 sm:space-y-2"},Fl={class:"rounded-md border"},Tl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Bl={key:0,class:"ml-1 text-xs text-red-500"},jl={class:"flex space-x-1 sm:space-x-2"},Ll={class:"space-y-4 sm:space-y-6"},Ql={class:"space-y-1 sm:space-y-2"},Pl={class:"overflow-hidden rounded-md border"},El={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Yl={key:0,class:"ml-1 text-xs text-red-500"},Hl={class:"flex space-x-1 sm:space-x-2"},Gl={class:"space-y-4 sm:space-y-6"},Jl={class:"space-y-1 sm:space-y-2"},Kl={class:"overflow-hidden rounded-md border"},Xl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Zl={key:0,class:"ml-1 text-xs text-red-500"},ea={class:"flex space-x-1 sm:space-x-2"},ta={class:"max-h-[60vh] overflow-x-auto overflow-y-auto"},sa={class:"flex items-center gap-2"},la={key:1,class:"py-8 text-center text-muted-foreground"},aa={__name:"Index",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},initialMinInvoiceAmount:{type:[Number,String,null],default:null},initialOutstandingDate:{type:[String,null],default:null},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({search:"",vendor_id:"",status_id:""})}},setup(p){const f=p,R=q(()=>(O.value==="yesterday"||O.value==="current-week")&&f.weekNumber&&f.year?`Week ${f.weekNumber}, ${f.year}`:(O.value==="6w"||O.value==="quarterly")&&f.startWeekNumber&&f.endWeekNumber&&f.year?`Weeks ${f.startWeekNumber}-${f.endWeekNumber}, ${f.year}`:""),qe=[{title:f.tenantSlug?"Dashboard":"Admin Dashboard",href:f.tenantSlug?route("dashboard",{tenantSlug:f.tenantSlug}):route("admin.dashboard")},{title:"Repair Orders",href:f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin")}],ie=k(!1),se=k({name:""}),Oe=q(()=>(f.workOrderByAreasOfConcern||[]).slice(0,5)),ze=q(()=>f.outstandingInvoices.reduce((d,e)=>{const $=Number(e.invoice_amount)||0;return d+$},0)),Ve=q(()=>(f.workOrdersByTruck||[]).slice(0,5)),me=k(""),D=k(""),F=k(!1),le=k(!1),fe=k(!1),pe=k(!1),_e=k("Create Repair Order"),T=k("Create"),ce=k(null),H=k("ro_number"),B=k("asc"),O=k(f.dateFilter||"full"),G=k(10),I=k([]),ae=k(!1),J=k(!1),We=q(()=>f.repairOrders.data.length>0&&f.repairOrders.data.every(d=>I.value.includes(d.id)));function Fe(d){d.target.checked?I.value=f.repairOrders.data.map(e=>e.id):I.value=[]}function Te(){I.value.length>0&&(ae.value=!0)}function Be(){const d=we({ids:I.value}),e=f.SuperAdmin?"repair_orders.destroyBulk.admin":"repair_orders.destroyBulk",$=f.SuperAdmin?{}:{tenantSlug:f.tenantSlug};d.delete(route(e,$),{preserveScroll:!0,onSuccess:()=>{D.value=`${I.value.length} repair orders deleted successfully.`,I.value=[],ae.value=!1},onError:W=>{console.error(W),alert("Error deleting repair orders")}})}const S=k({...f.filters}),u=we({id:null,tenant_id:f.SuperAdmin?"":null,ro_number:"",ro_open_date:new Date().toISOString().split("T")[0],ro_close_date:"",truck_id:"",vendor_id:"",wo_number:"",wo_status_id:"",invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),oe=we({concern:""}),ne=we({vendor_name:""}),je=q(()=>f.areasOfConcern.filter(d=>!u.area_of_concerns.includes(d.id))),Le=()=>{u.reset(),u.tenant_id=f.SuperAdmin?"":null,u.invoice_received=!1,u.on_qs=!1,u.disputed=!1,u.dispute_outcome="",u.area_of_concerns=[],_e.value="Create Repair Order",T.value="Create",F.value=!0},Qe=d=>{u.reset(),u.id=d.id,u.tenant_id=d.tenant_id,u.ro_number=d.ro_number,u.ro_open_date=d.ro_open_date,u.ro_close_date=d.ro_close_date||"",u.truck_id=d.truck_id,u.vendor_id=d.vendor_id,u.wo_number=d.wo_number,u.wo_status_id=d.wo_status_id,u.invoice=d.invoice||"",u.invoice_amount=d.invoice_amount||"",u.invoice_received=!!d.invoice_received,u.on_qs=d.on_qs||"no",u.qs_invoice_date=d.qs_invoice_date||"",u.disputed=!!d.disputed,u.dispute_outcome=d.dispute_outcome||"",u.repairs_made=d.repairs_made||"",u.area_of_concerns=[],d.areas_of_concern&&Array.isArray(d.areas_of_concern)&&(u.area_of_concerns=d.areas_of_concern.map(e=>e.id)),_e.value="Edit Repair Order",T.value="Update",F.value=!0},Pe=()=>{u.reset(),F.value=!1},Ee=()=>{const d=f.SuperAdmin?route("repair_orders.store.admin"):route("repair_orders.store",f.tenantSlug);if(T.value==="Update"&&u.id){const e=f.SuperAdmin?route("repair_orders.update.admin",u.id):route("repair_orders.update",[f.tenantSlug,u.id]);u.put(e,{onSuccess:()=>{D.value="Repair order updated successfully!",F.value=!1,u.reset()}})}else u.post(d,{onSuccess:()=>{D.value="Repair order created successfully!",F.value=!1,u.reset()}})},Ye=d=>{ce.value=d,le.value=!0},He=()=>{const d=f.SuperAdmin?route("repair_orders.destroy.admin",ce.value):route("repair_orders.destroy",[f.tenantSlug,ce.value]);h.delete(d,{onSuccess:()=>{le.value=!1,ce.value=null}})},Ge=()=>{oe.reset(),fe.value=!0},Je=()=>{oe.post(route("area_of_concerns.store.admin"),{onSuccess:()=>{oe.reset()}})},Ke=d=>{confirm("Are you sure you want to delete this area of concern?")&&h.delete(route("area_of_concerns.destroy.admin",d))},Xe=d=>{confirm("Are you sure you want to restore this area of concern?")&&h.post(route("area_of_concerns.restore.admin",d))},Ze=d=>{confirm("Are you sure you want to permanently delete this area of concern? This action cannot be undone.")&&h.delete(route("area_of_concerns.forceDelete.admin",d))},et=()=>{ne.reset(),pe.value=!0},tt=()=>{ne.post(route("vendors.store.admin"),{onSuccess:()=>{ne.reset()}})},st=d=>{confirm("Are you sure you want to delete this vendor?")&&h.delete(route("vendors.destroy.admin",d))},lt=d=>{confirm("Are you sure you want to restore this vendor?")&&h.post(route("vendors.restore.admin",d))},at=d=>{confirm("Are you sure you want to permanently delete this vendor? This action cannot be undone.")&&h.delete(route("vendors.forceDelete.admin",d))},ot=d=>{const e=parseInt(d.target.value);e&&!u.area_of_concerns.includes(e)&&u.area_of_concerns.push(e),d.target.value=""},nt=d=>{u.area_of_concerns=u.area_of_concerns.filter(e=>e!==d)};function rt(d){if(d){const e=new URL(d),$=e.origin+e.pathname;h.get($,{...S.value,perPage:G.value,dateFilter:O.value,page:e.searchParams.get("page")||1})}}const ye=d=>{H.value===d?B.value=B.value==="asc"?"desc":"asc":(H.value=d,B.value="asc");const e=f.SuperAdmin?route("repair_orders.index.admin"):route("repair_orders.index",f.tenantSlug);h.get(e,{sort:H.value,direction:B.value,...S.value},{preserveState:!0})},$e=()=>{const d=f.SuperAdmin?route("repair_orders.index.admin"):route("repair_orders.index",f.tenantSlug);h.get(d,{...S.value,perPage:G.value,dateFilter:O.value})},dt=()=>{S.value={search:"",vendor_id:"",status:""},$e()},ve=d=>{O.value=d;const e=f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin");h.get(e,{...S.value,perPage:G.value,dateFilter:d})},ut=()=>{const d=f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin");h.get(d,{...S.value,perPage:G.value,dateFilter:O.value})},it=d=>{const e=d.target.files[0];if(!e)return;const $=new FormData;$.append("file",e);const W=f.SuperAdmin?route("repair_orders.import.admin"):route("repair_orders.import",f.tenantSlug);h.post(W,$,{onSuccess:()=>{D.value="Import completed successfully!",d.target.value=null},onError:a=>{console.error("Import errors:",a)}})},mt=()=>{if(f.repairOrders.data.length===0){me.value="No data available to export",setTimeout(()=>{me.value=""},3e3);return}window.location.href=f.SuperAdmin?route("repair_orders.export.admin"):route("repair_orders.export",f.tenantSlug)},K=d=>{if(!d)return"";const e=d.split("-");if(e.length!==3)return d;const[$,W,a]=e;return`${Number(W)}/${Number(a)}/${$}`},be=d=>d?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d):"$0.00",re=k(!1),ft=q(()=>"/storage/upload-data-temps/Repair Orders Template.csv"),De=q(()=>f.repairOrders.data&&f.repairOrders.data.length>0);yt(()=>{const d=e=>{re.value&&!e.target.closest(".relative")&&(re.value=!1)};document.addEventListener("click",d),bt(()=>{document.removeEventListener("click",d)})});function pt(){ie.value=!0,se.value={name:""}}function ct(){h.post(route("wo_statuses.store.admin"),se.value,{onSuccess:()=>{se.value.name="",D.value="Work order status created successfully.",setTimeout(()=>{D.value=""},3e3)}})}function vt(d){confirm("Are you sure you want to delete this work order status?")&&h.delete(route("wo_statuses.destroy.admin",d),{onSuccess:()=>{D.value="Work order status deleted successfully.",setTimeout(()=>{D.value=""},3e3)}})}function xt(d){h.post(route("wo_statuses.restore.admin",d),{},{onSuccess:()=>{D.value="Work order status restored successfully.",setTimeout(()=>{D.value=""},3e3)}})}function gt(d){confirm("Are you sure you want to permanently delete this work order status? This action cannot be undone.")&&h.delete(route("wo_statuses.forceDelete.admin",d),{onSuccess:()=>{D.value="Work order status permanently deleted.",setTimeout(()=>{D.value=""},3e3)}})}const wt=q(()=>f.canceledQSInvoices.length>0),xe=k(!1),ke=k(f.initialMinInvoiceAmount||null),Se=k(f.initialOutstandingDate||null),X=k(!1),_t=()=>{h.visit(route("repair_orders.index",{tenantSlug:f.tenantSlug,dateFilter:O.value,minInvoiceAmount:ke.value||null,outstandingDate:Se.value||null}),{preserveState:!0,preserveScroll:!0,only:["maintenanceData"]})};return(d,e)=>{const $=kt("Badge");return r(),w(At,{breadcrumbs:qe,tenantSlug:p.tenantSlug},{default:l(()=>{var W;return[s(t(ht),{title:"Repair Orders"}),o("div",Ut,[D.value?(r(),w(t(Ie),{key:0,variant:"success"},{default:l(()=>[s(t(Me),null,{default:l(()=>e[53]||(e[53]=[n("Success")])),_:1}),s(t(Re),null,{default:l(()=>[n(m(D.value),1)]),_:1})]),_:1})):c("",!0),me.value?(r(),w(t(Ie),{key:1,variant:"destructive"},{default:l(()=>[s(t(Me),null,{default:l(()=>e[54]||(e[54]=[n("Error")])),_:1}),s(t(Re),null,{default:l(()=>[n(m(me.value),1)]),_:1})]),_:1})):c("",!0),o("div",It,[e[62]||(e[62]=o("h1",{class:"text-lg font-bold md:text-xl lg:text-2xl"},"Repair Orders",-1)),o("div",Mt,[s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:Le,variant:"default"},{default:l(()=>[s(y,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),e[55]||(e[55]=n(" Create New Repair Order "))]),_:1}),I.value.length>0?(r(),w(t(x),{key:0,onClick:e[0]||(e[0]=a=>Te()),variant:"destructive"},{default:l(()=>[s(y,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),n(" Delete Selected ("+m(I.value.length)+") ",1)]),_:1})):c("",!0),p.SuperAdmin?(r(),w(t(x),{key:1,class:"px-2 py-0 md:px-4 md:py-2",onClick:Ge,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[56]||(e[56]=n(" Manage Areas of Concern "))]),_:1})):c("",!0),p.SuperAdmin?(r(),w(t(x),{key:2,class:"px-2 py-0 md:px-4 md:py-2",onClick:et,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[57]||(e[57]=n(" Manage Vendors "))]),_:1})):c("",!0),p.SuperAdmin?(r(),w(t(x),{key:3,class:"px-2 py-0 md:px-4 md:py-2",onClick:pt,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[58]||(e[58]=n(" Manage WO Statuses "))]),_:1})):c("",!0),o("div",Rt,[s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:e[1]||(e[1]=a=>re.value=!re.value),variant:"secondary"},{default:l(()=>[s(y,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),e[59]||(e[59]=n(" Upload CSV ")),s(y,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1}),re.value?(r(),i("div",qt,[o("div",zt,[o("label",Wt,[e[60]||(e[60]=o("span",null,"Upload CSV File",-1)),o("input",{type:"file",class:"hidden",onChange:it,accept:".csv"},null,32)]),o("a",{href:ft.value,download:"Repair Orders Template.csv",class:"block px-4 py-2 text-sm hover:bg-muted"}," Download Template ",8,Ft)])])):c("",!0)]),s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:de(mt,["prevent"]),variant:"outline"},{default:l(()=>[s(y,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),e[61]||(e[61]=n(" Download CSV "))]),_:1})])]),wt.value&&!p.SuperAdmin?(r(),i("div",Tt,[o("div",Bt,[o("div",jt,[o("div",Lt,[o("div",Qt,[s(y,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),o("div",Pt,[e[64]||(e[64]=o("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),o("div",Et,m(((W=f.canceledQSInvoices)==null?void 0:W.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),o("div",Yt,[s(t(x),{onClick:e[2]||(e[2]=a=>xe.value=!0),variant:"destructive",size:"sm"},{default:l(()=>e[63]||(e[63]=[n(" View Details ")])),_:1})])])])])])):c("",!0),s(t(Ce),null,{default:l(()=>[s(t(Ae),{class:"p-2 md:p-4 lg:p-6"},{default:l(()=>[o("div",Ht,[o("div",Gt,[s(t(x),{onClick:e[3]||(e[3]=a=>ve("yesterday")),variant:"outline",size:"sm",class:ue({"border-primary bg-primary/10 text-primary":O.value==="yesterday"})},{default:l(()=>e[65]||(e[65]=[n(" Yesterday ")])),_:1},8,["class"]),s(t(x),{onClick:e[4]||(e[4]=a=>ve("current-week")),variant:"outline",size:"sm",class:ue({"border-primary bg-primary/10 text-primary":O.value==="current-week"})},{default:l(()=>e[66]||(e[66]=[n(" WTD ")])),_:1},8,["class"]),s(t(x),{onClick:e[5]||(e[5]=a=>ve("6w")),variant:"outline",size:"sm",class:ue({"border-primary bg-primary/10 text-primary":O.value==="6w"})},{default:l(()=>e[67]||(e[67]=[n(" T6W ")])),_:1},8,["class"]),s(t(x),{onClick:e[6]||(e[6]=a=>ve("quarterly")),variant:"outline",size:"sm",class:ue({"border-primary bg-primary/10 text-primary":O.value==="quarterly"})},{default:l(()=>e[68]||(e[68]=[n(" Quarterly ")])),_:1},8,["class"])]),p.dateRange?(r(),i("div",Jt,[O.value==="yesterday"&&p.dateRange.start?(r(),i("span",Kt," Showing data from "+m(K(p.dateRange.start)),1)):p.dateRange.start&&p.dateRange.end?(r(),i("span",Xt," Showing data from "+m(K(p.dateRange.start))+" to "+m(K(p.dateRange.end)),1)):(r(),i("span",Zt,m(p.dateRange.label),1)),R.value?(r(),i("span",es,"("+m(R.value)+")",1)):c("",!0)])):c("",!0)])]),_:1})]),_:1}),(O.value==="quarterly"||O.value==="6w")&&!p.SuperAdmin?(r(),i("div",ts,[o("div",ss,[e[70]||(e[70]=o("div",{class:"border-b p-4"},[o("h3",{class:"text-lg font-semibold"},"Top 5 Frequent Repairs")],-1)),o("div",ls,[o("ul",as,[e[69]||(e[69]=o("div",{class:"flex items-center justify-between"},[o("span",{class:"text-sm"},"Parts:"),o("span",{class:"text-sm"},"Work Orders:")],-1)),(r(!0),i(C,null,A(Oe.value,(a,v)=>(r(),i("li",{key:v,class:"flex items-center justify-between pr-4"},[o("span",os,m(a.concern),1),s($,{variant:"outline"},{default:l(()=>[n(m(a.count),1)]),_:2},1024)]))),128)),Oe.value.length===0?(r(),i("li",ns,"No data available")):c("",!0)])])]),o("div",rs,[e[72]||(e[72]=o("div",{class:"border-b p-4"},[o("h3",{class:"text-lg font-semibold"},"Top 5 Frequently Repaired Tractors")],-1)),o("div",ds,[o("ul",us,[e[71]||(e[71]=o("div",{class:"flex items-center justify-between"},[o("span",{class:"text-sm"},"Asset ID:"),o("span",{class:"text-sm"},"Work Orders:")],-1)),(r(!0),i(C,null,A(Ve.value,(a,v)=>(r(),i("li",{key:v,class:"flex items-center justify-between pr-4"},[o("span",is,m(a.truckid),1),s($,{variant:"outline"},{default:l(()=>[n(m(a.work_order_count),1)]),_:2},1024)]))),128)),Ve.value.length===0?(r(),i("li",ms,"No data available")):c("",!0)])])])])):c("",!0),p.SuperAdmin?c("",!0):(r(),i("div",fs,[e[76]||(e[76]=o("h3",{class:"mb-4 text-lg font-semibold"},"Outstanding Invoices Filter",-1)),o("div",ps,[o("div",null,[s(t(b),{for:"min-invoice-amount"},{default:l(()=>e[73]||(e[73]=[n("Minimum Invoice Amount ($)")])),_:1}),s(t(U),{id:"min-invoice-amount",modelValue:ke.value,"onUpdate:modelValue":e[7]||(e[7]=a=>ke.value=a),type:"number",min:"0",step:"100",placeholder:"Enter minimum amount",class:"mt-1"},null,8,["modelValue"])]),o("div",null,[s(t(b),{for:"outstanding-since"},{default:l(()=>e[74]||(e[74]=[n("Outstanding Since")])),_:1}),s(t(U),{id:"outstanding-since",modelValue:Se.value,"onUpdate:modelValue":e[8]||(e[8]=a=>Se.value=a),type:"date",class:"mt-1"},null,8,["modelValue"])])]),o("div",cs,[s(t(x),{onClick:_t},{default:l(()=>e[75]||(e[75]=[n("Apply Filter")])),_:1})])])),p.outstandingInvoices&&p.outstandingInvoices.length>0?(r(),i("div",vs,[o("div",xs,[e[77]||(e[77]=o("h3",{class:"text-lg font-semibold"},"Outstanding Invoices",-1)),o("div",gs,[o("div",ws,[s($,{variant:"outline",class:"text-sm"},{default:l(()=>[n(m(p.outstandingInvoices.length)+" invoices ",1)]),_:1}),s($,{variant:"outline",class:"text-sm"},{default:l(()=>[n(" total: $"+m(ze.value.toFixed(2)),1)]),_:1})]),s(t(x),{variant:"ghost",size:"sm",onClick:e[9]||(e[9]=a=>X.value=!X.value),class:"ml-4 mt-1"},{default:l(()=>[n(m(X.value?"Hide Invoices":"Show Invoices")+" ",1),s(y,{name:X.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),X.value?(r(),i("div",_s,[o("div",ys,[o("div",bs,[s(t(Z),{class:"min-w-full"},{default:l(()=>[s(t(ee),null,{default:l(()=>[s(t(V),null,{default:l(()=>[s(t(_),null,{default:l(()=>e[78]||(e[78]=[n("RO Number")])),_:1}),s(t(_),null,{default:l(()=>e[79]||(e[79]=[n("Vendor")])),_:1}),s(t(_),null,{default:l(()=>e[80]||(e[80]=[n("Week")])),_:1}),s(t(_),{class:"text-right"},{default:l(()=>e[81]||(e[81]=[n("Amount")])),_:1})]),_:1})]),_:1}),s(t(te),null,{default:l(()=>[(r(!0),i(C,null,A(p.outstandingInvoices,a=>(r(),w(t(V),{key:a.ro_number},{default:l(()=>[s(t(g),null,{default:l(()=>[n(m(a.ro_number),1)]),_:2},1024),s(t(g),null,{default:l(()=>[n(m(a.vendor_name),1)]),_:2},1024),s(t(g),null,{default:l(()=>[n("W"+m(a.week_number)+"/"+m(a.year),1)]),_:2},1024),s(t(g),{class:"text-right"},{default:l(()=>[n(m(be(a.invoice_amount)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):c("",!0)])):X.value?(r(),i("div",ks,e[82]||(e[82]=[o("div",{class:"border-b p-4"},[o("h3",{class:"text-lg font-semibold"},"Outstanding Invoices")],-1),o("div",{class:"p-4 text-center text-muted-foreground"},"No outstanding invoices match the current criteria",-1)]))):c("",!0),s(t(Ce),null,{default:l(()=>[s(t(St),{class:"p-2 md:p-4 lg:p-6"},{default:l(()=>{var a,v;return[o("div",Ss,[o("div",Cs,[s(t(Ct),{class:"text-lg md:text-xl lg:text-2xl"},{default:l(()=>e[83]||(e[83]=[n("Filters")])),_:1}),!J.value&&(S.value.search||S.value.vendor_id||S.value.status)?(r(),i("div",As,[S.value.search?(r(),i("span",hs,"Search: "+m(S.value.search),1)):c("",!0),S.value.vendor_id?(r(),i("span",Os,"Vendor: "+m(((a=p.vendors.find(M=>M.id==S.value.vendor_id))==null?void 0:a.vendor_name)||S.value.vendor_id),1)):c("",!0),S.value.status_id?(r(),i("span",Vs," Status: "+m(((v=p.woStatuses.find(M=>M.id==S.value.status_id))==null?void 0:v.name)||S.value.status_id),1)):c("",!0)])):c("",!0)]),s(t(x),{variant:"ghost",size:"sm",onClick:e[10]||(e[10]=M=>J.value=!J.value)},{default:l(()=>[n(m(J.value?"Hide Filters":"Show Filters")+" ",1),s(y,{name:J.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]}),_:1}),J.value?(r(),w(t(Ae),{key:0,class:"p-2 md:p-4 lg:p-6"},{default:l(()=>[o("div",$s,[o("div",Ds,[o("div",null,[s(t(b),{for:"search"},{default:l(()=>e[84]||(e[84]=[n("Search")])),_:1}),s(t(U),{class:"h-9 px-1 py-1 md:px-2 md:py-1 lg:h-10 lg:px-3 lg:py-2",id:"search",modelValue:S.value.search,"onUpdate:modelValue":e[11]||(e[11]=a=>S.value.search=a),type:"text",placeholder:"Search by RO#, Invoice, WO#..."},null,8,["modelValue"])]),o("div",null,[s(t(b),{for:"vendor_filter"},{default:l(()=>e[85]||(e[85]=[n("Vendor")])),_:1}),N(o("select",{id:"vendor_filter","onUpdate:modelValue":e[12]||(e[12]=a=>S.value.vendor_id=a),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[86]||(e[86]=o("option",{value:""},"All Vendors",-1)),(r(!0),i(C,null,A(p.vendors,a=>(r(),i("option",{key:a.id,value:a.id},[n(m(a.vendor_name)+" ",1),a.deleted_at?(r(),i("span",Us,"(Deleted)")):c("",!0)],8,Ns))),128))],512),[[z,S.value.vendor_id]])]),o("div",null,[s(t(b),{for:"status_filter"},{default:l(()=>e[87]||(e[87]=[n("Status")])),_:1}),N(o("select",{id:"status_filter","onUpdate:modelValue":e[13]||(e[13]=a=>S.value.status_id=a),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[88]||(e[88]=o("option",{value:""},"All Statuses",-1)),(r(!0),i(C,null,A(p.woStatuses,a=>(r(),i("option",{key:a.id,value:a.id},[n(m(a.name)+" ",1),a.deleted_at?(r(),i("span",Ms,"(Deleted)")):c("",!0)],8,Is))),128))],512),[[z,S.value.status_id]])])]),o("div",Rs,[s(t(x),{onClick:dt,variant:"ghost",size:"sm"},{default:l(()=>[s(y,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),e[89]||(e[89]=n(" Reset Filters "))]),_:1}),s(t(x),{onClick:$e,variant:"default",size:"sm"},{default:l(()=>[s(y,{name:"filter",class:"mr-2 h-4 w-4"}),e[90]||(e[90]=n(" Apply Filters "))]),_:1})])])]),_:1})):c("",!0)]),_:1}),De.value?c("",!0):(r(),i("div",qs,[s(y,{name:"database-x",class:"mb-4 h-16 w-16 text-muted-foreground"}),e[91]||(e[91]=o("h2",{class:"text-center text-2xl font-bold text-muted-foreground"},"There is No Data to give Information about.",-1))])),De.value?(r(),w(t(Ce),{key:8,class:"mx-auto max-w-[95vw] overflow-x-auto md:max-w-[64vw] lg:max-w-full"},{default:l(()=>[s(t(Ae),{class:"p-0"},{default:l(()=>[o("div",zs,[s(t(Z),{class:"relative h-[600px] overflow-auto"},{default:l(()=>[s(t(ee),null,{default:l(()=>[s(t(V),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:l(()=>[s(t(_),{class:"w-[50px]"},{default:l(()=>[o("div",Ws,[o("input",{type:"checkbox",onChange:Fe,checked:We.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Fs)])]),_:1}),s(t(_),{class:"cursor-pointer whitespace-nowrap",onClick:e[14]||(e[14]=a=>ye("ro_number"))},{default:l(()=>[o("div",Ts,[e[92]||(e[92]=n(" RO# ")),s(he,{column:"ro_number",sortColumn:H.value,sortDirection:B.value},null,8,["sortColumn","sortDirection"])])]),_:1}),p.SuperAdmin?(r(),w(t(_),{key:0,class:"whitespace-nowrap"},{default:l(()=>e[93]||(e[93]=[n("Company Name")])),_:1})):c("",!0),s(t(_),{class:"cursor-pointer whitespace-nowrap",onClick:e[15]||(e[15]=a=>ye("ro_open_date"))},{default:l(()=>[o("div",Bs,[e[94]||(e[94]=n(" Open Date ")),s(he,{column:"ro_open_date",sortColumn:H.value,sortDirection:B.value},null,8,["sortColumn","sortDirection"])])]),_:1}),s(t(_),{class:"cursor-pointer whitespace-nowrap",onClick:e[16]||(e[16]=a=>ye("ro_close_date"))},{default:l(()=>[o("div",js,[e[95]||(e[95]=n(" Close Date ")),s(he,{column:"ro_close_date",sortColumn:H.value,sortDirection:B.value},null,8,["sortColumn","sortDirection"])])]),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[96]||(e[96]=[n("Truck")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[97]||(e[97]=[n("Vendor")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[98]||(e[98]=[n("Areas of Concern")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[99]||(e[99]=[n("WO#")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[100]||(e[100]=[n("WO Status")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[101]||(e[101]=[n("Invoice")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[102]||(e[102]=[n("Invoice Amount")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[103]||(e[103]=[n("Invoice Received")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[104]||(e[104]=[n("On QS")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[105]||(e[105]=[n("QS Invoice Date")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[106]||(e[106]=[n("Disputed")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[107]||(e[107]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(te),null,{default:l(()=>[p.repairOrders.data.length===0?(r(),w(t(V),{key:0},{default:l(()=>[s(t(g),{colspan:p.SuperAdmin?16:15,class:"py-8 text-center"},{default:l(()=>e[108]||(e[108]=[n(" No repair orders found. ")])),_:1},8,["colspan"])]),_:1})):c("",!0),(r(!0),i(C,null,A(p.repairOrders.data,a=>(r(),w(t(V),{key:a.id,class:"hover:bg-muted/50"},{default:l(()=>[s(t(g),{class:"text-center"},{default:l(()=>[N(o("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[17]||(e[17]=v=>I.value=v),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,Ls),[[Ne,I.value]])]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.ro_number),1)]),_:2},1024),p.SuperAdmin?(r(),w(t(g),{key:0,class:"whitespace-nowrap"},{default:l(()=>{var v;return[n(m(((v=a.tenant)==null?void 0:v.name)??"—"),1)]}),_:2},1024)):c("",!0),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(K(a.ro_open_date)),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.ro_close_date?K(a.ro_close_date):"N/A"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v;return[n(m(((v=a.truck)==null?void 0:v.truckid)??"—"),1)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v,M;return[n(m(((v=a.vendor)==null?void 0:v.vendor_name)??"—")+" ",1),(M=a.vendor)!=null&&M.deleted_at?(r(),i("span",Qs,"(Deleted)")):c("",!0)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a.areas_of_concern&&a.areas_of_concern.length>0?(r(),i("div",Ps,[(r(!0),i(C,null,A(a.areas_of_concern,(v,M)=>(r(),i("span",{key:v.id,class:"inline-block"},[n(m(v.concern)+" ",1),v.deleted_at?(r(),i("span",Es,"(Deleted)")):c("",!0),M<a.areas_of_concern.length-1?(r(),i("span",Ys,", ")):c("",!0)]))),128))])):(r(),i("span",Hs,"—"))]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.wo_number),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v;return[n(m(((v=a.wo_status)==null?void 0:v.name)||"—"),1)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.invoice),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(be(a.invoice_amount)),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.invoice_received?"Yes":"No"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.on_qs?a.on_qs.charAt(0).toUpperCase()+a.on_qs.slice(1):"No"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.qs_invoice_date?K(a.qs_invoice_date):"N/A"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(a.disputed?"Yes":"No"),1)]),_:2},1024),s(t(g),null,{default:l(()=>[o("div",Gs,[s(t(x),{onClick:v=>Qe(a),variant:"warning",size:"sm"},{default:l(()=>[s(y,{name:"pencil",class:"mr-1 h-4 w-4"}),e[109]||(e[109]=n(" Edit "))]),_:2},1032,["onClick"]),s(t(x),{onClick:v=>Ye(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"mr-1 h-4 w-4"}),e[110]||(e[110]=n(" Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),p.repairOrders.links?(r(),i("div",Js,[o("div",Ks,[o("div",Xs,"Showing "+m(p.repairOrders.data.length)+" entries",1),o("div",Zs,[o("div",el,[s(t(b),{for:"perPage",class:"text-sm"},{default:l(()=>e[111]||(e[111]=[n("Per page:")])),_:1}),N(o("select",{id:"perPage","onUpdate:modelValue":e[18]||(e[18]=a=>G.value=a),onChange:ut,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[112]||(e[112]=[o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1),o("option",{value:"100"},"100",-1)]),544),[[z,G.value]])]),o("div",tl,[(r(!0),i(C,null,A(p.repairOrders.links,a=>(r(),w(t(x),{key:a.label,onClick:v=>rt(a.url),disabled:!a.url,variant:"ghost",size:"sm",class:ue(["mx-1",{"border-primary bg-primary/10 text-primary":a.active}])},{default:l(()=>[o("span",{innerHTML:a.label},null,8,sl)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):c("",!0)]),_:1})]),_:1})):c("",!0),s(t(j),{open:F.value,"onUpdate:open":e[36]||(e[36]=a=>F.value=a)},{default:l(()=>[s(t(L),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:l(()=>[s(t(Q),{class:"px-4 sm:px-6"},{default:l(()=>[s(t(P),{class:"text-lg sm:text-xl"},{default:l(()=>[n(m(_e.value),1)]),_:1}),s(t(E),{class:"text-xs sm:text-sm"},{default:l(()=>[n(" Fill in the details to "+m(T.value.toLowerCase())+" a repair order. ",1)]),_:1})]),_:1}),o("form",{onSubmit:de(Ee,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-2 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-3 sm:p-6"},[p.SuperAdmin?(r(),i("div",ll,[s(t(b),{for:"tenant",class:"text-xs sm:text-sm"},{default:l(()=>e[113]||(e[113]=[n("Company Name")])),_:1}),o("div",al,[N(o("select",{id:"tenant","onUpdate:modelValue":e[19]||(e[19]=a=>t(u).tenant_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[114]||(e[114]=o("option",{disabled:"",value:""},"Select a tenant",-1)),(r(!0),i(C,null,A(p.tenants,a=>(r(),i("option",{key:a.id,value:a.id},m(a.name),9,ol))),128))],512),[[z,t(u).tenant_id]]),e[115]||(e[115]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):c("",!0),o("div",nl,[s(t(b),{for:"ro_number",class:"text-xs sm:text-sm"},{default:l(()=>e[116]||(e[116]=[n("RO#")])),_:1}),s(t(U),{id:"ro_number",modelValue:t(u).ro_number,"onUpdate:modelValue":e[20]||(e[20]=a=>t(u).ro_number=a),type:"text",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",rl,[s(t(b),{for:"ro_open_date",class:"text-xs sm:text-sm"},{default:l(()=>e[117]||(e[117]=[n("RO Open Date")])),_:1}),s(t(U),{id:"ro_open_date",modelValue:t(u).ro_open_date,"onUpdate:modelValue":e[21]||(e[21]=a=>t(u).ro_open_date=a),type:"date",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",dl,[s(t(b),{for:"ro_close_date",class:"text-xs sm:text-sm"},{default:l(()=>e[118]||(e[118]=[n("RO Close Date")])),_:1}),s(t(U),{id:"ro_close_date",modelValue:t(u).ro_close_date,"onUpdate:modelValue":e[22]||(e[22]=a=>t(u).ro_close_date=a),type:"date",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",ul,[s(t(b),{for:"truck_id",class:"text-xs sm:text-sm"},{default:l(()=>e[119]||(e[119]=[n("Truck")])),_:1}),o("div",il,[N(o("select",{id:"truck_id","onUpdate:modelValue":e[23]||(e[23]=a=>t(u).truck_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[120]||(e[120]=o("option",{disabled:"",value:""},"Select a truck",-1)),(r(!0),i(C,null,A(p.trucks,a=>(r(),i("option",{key:a.id,value:a.id},m(a.truckid),9,ml))),128))],512),[[z,t(u).truck_id]]),e[121]||(e[121]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",fl,[s(t(b),{for:"area_of_concerns",class:"text-xs sm:text-sm"},{default:l(()=>e[122]||(e[122]=[n("Areas Of Concern")])),_:1}),o("div",pl,[o("div",cl,[(r(!0),i(C,null,A(t(u).area_of_concerns,a=>{var v,M;return r(),i("div",{key:a,class:"flex items-center rounded-md bg-primary/10 px-1.5 py-0.5 text-xs text-primary sm:px-2 sm:py-1 sm:text-sm"},[n(m((v=p.areasOfConcern.find(ge=>ge.id===a))==null?void 0:v.concern)+" ",1),(M=p.areasOfConcern.find(ge=>ge.id===a))!=null&&M.deleted_at?(r(),i("span",vl,"(Deleted)")):c("",!0),o("button",{type:"button",onClick:ge=>nt(a),class:"ml-0.5 text-primary hover:text-primary/80 sm:ml-1"},[s(y,{name:"x",class:"h-2.5 w-2.5 sm:h-3 sm:w-3"})],8,xl)])}),128))]),o("div",gl,[o("select",{id:"area_of_concerns_select",onChange:e[24]||(e[24]=a=>ot(a)),class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[123]||(e[123]=o("option",{value:""},"Select an area of concern to add",-1)),(r(!0),i(C,null,A(je.value,a=>(r(),i("option",{key:a.id,value:a.id,disabled:a.deleted_at},m(a.concern)+" "+m(a.deleted_at?"(Deleted)":""),9,wl))),128))],32),e[124]||(e[124]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),o("div",_l,[s(t(b),{for:"repairs_made",class:"text-xs sm:text-sm"},{default:l(()=>e[125]||(e[125]=[n("Repairs Made")])),_:1}),N(o("textarea",{id:"repairs_made","onUpdate:modelValue":e[25]||(e[25]=a=>t(u).repairs_made=a),class:"mt-1 flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-1.5 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:min-h-[80px] sm:text-sm"},null,512),[[Ue,t(u).repairs_made]])]),o("div",yl,[s(t(b),{for:"vendor_id",class:"text-xs sm:text-sm"},{default:l(()=>e[126]||(e[126]=[n("Vendor")])),_:1}),o("div",bl,[N(o("select",{id:"vendor_id","onUpdate:modelValue":e[26]||(e[26]=a=>t(u).vendor_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[127]||(e[127]=o("option",{disabled:"",value:""},"Select a vendor",-1)),(r(!0),i(C,null,A(p.vendors,a=>(r(),i("option",{key:a.id,value:a.id,disabled:a.deleted_at},m(a.vendor_name)+" "+m(a.deleted_at?"(Deleted)":""),9,kl))),128))],512),[[z,t(u).vendor_id]]),e[128]||(e[128]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",Sl,[s(t(b),{for:"wo_number",class:"text-xs sm:text-sm"},{default:l(()=>e[129]||(e[129]=[n("WO#")])),_:1}),s(t(U),{id:"wo_number",modelValue:t(u).wo_number,"onUpdate:modelValue":e[27]||(e[27]=a=>t(u).wo_number=a),type:"text",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",Cl,[s(t(b),{for:"wo_status_id",class:"text-xs sm:text-sm"},{default:l(()=>e[130]||(e[130]=[n("WO Status")])),_:1}),o("div",Al,[N(o("select",{id:"wo_status_id","onUpdate:modelValue":e[28]||(e[28]=a=>t(u).wo_status_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[131]||(e[131]=o("option",{disabled:"",value:""},"Select status",-1)),(r(!0),i(C,null,A(p.woStatuses,a=>(r(),i("option",{key:a.id,value:a.id,disabled:a.deleted_at},m(a.name)+" "+m(a.deleted_at?"(Deleted)":""),9,hl))),128))],512),[[z,t(u).wo_status_id]]),e[132]||(e[132]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",Ol,[s(t(b),{for:"invoice",class:"text-xs sm:text-sm"},{default:l(()=>e[133]||(e[133]=[n("Invoice")])),_:1}),s(t(U),{id:"invoice",modelValue:t(u).invoice,"onUpdate:modelValue":e[29]||(e[29]=a=>t(u).invoice=a),type:"text",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",Vl,[s(t(b),{for:"invoice_amount",class:"text-xs sm:text-sm"},{default:l(()=>e[134]||(e[134]=[n("Invoice Amount")])),_:1}),s(t(U),{id:"invoice_amount",modelValue:t(u).invoice_amount,"onUpdate:modelValue":e[30]||(e[30]=a=>t(u).invoice_amount=a),type:"number",step:"0.01",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),o("div",$l,[s(t(b),{for:"invoice_received",class:"text-xs sm:text-sm"},{default:l(()=>e[135]||(e[135]=[n("Invoice Received")])),_:1}),o("div",Dl,[N(o("input",{id:"invoice_received","onUpdate:modelValue":e[31]||(e[31]=a=>t(u).invoice_received=a),type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary sm:h-4 sm:w-4"},null,512),[[Ne,t(u).invoice_received]]),e[136]||(e[136]=o("label",{for:"invoice_received",class:"text-xs sm:text-sm"},"Yes",-1))])]),o("div",Nl,[s(t(b),{for:"on_qs",class:"text-xs sm:text-sm"},{default:l(()=>e[137]||(e[137]=[n("On QS")])),_:1}),o("div",Ul,[N(o("select",{id:"on_qs","onUpdate:modelValue":e[32]||(e[32]=a=>t(u).on_qs=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},e[138]||(e[138]=[o("option",{value:"yes"},"Yes",-1),o("option",{value:"no"},"No",-1),o("option",{value:"not expected"},"Not Expected",-1)]),512),[[z,t(u).on_qs]]),e[139]||(e[139]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",Il,[s(t(b),{for:"qs_invoice_date",class:"text-xs sm:text-sm"},{default:l(()=>e[140]||(e[140]=[n("QS Invoice Date")])),_:1}),s(t(U),{id:"qs_invoice_date",modelValue:t(u).qs_invoice_date,"onUpdate:modelValue":e[33]||(e[33]=a=>t(u).qs_invoice_date=a),type:"date",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),T.value==="Update"?(r(),i("div",Ml,[s(t(b),{for:"disputed",class:"text-xs sm:text-sm"},{default:l(()=>e[141]||(e[141]=[n("Disputed?")])),_:1}),o("div",Rl,[N(o("select",{id:"disputed","onUpdate:modelValue":e[34]||(e[34]=a=>t(u).disputed=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},e[142]||(e[142]=[o("option",{value:!0},"Yes",-1),o("option",{value:!1},"No",-1)]),512),[[z,t(u).disputed]]),e[143]||(e[143]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[o("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):c("",!0),T.value==="Update"?(r(),i("div",ql,[s(t(b),{for:"dispute_outcome",class:"text-xs sm:text-sm"},{default:l(()=>e[144]||(e[144]=[n("Dispute Outcome")])),_:1}),N(o("textarea",{id:"dispute_outcome","onUpdate:modelValue":e[35]||(e[35]=a=>t(u).dispute_outcome=a),class:"mt-1 flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-1.5 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:min-h-[80px] sm:text-sm"},null,512),[[Ue,t(u).dispute_outcome]])])):c("",!0),s(t(Y),{class:"col-span-2 mt-3 flex flex-col gap-2 sm:flex-row sm:gap-3"},{default:l(()=>[s(t(x),{type:"button",onClick:Pe,variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>e[145]||(e[145]=[n("Cancel")])),_:1}),s(t(x),{type:"submit",variant:"default",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>[n(m(T.value),1)]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),s(t(j),{open:le.value,"onUpdate:open":e[38]||(e[38]=a=>le.value=a)},{default:l(()=>[s(t(L),{class:"max-w-[95vw] sm:max-w-[425px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(P),null,{default:l(()=>e[146]||(e[146]=[n("Confirm Deletion")])),_:1}),s(t(E),{class:"text-sm sm:text-base"},{default:l(()=>e[147]||(e[147]=[n(" Are you sure you want to delete this repair order? This action cannot be undone. ")])),_:1})]),_:1}),s(t(Y),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{type:"button",onClick:e[37]||(e[37]=a=>le.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[148]||(e[148]=[n("Cancel")])),_:1}),s(t(x),{type:"button",onClick:He,variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>e[149]||(e[149]=[n("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(j),{open:fe.value,"onUpdate:open":e[41]||(e[41]=a=>fe.value=a)},{default:l(()=>[s(t(L),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(P),null,{default:l(()=>e[150]||(e[150]=[n("Manage Areas of Concern")])),_:1}),s(t(E),{class:"text-sm sm:text-base"},{default:l(()=>e[151]||(e[151]=[n(" Add or remove areas of concern for repair orders. ")])),_:1})]),_:1}),o("div",zl,[o("form",{onSubmit:de(Je,["prevent"]),class:"space-y-3 sm:space-y-4"},[o("div",Wl,[s(t(b),{for:"concern"},{default:l(()=>e[152]||(e[152]=[n("Area of Concern")])),_:1}),s(t(U),{id:"concern",modelValue:t(oe).concern,"onUpdate:modelValue":e[39]||(e[39]=a=>t(oe).concern=a),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[153]||(e[153]=[n("Add Area of Concern")])),_:1})],32),o("div",Fl,[o("div",Tl,[s(t(Z),null,{default:l(()=>[s(t(ee),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(V),null,{default:l(()=>[s(t(_),{class:"text-xs sm:text-sm"},{default:l(()=>e[154]||(e[154]=[n("Area of Concern")])),_:1}),s(t(_),{class:"w-20 text-xs sm:text-sm"},{default:l(()=>e[155]||(e[155]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(te),null,{default:l(()=>[p.areasOfConcern.length===0?(r(),w(t(V),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[156]||(e[156]=[n("No areas of concern found.")])),_:1})]),_:1})):c("",!0),(r(!0),i(C,null,A(p.areasOfConcern,a=>(r(),w(t(V),{key:a.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(a.concern)+" ",1),a.deleted_at?(r(),i("span",Bl,"(Deleted)")):c("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[o("div",jl,[a.deleted_at?(r(),w(t(x),{key:0,onClick:v=>Xe(a.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):c("",!0),a.deleted_at?c("",!0):(r(),w(t(x),{key:1,onClick:v=>Ke(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),a.deleted_at?(r(),w(t(x),{key:2,onClick:v=>Ze(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):c("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(Y),null,{default:l(()=>[s(t(x),{onClick:e[40]||(e[40]=a=>fe.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[157]||(e[157]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(j),{open:pe.value,"onUpdate:open":e[44]||(e[44]=a=>pe.value=a)},{default:l(()=>[s(t(L),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(P),null,{default:l(()=>e[158]||(e[158]=[n("Manage Vendors")])),_:1}),s(t(E),{class:"text-sm sm:text-base"},{default:l(()=>e[159]||(e[159]=[n(" Add or remove vendors for repair orders. ")])),_:1})]),_:1}),o("div",Ll,[o("form",{onSubmit:de(tt,["prevent"]),class:"space-y-3 sm:space-y-4"},[o("div",Ql,[s(t(b),{for:"vendor_name"},{default:l(()=>e[160]||(e[160]=[n("Vendor Name")])),_:1}),s(t(U),{id:"vendor_name",modelValue:t(ne).vendor_name,"onUpdate:modelValue":e[42]||(e[42]=a=>t(ne).vendor_name=a),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[161]||(e[161]=[n("Add Vendor")])),_:1})],32),o("div",Pl,[o("div",El,[s(t(Z),null,{default:l(()=>[s(t(ee),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(V),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[s(t(_),{class:"text-xs sm:text-sm"},{default:l(()=>e[162]||(e[162]=[n("Vendor Name")])),_:1}),s(t(_),{class:"text-xs sm:text-sm"},{default:l(()=>e[163]||(e[163]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(te),null,{default:l(()=>[p.vendors.length===0?(r(),w(t(V),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[164]||(e[164]=[n("No vendors found.")])),_:1})]),_:1})):c("",!0),(r(!0),i(C,null,A(p.vendors,a=>(r(),w(t(V),{key:a.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(a.vendor_name)+" ",1),a.deleted_at?(r(),i("span",Yl,"(Deleted)")):c("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[o("div",Hl,[a.deleted_at?(r(),w(t(x),{key:0,onClick:v=>lt(a.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):c("",!0),a.deleted_at?c("",!0):(r(),w(t(x),{key:1,onClick:v=>st(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),a.deleted_at?(r(),w(t(x),{key:2,onClick:v=>at(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):c("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(Y),null,{default:l(()=>[s(t(x),{onClick:e[43]||(e[43]=a=>pe.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[165]||(e[165]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(j),{open:ae.value,"onUpdate:open":e[47]||(e[47]=a=>ae.value=a)},{default:l(()=>[s(t(L),{class:"max-w-[95vw] sm:max-w-[425px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(P),null,{default:l(()=>e[166]||(e[166]=[n("Confirm Bulk Deletion")])),_:1}),s(t(E),{class:"text-sm sm:text-base"},{default:l(()=>[n(" Are you sure you want to delete "+m(I.value.length)+" repair orders? This action cannot be undone. ",1)]),_:1})]),_:1}),s(t(Y),{class:"mt-4 flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{type:"button",onClick:e[45]||(e[45]=a=>ae.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[167]||(e[167]=[n(" Cancel ")])),_:1}),s(t(x),{type:"button",onClick:e[46]||(e[46]=a=>Be()),variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>e[168]||(e[168]=[n(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(j),{open:ie.value,"onUpdate:open":e[50]||(e[50]=a=>ie.value=a)},{default:l(()=>[s(t(L),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(P),null,{default:l(()=>e[169]||(e[169]=[n("Manage Work Order Statuses")])),_:1}),s(t(E),{class:"text-sm sm:text-base"},{default:l(()=>e[170]||(e[170]=[n(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),o("div",Gl,[o("form",{onSubmit:de(ct,["prevent"]),class:"space-y-3 sm:space-y-4"},[o("div",Jl,[s(t(b),{for:"status_name"},{default:l(()=>e[171]||(e[171]=[n("Status Name")])),_:1}),s(t(U),{id:"status_name",modelValue:se.value.name,"onUpdate:modelValue":e[48]||(e[48]=a=>se.value.name=a),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[172]||(e[172]=[n("Add Work Order Status")])),_:1})],32),o("div",Kl,[o("div",Xl,[s(t(Z),null,{default:l(()=>[s(t(ee),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(V),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[s(t(_),{class:"text-xs sm:text-sm"},{default:l(()=>e[173]||(e[173]=[n("Status Name")])),_:1}),s(t(_),{class:"text-xs sm:text-sm"},{default:l(()=>e[174]||(e[174]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(te),null,{default:l(()=>[p.woStatuses.length===0?(r(),w(t(V),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[175]||(e[175]=[n("No work order statuses found.")])),_:1})]),_:1})):c("",!0),(r(!0),i(C,null,A(p.woStatuses,a=>(r(),w(t(V),{key:a.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(a.name)+" ",1),a.deleted_at?(r(),i("span",Zl,"(Deleted)")):c("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[o("div",ea,[a.deleted_at?(r(),w(t(x),{key:0,onClick:v=>xt(a.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):c("",!0),a.deleted_at?c("",!0):(r(),w(t(x),{key:1,onClick:v=>vt(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),a.deleted_at?(r(),w(t(x),{key:2,onClick:v=>gt(a.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):c("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(Y),null,{default:l(()=>[s(t(x),{onClick:e[49]||(e[49]=a=>ie.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[176]||(e[176]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),s(t(j),{open:xe.value,"onUpdate:open":e[52]||(e[52]=a=>xe.value=a)},{default:l(()=>[s(t(L),{class:"max-h-[90vh] max-w-[95vw] overflow-y-auto md:max-w-[80vw] lg:max-w-4xl"},{default:l(()=>{var a;return[s(t(Q),null,{default:l(()=>[s(t(P),{class:"flex items-center gap-2 text-lg md:text-xl"},{default:l(()=>[s(y,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),e[177]||(e[177]=n(" Canceled Invoices on QS "))]),_:1}),s(t(E),null,{default:l(()=>e[178]||(e[178]=[n(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),o("div",ta,[(a=f.canceledQSInvoices)!=null&&a.length?(r(),w(t(Z),{key:0},{default:l(()=>[s(t(ee),null,{default:l(()=>[s(t(V),null,{default:l(()=>[s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[179]||(e[179]=[n("RO Number")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[180]||(e[180]=[n("Vendor")])),_:1}),s(t(_),{class:"whitespace-nowrap text-right"},{default:l(()=>e[181]||(e[181]=[n("Amount")])),_:1}),s(t(_),{class:"whitespace-nowrap"},{default:l(()=>e[182]||(e[182]=[n("Week")])),_:1})]),_:1})]),_:1}),s(t(te),null,{default:l(()=>[(r(!0),i(C,null,A(f.canceledQSInvoices,v=>(r(),w(t(V),{key:v.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:l(()=>[s(t(g),{class:"font-medium"},{default:l(()=>[o("div",sa,[s(y,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),n(" "+m(v.ro_number),1)])]),_:2},1024),s(t(g),null,{default:l(()=>[n(m(v.vendor_name),1)]),_:2},1024),s(t(g),{class:"text-right"},{default:l(()=>[n(m(be(v.invoice_amount)),1)]),_:2},1024),s(t(g),null,{default:l(()=>[n("W"+m(v.week_number)+"/"+m(v.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),i("div",la,"No canceled QS invoices found."))]),s(t(Y),{class:"mt-4 flex flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{onClick:e[51]||(e[51]=v=>xe.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[183]||(e[183]=[n("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])]}),_:1},8,["tenantSlug"])}}},ha=Ot(aa,[["__scopeId","data-v-3b9acb5a"]]);export{ha as default};
