import{r as w,c as Y,w as Ve,b,e as u,f as n,z as l,X as r,u as a,E as x,F as f,S as o,U as c,C as R,H as h,O as C,Y as Q,G as te,aj as k,ai as De}from"./vendor-DrR5RGOb.js";import{_ as z}from"./Icon.vue_vue_type_script_setup_true_lang-C19RfzLR.js";import{_ as Ee,a as Ue,b as J,c as L,d as Fe,e as U}from"./TableRow.vue_vue_type_script_setup_true_lang-Ch0lDg94.js";import{_ as g}from"./Button.vue_vue_type_script_setup_true_lang-B9WZ-5fZ.js";import{_ as ae}from"./Card.vue_vue_type_script_setup_true_lang-BDqXYs3O.js";import{_ as le}from"./CardContent.vue_vue_type_script_setup_true_lang-B7wYZRrP.js";import{d as ne,_ as re,a as se,b as ie,c as de}from"./DialogDescription.vue_vue_type_script_setup_true_lang-5xvj-rV5.js";import{_ as oe}from"./DialogFooter.vue_vue_type_script_setup_true_lang-NVpKV1tK.js";import{_ as N}from"./Label.vue_vue_type_script_setup_true_lang-G5SND9_d.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-CfJsKr1D.js";import{b as ue,_ as me,a as fe}from"./AlertDescription.vue_vue_type_script_setup_true_lang-BGsFFXsR.js";import{_ as Me}from"./AppLayout.vue_vue_type_script_setup_true_lang-B8lustj2.js";import{x as B,g as Te,W as K}from"./vendor-vue-BInP8APy.js";import Pe from"./SafetySummary-COS4KVrp.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-u708RIqT.js";import"./vendor-icons-CZvmGlJ0.js";import"./vendor-ui-iQj4qE_J.js";import"./app-DPORu6Cw.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DZucapxj.js";const We={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},Re={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6"},Le={class:"flex flex-wrap gap-3 ml-3"},Be={key:1,class:"flex items-center gap-2"},Ie=["value"],Oe={class:"flex items-center gap-2"},qe={class:"cursor-pointer"},He={class:"flex flex-col items-center md:items-start gap-2"},Xe={class:"flex flex-wrap gap-1 md:gap-2"},Ge={class:"flex items-center justify-between"},Ye={key:0,class:"text-sm text-muted-foreground"},Qe={key:0},Je={key:1},Ke={key:2},Ze={key:3,class:"ml-1"},et={key:2,class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},tt={key:3},at={class:"overflow-x-auto border-t border-border bg-background dark:bg-background"},lt={class:"flex items-center justify-center"},nt=["checked"],rt=["value"],st={class:"flex space-x-2"},it={key:0,class:"border-t bg-muted/20 px-4 py-3"},dt={class:"flex flex-col sm:flex-row justify-between items-center gap-2"},ot={class:"text-sm text-muted-foreground"},ut={class:"flex flex-col sm:flex-row items-center gap-2 sm:gap-4 w-full sm:w-auto"},mt={class:"flex items-center gap-2"},ft={class:"flex flex-wrap"},ct=["innerHTML"],pt={key:0,class:"col-span-full"},gt={class:"relative"},vt=["value"],yt={class:"col-span-full"},_t={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3"},bt={__name:"Safety",props:{entries:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:String,SuperAdmin:Boolean,tenants:Array,dateRange:Object,dateFilter:{type:String,default:"yesterday"},safetyData:{type:Object,default:()=>({})},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null}},setup(m){const s=m;console.log(s.entries.data.length);const M=w(""),$=w(""),A=w(!1),I=w("Create Entry"),V=w("Create"),O=w(null),y=w(s.dateFilter||"full"),D=w(10),_=w([]),E=w(!1),v=w(!1),ce=[{title:s.tenantSlug?"Dashboard":"Admin Dashboard",href:s.tenantSlug?route("dashboard",{tenantSlug:s.tenantSlug}):route("admin.dashboard")},{title:"Safety",href:s.tenantSlug?route("safety.index",{tenantSlug:s.tenantSlug}):route("safety.index.admin")}];function pe(){v.value=!v.value}const Z=Y(()=>(y.value==="yesterday"||y.value==="current-week")&&s.weekNumber&&s.year?`Week ${s.weekNumber}, ${s.year}`:(y.value==="6w"||y.value==="quarterly")&&s.startWeekNumber&&s.endWeekNumber&&s.year?`Weeks ${s.startWeekNumber}-${s.endWeekNumber}, ${s.year}`:""),T={driver_name:"text",user_name:"text",group:"text",group_hierarchy:"text",minutes_analyzed:"decimal",green_minutes_percent:"decimal",overspeeding_percent:"decimal",driver_score:"decimal",total_events_avg_fd_impact:"decimal",average_following_distance_sec:"decimal",average_following_distance_gz_impact:"decimal",total_events:"decimal",high_g:"decimal",low_impact:"decimal",driver_initiated:"decimal",potential_collision:"decimal",sign_violations:"decimal",sign_violations_gz_impact:"decimal",traffic_light_violation:"decimal",traffic_light_violation_gz_impact:"decimal",u_turn:"decimal",u_turn_gz_impact:"decimal",hard_braking:"decimal",hard_braking_gz_impact:"decimal",hard_turn:"decimal",hard_turn_gz_impact:"decimal",hard_acceleration:"decimal",hard_acceleration_gz_impact:"decimal",driver_distraction:"decimal",driver_distraction_gz_impact:"decimal",following_distance:"decimal",following_distance_gz_impact:"decimal",speeding_violations:"decimal",speeding_violations_gz_impact:"decimal",seatbelt_compliance:"decimal",camera_obstruction:"decimal",driver_drowsiness:"decimal",weaving:"decimal",weaving_gz_impact:"decimal",collision_warning:"decimal",collision_warning_gz_impact:"decimal",requested_video:"decimal",backing:"decimal",roadside_parking:"decimal",driver_distracted_hard_brake:"decimal",following_distance_hard_brake:"decimal",driver_distracted_following_distance:"decimal",driver_star:"decimal",driver_star_gz_impact:"decimal",vehicle_type:"text",safety_normalisation_factor:"decimal",date:"date"},P=Object.keys(T),j=[...P],p=B({tenant_id:null,...Object.fromEntries(P.map(i=>[i,""])),id:null}),S=B({csv_file:null,date:"",tenant_id:null}),ge=B({});function q(i){const e=T[i];return e==="decimal"||e==="integer"?"number":e==="date"?"date":"text"}function H(i){const e=T[i];return e==="decimal"?"0.01":e==="integer"?"1":null}function X(i){const e=T[i];return e==="decimal"||e==="integer"?"-99999":null}function ve(){p.reset(),I.value="Create Entry",V.value="Create",A.value=!0}function ye(i){I.value="Edit Entry",V.value="Update",p.tenant_id=s.SuperAdmin?i.tenant_id:null,p.id=i.id,P.forEach(e=>{p[e]=i[e]}),A.value=!0}function ee(){A.value=!1}function _e(){const i=V.value==="Create",e=i?s.SuperAdmin?route("safety.store.admin"):route("safety.store",s.tenantSlug):s.SuperAdmin?route("safety.update.admin",[p.id]):route("safety.update",[s.tenantSlug,p.id]);p[i?"post":"put"](e,{onSuccess:()=>{$.value=i?"Entry created.":"Entry updated.",ee()},onError:()=>alert("Something went wrong.")})}function be(i){if(!confirm("Are you sure?"))return;const e=s.SuperAdmin?route("safety.destroy.admin",[i]):route("safety.destroy",[s.tenantSlug,i]);ge.delete(e,{onSuccess:()=>$.value="Entry deleted."})}function xe(i){var d;const e=(d=i.target.files)==null?void 0:d[0];if(!e)return;if(!S.date){alert("Please select the date for this import.");return}if(s.SuperAdmin&&!S.tenant_id){alert("Please select a tenant for import.");return}S.csv_file=e;const t=s.SuperAdmin?route("safety.import.admin"):route("safety.import",s.tenantSlug);S.post(t,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{$.value="Data imported successfully.",S.reset()},onError:()=>alert("Import failed.")})}function ke(){var e,t;if(s.entries.data.length===0){M.value="No data available to export",setTimeout(()=>{M.value=""},3e3);return}const i=s.SuperAdmin?route("safety.export.admin"):route("safety.export",s.tenantSlug);(e=O.value)==null||e.setAttribute("action",i),(t=O.value)==null||t.submit()}Ve($,i=>{i&&setTimeout(()=>{$.value=""},5e3)});function W(i){y.value=i;const e=s.tenantSlug?route("safety.index",{tenantSlug:s.tenantSlug}):route("safety.index.admin");K.get(e,{dateFilter:i,perPage:D.value},{preserveState:!0})}function we(){const i=s.tenantSlug?route("safety.index",{tenantSlug:s.tenantSlug}):route("safety.index.admin");K.get(i,{dateFilter:y.value,perPage:D.value},{preserveState:!0})}function G(i){if(!i)return"";const e=i.split("-");if(e.length!==3)return i;const[t,d,Ae]=e;return`${Number(d)}/${Number(Ae)}/${t}`}function Se(i){if(i){const e=new URL(i);e.searchParams.set("perPage",D.value),e.searchParams.set("dateFilter",y.value),K.get(e.href,{},{only:["entries"]})}}const he=Y(()=>s.entries.data.length>0&&_.value.length===s.entries.data.length);function Ce(i){i.target.checked?_.value=s.entries.data.map(e=>e.id):_.value=[]}function $e(){_.value.length>0&&(E.value=!0)}const ze=Y(()=>{var i;return s.safetyData?{...s.safetyData,dateRangeLabel:((i=s.dateRange)==null?void 0:i.label)||y.value}:{}});function Ne(){const i=B({ids:_.value}),e=s.SuperAdmin?"safety.destroyBulk.admin":"safety.destroyBulk",t=s.SuperAdmin?{}:{tenantSlug:s.tenantSlug};i.delete(route(e,t),{preserveScroll:!0,onSuccess:()=>{$.value=`${_.value.length} safety records deleted successfully.`,_.value=[],E.value=!1},onError:d=>{console.error(d)}})}return(i,e)=>(u(),b(Me,{breadcrumbs:ce,tenantSlug:m.tenantSlug},{default:n(()=>[l(a(Te),{title:"Safety"}),r("div",We,[$.value?(u(),b(a(ue),{key:0,variant:"success"},{default:n(()=>[l(a(me),null,{default:n(()=>e[15]||(e[15]=[o("Success")])),_:1}),l(a(fe),null,{default:n(()=>[o(c($.value),1)]),_:1})]),_:1})):x("",!0),M.value?(u(),b(a(ue),{key:1,variant:"destructive"},{default:n(()=>[l(a(me),null,{default:n(()=>e[16]||(e[16]=[o("Error")])),_:1}),l(a(fe),null,{default:n(()=>[o(c(M.value),1)]),_:1})]),_:1})):x("",!0),r("div",Re,[e[21]||(e[21]=r("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Safety Management",-1)),r("div",Le,[l(a(g),{class:"px-2 py-0 md:px-4 md:py-2",onClick:ve,variant:"default"},{default:n(()=>[l(z,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),e[17]||(e[17]=o(" Create New Entry "))]),_:1}),_.value.length>0?(u(),b(a(g),{key:0,class:"px-2 py-0 md:px-4 md:py-2",onClick:e[0]||(e[0]=t=>$e()),variant:"destructive"},{default:n(()=>[l(z,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),o(" Delete Selected ("+c(_.value.length)+") ",1)]),_:1})):x("",!0),m.SuperAdmin?(u(),f("div",Be,[R(r("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>a(S).tenant_id=t),class:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[18]||(e[18]=r("option",{disabled:"",value:""},"Select Company Name",-1)),(u(!0),f(h,null,C(m.tenants,t=>(u(),f("option",{key:t.id,value:t.id},c(t.name),9,Ie))),128))],512),[[Q,a(S).tenant_id]])])):x("",!0),r("div",Oe,[l(a(F),{modelValue:a(S).date,"onUpdate:modelValue":e[2]||(e[2]=t=>a(S).date=t),type:"date",required:"",placeholder:"Date for Import"},null,8,["modelValue"])]),r("label",qe,[l(a(g),{class:"px-2 py-0 md:px-4 md:py-2",variant:"secondary",as:"span"},{default:n(()=>[l(z,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),e[19]||(e[19]=o(" Upload XLSX "))]),_:1}),r("input",{type:"file",class:"hidden",onChange:xe,accept:".xlsx"},null,32)]),l(a(g),{class:"px-2 py-0 md:px-4 md:py-2",onClick:te(ke,["prevent"]),variant:"outline"},{default:n(()=>[l(z,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),e[20]||(e[20]=o(" Download CSV "))]),_:1})])]),l(a(ae),null,{default:n(()=>[l(a(le),{class:"p-2 md:p-4 lg:p-6"},{default:n(()=>[r("div",He,[r("div",Xe,[l(a(g),{onClick:e[3]||(e[3]=t=>W("yesterday")),variant:"outline",size:"sm",class:k({"border-primary bg-primary/10 text-primary":y.value==="yesterday"})},{default:n(()=>e[22]||(e[22]=[o(" Yesterday ")])),_:1},8,["class"]),l(a(g),{onClick:e[4]||(e[4]=t=>W("current-week")),variant:"outline",size:"sm",class:k({"border-primary bg-primary/10 text-primary":y.value==="current-week"})},{default:n(()=>e[23]||(e[23]=[o(" WTD ")])),_:1},8,["class"]),l(a(g),{onClick:e[5]||(e[5]=t=>W("6w")),variant:"outline",size:"sm",class:k({"border-primary bg-primary/10 text-primary":y.value==="6w"})},{default:n(()=>e[24]||(e[24]=[o(" T6W ")])),_:1},8,["class"]),l(a(g),{onClick:e[6]||(e[6]=t=>W("quarterly")),variant:"outline",size:"sm",class:k({"border-primary bg-primary/10 text-primary":y.value==="quarterly"})},{default:n(()=>e[25]||(e[25]=[o(" Quarterly ")])),_:1},8,["class"])]),r("div",Ge,[m.dateRange?(u(),f("div",Ye,[y.value==="yesterday"&&m.dateRange.start?(u(),f("span",Qe," Showing data from "+c(G(m.dateRange.start)),1)):m.dateRange.start&&m.dateRange.end?(u(),f("span",Je," Showing data from "+c(G(m.dateRange.start))+" to "+c(G(m.dateRange.end)),1)):(u(),f("span",Ke,c(m.dateRange.label),1)),Z.value?(u(),f("span",Ze,"("+c(Z.value)+")",1)):x("",!0)])):x("",!0)])])]),_:1})]),_:1}),s.entries.data.length===0?(u(),f("div",et,[l(z,{name:"database-x",class:"mb-4 h-16 w-16 text-muted-foreground"}),e[26]||(e[26]=r("h2",{class:"text-center text-2xl font-bold text-muted-foreground"},"There is No Data to give Information about.",-1))])):(u(),f("div",tt,[m.SuperAdmin?x("",!0):(u(),b(Pe,{key:0,data:ze.value,activeTab:y.value},null,8,["data","activeTab"])),l(a(g),{onClick:pe,variant:"outline",size:"sm",class:k(["my-2 md:my-4",{"border-primary bg-primary/10 text-primary":v.value}])},{default:n(()=>[l(z,{name:v.value?"lock":"unlock",class:"mr-2 h-4 w-4"},null,8,["name"]),o(" "+c(v.value?"Unfreeze Names":"Freeze Names"),1)]),_:1},8,["class"]),l(a(ae),{class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto"},{default:n(()=>[l(a(le),{class:"p-0"},{default:n(()=>[r("div",at,[l(a(Ee),{class:"relative h-[500px] overflow-auto"},{default:n(()=>[l(a(Ue),null,{default:n(()=>[l(a(J),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:n(()=>[l(a(L),{class:k(["w-[50px]",{"sticky left-0 z-20 bg-background":v.value}])},{default:n(()=>[r("div",lt,[r("input",{type:"checkbox",onChange:Ce,checked:he.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,nt)])]),_:1},8,["class"]),m.SuperAdmin?(u(),b(a(L),{key:0,class:k({"sticky left-[50px] z-20 bg-background":v.value})},{default:n(()=>e[27]||(e[27]=[o("Company Name")])),_:1},8,["class"])):x("",!0),(u(!0),f(h,null,C(j.filter(t=>!["user_name","group","group_hierarchy"].includes(t)&&!t.toLowerCase().includes("impact")),t=>(u(),b(a(L),{key:t,class:k(["whitespace-nowrap",{"sticky z-20 bg-background":v.value&&t==="driver_name","left-[50px]":v.value&&t==="driver_name"&&!m.SuperAdmin,"left-[150px]":v.value&&t==="driver_name"&&m.SuperAdmin}])},{default:n(()=>[o(c(t.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase())),1)]),_:2},1032,["class"]))),128)),l(a(L),null,{default:n(()=>e[28]||(e[28]=[o("Actions")])),_:1})]),_:1})]),_:1}),l(a(Fe),null,{default:n(()=>[m.entries.data.length===0?(u(),b(a(J),{key:0},{default:n(()=>[l(a(U),{colspan:m.SuperAdmin?j.length+3:j.length+2,class:"py-8 text-center"},{default:n(()=>e[29]||(e[29]=[o(" No entries found ")])),_:1},8,["colspan"])]),_:1})):x("",!0),(u(!0),f(h,null,C(m.entries.data,t=>(u(),b(a(J),{key:t.id,class:"hover:bg-muted/50"},{default:n(()=>[l(a(U),{class:k(["text-center",{"sticky left-0 z-10 bg-background":v.value}])},{default:n(()=>[R(r("input",{type:"checkbox",value:t.id,"onUpdate:modelValue":e[7]||(e[7]=d=>_.value=d),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,rt),[[De,_.value]])]),_:2},1032,["class"]),m.SuperAdmin?(u(),b(a(U),{key:0,class:k({"sticky left-[50px] z-10 bg-background":v.value})},{default:n(()=>{var d;return[o(c(((d=t.tenant)==null?void 0:d.name)??"—"),1)]}),_:2},1032,["class"])):x("",!0),(u(!0),f(h,null,C(j.filter(d=>!["user_name","group","group_hierarchy"].includes(d)&&!d.toLowerCase().includes("impact")),d=>(u(),b(a(U),{key:d,class:k(["whitespace-nowrap",{"sticky z-10 bg-background":v.value&&d==="driver_name","left-[50px]":v.value&&d==="driver_name"&&!m.SuperAdmin,"left-[150px]":v.value&&d==="driver_name"&&m.SuperAdmin}])},{default:n(()=>[o(c(typeof t[d]=="number"?Math.round(t[d]):typeof t[d]=="string"&&!isNaN(parseFloat(t[d]))?Math.round(parseFloat(t[d])):t[d]),1)]),_:2},1032,["class"]))),128)),l(a(U),null,{default:n(()=>[r("div",st,[l(a(g),{onClick:d=>ye(t),variant:"warning",size:"sm"},{default:n(()=>[l(z,{name:"pencil",class:"mr-1 h-4 w-4"}),e[30]||(e[30]=o(" Edit "))]),_:2},1032,["onClick"]),l(a(g),{onClick:d=>be(t.id),variant:"destructive",size:"sm"},{default:n(()=>[l(z,{name:"trash",class:"mr-1 h-4 w-4"}),e[31]||(e[31]=o(" Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),m.entries.links?(u(),f("div",it,[r("div",dt,[r("div",ot,"Showing "+c(m.entries.data.length)+" entries",1),r("div",ut,[r("div",mt,[l(a(N),{for:"perPage",class:"text-sm"},{default:n(()=>e[32]||(e[32]=[o("Per page:")])),_:1}),R(r("select",{id:"perPage","onUpdate:modelValue":e[8]||(e[8]=t=>D.value=t),onChange:we,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[33]||(e[33]=[r("option",{value:"10"},"10",-1),r("option",{value:"25"},"25",-1),r("option",{value:"50"},"50",-1),r("option",{value:"100"},"100",-1)]),544),[[Q,D.value]])]),r("div",ft,[(u(!0),f(h,null,C(m.entries.links,t=>(u(),b(a(g),{key:t.label,onClick:d=>Se(t.url),disabled:!t.url,variant:"ghost",size:"sm",class:k(["mx-1",{"border-primary bg-primary/10 text-primary":t.active}])},{default:n(()=>[r("span",{innerHTML:t.label},null,8,ct)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):x("",!0)]),_:1})]),_:1}),l(a(ne),{open:A.value,"onUpdate:open":e[11]||(e[11]=t=>A.value=t)},{default:n(()=>[l(a(re),{class:"w-[90vw] sm:max-w-lg md:max-w-2xl lg:max-w-4xl"},{default:n(()=>[l(a(se),null,{default:n(()=>[l(a(ie),null,{default:n(()=>[o(c(I.value),1)]),_:1}),l(a(de),null,{default:n(()=>[o(" Fill in the details to "+c(V.value.toLowerCase())+" an entry. ",1)]),_:1})]),_:1}),r("form",{onSubmit:te(_e,["prevent"]),class:"grid max-h-[70vh] gap-6 overflow-y-auto p-1"},[m.SuperAdmin?(u(),f("div",pt,[l(a(N),{for:"tenant"},{default:n(()=>e[34]||(e[34]=[o("Company Name")])),_:1}),r("div",gt,[R(r("select",{id:"tenant","onUpdate:modelValue":e[9]||(e[9]=t=>a(p).tenant_id=t),class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e[35]||(e[35]=r("option",{disabled:"",value:""},"Select Company",-1)),(u(!0),f(h,null,C(m.tenants,t=>(u(),f("option",{key:t.id,value:t.id},c(t.name),9,vt))),128))],512),[[Q,a(p).tenant_id]]),e[36]||(e[36]=r("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[r("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):x("",!0),r("div",yt,[l(a(N),{for:"date",class:"font-medium"},{default:n(()=>e[37]||(e[37]=[o("Date")])),_:1}),l(a(F),{id:"date",modelValue:a(p).date,"onUpdate:modelValue":e[10]||(e[10]=t=>a(p).date=t),type:"date",required:"",class:"w-full"},null,8,["modelValue"])]),r("div",_t,[e[38]||(e[38]=r("div",{class:"col-span-full mb-2"},[r("h3",{class:"text-md border-b pb-1 font-semibold"},"Driver Information")],-1)),(u(),f(h,null,C(["driver_name","user_name","group","group_hierarchy","vehicle_type"],t=>r("div",{key:t,class:"space-y-1"},[l(a(N),{for:t,class:"capitalize"},{default:n(()=>[o(c(t.replace(/_/g," ")),1)]),_:2},1032,["for"]),l(a(F),{id:t,modelValue:a(p)[t],"onUpdate:modelValue":d=>a(p)[t]=d,type:q(t),step:H(t),min:X(t)},null,8,["id","modelValue","onUpdate:modelValue","type","step","min"])])),64)),e[39]||(e[39]=r("div",{class:"col-span-full mb-2 mt-4"},[r("h3",{class:"text-md border-b pb-1 font-semibold"},"Performance Metrics")],-1)),(u(),f(h,null,C(["minutes_analyzed","green_minutes_percent","overspeeding_percent","driver_score","safety_normalisation_factor"],t=>r("div",{key:t,class:"space-y-1"},[l(a(N),{for:t,class:"capitalize"},{default:n(()=>[o(c(t.replace(/_/g," ")),1)]),_:2},1032,["for"]),l(a(F),{id:t,modelValue:a(p)[t],"onUpdate:modelValue":d=>a(p)[t]=d,type:q(t),step:H(t),min:X(t)},null,8,["id","modelValue","onUpdate:modelValue","type","step","min"])])),64)),e[40]||(e[40]=r("div",{class:"col-span-full mb-2 mt-4"},[r("h3",{class:"text-md border-b pb-1 font-semibold"},"Events & Violations")],-1)),(u(!0),f(h,null,C(a(P).filter(t=>!["driver_name","user_name","group","group_hierarchy","vehicle_type","minutes_analyzed","green_minutes_percent","overspeeding_percent","driver_score","safety_normalisation_factor","date"].includes(t)),t=>(u(),f("div",{key:t,class:"space-y-1"},[l(a(N),{for:t,class:"text-sm capitalize"},{default:n(()=>[o(c(t.replace(/_/g," ")),1)]),_:2},1032,["for"]),l(a(F),{id:t,modelValue:a(p)[t],"onUpdate:modelValue":d=>a(p)[t]=d,type:q(t),step:H(t),min:X(t)},null,8,["id","modelValue","onUpdate:modelValue","type","step","min"])]))),128))]),l(a(oe),{class:"mt-6 flex-col space-y-2 border-t pt-4 sm:flex-row sm:justify-end sm:space-x-2 sm:space-y-0"},{default:n(()=>[l(a(g),{type:"button",onClick:ee,variant:"outline",class:"w-full sm:w-auto"},{default:n(()=>e[41]||(e[41]=[o(" Cancel ")])),_:1}),l(a(g),{type:"submit",variant:"default",class:"w-full sm:w-auto"},{default:n(()=>[o(c(V.value),1)]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),l(a(ne),{open:E.value,"onUpdate:open":e[14]||(e[14]=t=>E.value=t)},{default:n(()=>[l(a(re),null,{default:n(()=>[l(a(se),null,{default:n(()=>[l(a(ie),null,{default:n(()=>e[42]||(e[42]=[o("Confirm Bulk Deletion")])),_:1}),l(a(de),null,{default:n(()=>[o(" Are you sure you want to delete "+c(_.value.length)+" safety records? This action cannot be undone. ",1)]),_:1})]),_:1}),l(a(oe),{class:"mt-4"},{default:n(()=>[l(a(g),{type:"button",onClick:e[12]||(e[12]=t=>E.value=!1),variant:"outline"},{default:n(()=>e[43]||(e[43]=[o(" Cancel ")])),_:1}),l(a(g),{type:"button",onClick:e[13]||(e[13]=t=>Ne()),variant:"destructive"},{default:n(()=>e[44]||(e[44]=[o(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),r("form",{ref_key:"exportForm",ref:O,method:"GET",class:"hidden"},null,512)]))])]),_:1},8,["tenantSlug"]))}},Lt=je(bt,[["__scopeId","data-v-639ad1c0"]]);export{Lt as default};
