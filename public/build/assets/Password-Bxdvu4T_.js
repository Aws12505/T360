import{d as V,c as $,r as p,b as l,e as i,f as d,z as a,u as s,X as r,G as P,S as f,ah as E,C as I,D as N}from"./vendor-_LBoWcPD.js";import{_ as g}from"./InputError.vue_vue_type_script_setup_true_lang-78CVv6-X.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cct2jAUf.js";import{_ as T,a as U}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-CO7sizhr.js";import{a as B,x as M,g as H}from"./vendor-vue-DhopVsWr.js";import{_ as L}from"./Button.vue_vue_type_script_setup_true_lang-BTsGooBq.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-ct5fQ9S7.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-CM72ee2b.js";import{E as x,a as k}from"./vendor-icons-DEdOLZ3C.js";import"./utils-BEwfQTMc.js";import"./vendor-ui-C-2WMSm6.js";import"./Icon.vue_vue_type_script_setup_true_lang-BH94pyx1.js";import"./useInitials-DzeGKvtI.js";import"./app-C6EdMfdT.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C9DuGiAN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Separator.vue_vue_type_script_setup_true_lang-C6WAv8py.js";const z={class:"space-y-6"},A={class:"grid gap-2"},G={class:"relative"},O={class:"grid gap-2"},X={class:"relative"},j={class:"grid gap-2"},q={class:"relative"},F={class:"flex items-center gap-4"},J={class:"text-sm text-neutral-600"},ms=V({__name:"Password",props:{tenantSlug:{default:void 0},permissions:{}},setup(h){B();const o=h,S=$(()=>[{title:o.tenantSlug?"Dashboard":"Admin Dashboard",href:o.tenantSlug?route("dashboard",{tenantSlug:o.tenantSlug}):route("admin.dashboard")}]),w=p(null),v=p(null),u=p(!1),m=p(!1),c=p(!1),t=M({current_password:"",password:"",password_confirmation:""}),C=()=>{t.put(route("password.update",o.tenantSlug?{tenantSlug:o.tenantSlug}:{}),{preserveScroll:!0,onSuccess:()=>t.reset(),onError:_=>{_.password&&(t.reset("password","password_confirmation"),w.value instanceof HTMLInputElement&&w.value.focus()),_.current_password&&(t.reset("current_password"),v.value instanceof HTMLInputElement&&v.value.focus())}})};return(_,e)=>(i(),l(D,{breadcrumbs:S.value,tenantSlug:o.tenantSlug,permissions:o.permissions},{default:d(()=>[a(s(H),{title:"Password settings"}),a(T,{permissions:o.permissions},{default:d(()=>[r("div",z,[a(U,{title:"Update password",description:"Ensure your account is using a long, random password to stay secure"}),r("form",{onSubmit:P(C,["prevent"]),class:"space-y-6"},[r("div",A,[a(s(b),{for:"current_password"},{default:d(()=>e[6]||(e[6]=[f("Current password")])),_:1}),r("div",G,[a(s(y),{id:"current_password",ref_key:"currentPasswordInput",ref:v,modelValue:s(t).current_password,"onUpdate:modelValue":e[0]||(e[0]=n=>s(t).current_password=n),type:u.value?"text":"password",class:"mt-1 block w-full pr-10",autocomplete:"current-password",placeholder:"Current password"},null,8,["modelValue","type"]),r("button",{type:"button",onClick:e[1]||(e[1]=n=>u.value=!u.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[u.value?(i(),l(s(k),{key:1,class:"h-5 w-5"})):(i(),l(s(x),{key:0,class:"h-5 w-5"}))])]),a(g,{message:s(t).errors.current_password},null,8,["message"])]),r("div",O,[a(s(b),{for:"password"},{default:d(()=>e[7]||(e[7]=[f("New password")])),_:1}),r("div",X,[a(s(y),{id:"password",ref_key:"passwordInput",ref:w,modelValue:s(t).password,"onUpdate:modelValue":e[2]||(e[2]=n=>s(t).password=n),type:m.value?"text":"password",class:"mt-1 block w-full pr-10",autocomplete:"new-password",placeholder:"New password"},null,8,["modelValue","type"]),r("button",{type:"button",onClick:e[3]||(e[3]=n=>m.value=!m.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[m.value?(i(),l(s(k),{key:1,class:"h-5 w-5"})):(i(),l(s(x),{key:0,class:"h-5 w-5"}))])]),a(g,{message:s(t).errors.password},null,8,["message"])]),r("div",j,[a(s(b),{for:"password_confirmation"},{default:d(()=>e[8]||(e[8]=[f("Confirm password")])),_:1}),r("div",q,[a(s(y),{id:"password_confirmation",modelValue:s(t).password_confirmation,"onUpdate:modelValue":e[4]||(e[4]=n=>s(t).password_confirmation=n),type:c.value?"text":"password",class:"mt-1 block w-full pr-10",autocomplete:"new-password",placeholder:"Confirm password"},null,8,["modelValue","type"]),r("button",{type:"button",onClick:e[5]||(e[5]=n=>c.value=!c.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[c.value?(i(),l(s(k),{key:1,class:"h-5 w-5"})):(i(),l(s(x),{key:0,class:"h-5 w-5"}))])]),a(g,{message:s(t).errors.password_confirmation},null,8,["message"])]),r("div",F,[a(s(L),{disabled:s(t).processing},{default:d(()=>e[9]||(e[9]=[f("Save password")])),_:1},8,["disabled"]),a(E,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:d(()=>[I(r("p",J,"Saved.",512),[[N,s(t).recentlySuccessful]])]),_:1})])],32)])]),_:1},8,["permissions"])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}});export{ms as default};
