import{c as $,r as _,d as U,b as j,e as i,f,z as d,u as o,X as t,F as n,E as r,aj as k,G as L,S as w,U as a,ah as z,C as G,D as M}from"./vendor-DrR5RGOb.js";import{x as A,g as E}from"./vendor-vue-BInP8APy.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-CvA5sh2i.js";import{_ as F,a as I}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-DgKvcX6Z.js";import{_ as q}from"./Button.vue_vue_type_script_setup_true_lang-B9WZ-5fZ.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-CfJsKr1D.js";import{_ as N}from"./Label.vue_vue_type_script_setup_true_lang-G5SND9_d.js";import{_ as x}from"./Separator.vue_vue_type_script_setup_true_lang-mktRl8Mw.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-u708RIqT.js";import"./vendor-ui-iQj4qE_J.js";import"./Icon.vue_vue_type_script_setup_true_lang-dI_F312i.js";import"./vendor-icons-CojB8AsG.js";import"./app-DoNvNXYe.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DZucapxj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const v=_([]);function O(){const s=c=>{const b=Math.random().toString(36).substring(2,9),p={id:b,...c,duration:c.duration||5e3};return v.value=[...v.value,p],setTimeout(()=>{l(b)},p.duration),b},l=c=>{v.value=v.value.filter(b=>b.id!==c)};return{toasts:$(()=>v.value),toast:s,dismissToast:l}}const R={class:"space-y-6"},Y={class:"border-b"},J={class:"flex space-x-8"},W={key:0,class:"space-y-6"},X={key:0,class:"flex flex-col items-center space-y-3 p-4 border rounded-md bg-muted/50"},H={class:"w-32 h-32 rounded-md overflow-hidden border border-border flex items-center justify-center bg-white"},K=["src"],Q={class:"grid gap-2"},Z={key:0,class:"text-sm text-destructive"},tt={class:"grid gap-2"},et={class:"flex items-start space-x-4"},st={key:0,class:"w-24 h-24 rounded-md overflow-hidden border border-border flex items-center justify-center bg-white"},it=["src"],ot={class:"flex-1"},nt={key:0,class:"text-sm text-destructive"},at={class:"flex items-center gap-4"},rt={key:0},dt={key:1},lt={class:"text-sm text-neutral-600"},ct={key:1,class:"space-y-6"},ut={key:0,class:"bg-card rounded-lg border shadow-sm p-6"},mt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},gt={class:"space-y-2"},bt={class:"text-lg font-semibold"},pt={class:"text-sm text-muted-foreground"},ft={class:"space-y-2 md:text-right"},vt={class:"text-2xl font-bold"},yt={class:"space-y-3 col-span-1 md:col-span-2"},xt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},_t={class:"bg-muted/50 p-3 rounded-md"},ht={class:"font-medium"},St={class:"bg-muted/50 p-3 rounded-md"},kt={class:"font-medium"},wt={class:"bg-muted/50 p-3 rounded-md"},Ct={class:"font-medium"},Nt={class:"text-xs text-muted-foreground"},$t={key:0,class:"space-y-3 col-span-1 md:col-span-2"},Dt={class:"bg-muted/50 p-3 rounded-md"},Vt={key:0},Bt={key:1},Tt={key:0},Ut={key:1},jt={key:2},Lt={key:2},zt={key:3,class:"mt-1 text-sm text-muted-foreground"},Gt={key:1,class:"bg-muted/50 p-6 rounded-lg border text-center"},Zt=U({__name:"TenantSettings",props:{tenant:{type:Object,required:!0},tenantSlug:{type:String,required:!0},subscription:{type:Object,default:null}},setup(s){const l=s,c=_("company");$(()=>[{title:l.tenantSlug?"Dashboard":"Admin Dashboard",href:l.tenantSlug?route("dashboard",{tenantSlug:l.tenantSlug}):route("admin.dashboard")}]);const{toast:b}=O(),p=_(null),u=A({name:l.tenant.name,slug:l.tenant.slug,image:null}),D=m=>{const e=m.target;if(e.files&&e.files[0]){u.image=e.files[0];const g=new FileReader;g.onload=y=>{var S;p.value=(S=y.target)==null?void 0:S.result},g.readAsDataURL(e.files[0])}},V=()=>{u.post(route("tenant.settings.update",l.tenantSlug),{onSuccess:()=>{b({title:"Success",description:"Company settings updated successfully"})},preserveScroll:!0})},B=(m,e="USD")=>m?new Intl.NumberFormat("en-US",{style:"currency",currency:e||"USD"}).format(m):"$0.00",h=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",T=(m,e)=>{if(!m||!e)return"N/A";const g=m.toString().padStart(2,"0"),y=e.toString().length===4?e.toString().slice(-2):e.toString();return`${g}/${y}`};return(m,e)=>(i(),j(P,{breadcrumbs:l.breadcrumbItems,tenantSlug:l.tenantSlug},{default:f(()=>[d(o(E),{title:"Company"}),d(F,null,{default:f(()=>[t("div",R,[d(I,{title:"Company",description:"Manage your company information and subscription"}),d(o(x)),t("div",Y,[t("div",J,[t("button",{onClick:e[0]||(e[0]=g=>c.value="company"),class:k(["py-2 px-1 -mb-px font-medium text-sm",c.value==="company"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"])}," Company Settings ",2),t("button",{onClick:e[1]||(e[1]=g=>c.value="subscription"),class:k(["py-2 px-1 -mb-px font-medium text-sm",c.value==="subscription"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"])}," Subscription Details ",2)])]),c.value==="company"?(i(),n("div",W,[s.tenant.image_path?(i(),n("div",X,[e[3]||(e[3]=t("div",{class:"text-sm font-medium"},"Current Company Logo",-1)),t("div",H,[t("img",{src:`/storage/${s.tenant.image_path}`,alt:"Company Logo",class:"max-w-full max-h-full object-contain"},null,8,K)]),e[4]||(e[4]=t("div",{class:"text-xs text-muted-foreground"}," Logo is optimized and converted to SVG for better quality ",-1))])):r("",!0),t("form",{onSubmit:L(V,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[t("div",Q,[d(o(N),{for:"name"},{default:f(()=>e[5]||(e[5]=[w("Company Name")])),_:1}),d(o(C),{id:"name",modelValue:o(u).name,"onUpdate:modelValue":e[2]||(e[2]=g=>o(u).name=g),placeholder:"Enter company name",class:"mt-1 block w-full"},null,8,["modelValue"]),o(u).errors.name?(i(),n("p",Z,a(o(u).errors.name),1)):r("",!0)]),t("div",tt,[d(o(N),{for:"image"},{default:f(()=>e[6]||(e[6]=[w("Update Company Logo")])),_:1}),t("div",et,[p.value?(i(),n("div",st,[t("img",{src:p.value,alt:"New Company Logo Preview",class:"max-w-full max-h-full object-contain"},null,8,it)])):r("",!0),t("div",ot,[d(o(C),{id:"image",type:"file",onChange:D,accept:"image/jpeg,image/png,image/gif,image/svg+xml",class:"mt-1 block w-full"}),e[7]||(e[7]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Accepted formats: JPEG, PNG, GIF, SVG. Max size: 2MB. Will be optimized and converted to SVG. ",-1)),o(u).errors.image?(i(),n("p",nt,a(o(u).errors.image),1)):r("",!0)])])]),t("div",at,[d(o(q),{type:"submit",disabled:o(u).processing},{default:f(()=>[o(u).processing?(i(),n("span",rt,"Updating...")):(i(),n("span",dt,"Save Changes"))]),_:1},8,["disabled"]),d(z,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:f(()=>[G(t("p",lt,"Saved.",512),[[M,o(u).recentlySuccessful]])]),_:1})])],32)])):r("",!0),c.value==="subscription"?(i(),n("div",ct,[s.subscription?(i(),n("div",ut,[t("div",mt,[t("div",gt,[t("h3",bt,a(s.subscription.name),1),t("p",pt,a(s.subscription.description||"No description available"),1)]),t("div",ft,[t("div",vt,a(B(s.subscription.price,s.subscription.currency_code)),1)]),t("div",yt,[d(o(x)),e[11]||(e[11]=t("h4",{class:"font-medium"},"Billing Information",-1)),t("div",xt,[t("div",_t,[e[8]||(e[8]=t("div",{class:"text-xs text-muted-foreground"},"Next Billing",-1)),t("div",ht,a(h(s.subscription.next_billing_at)),1)]),t("div",St,[e[9]||(e[9]=t("div",{class:"text-xs text-muted-foreground"},"Last Billing",-1)),t("div",kt,a(h(s.subscription.last_billing_at)),1)]),t("div",wt,[e[10]||(e[10]=t("div",{class:"text-xs text-muted-foreground"},"Payment Method",-1)),t("div",Ct,a(s.subscription.card_type)+" •••• "+a(s.subscription.last_four_digits),1),t("div",Nt,"Expires "+a(T(s.subscription.expiry_month,s.subscription.expiry_year)),1)])])]),s.subscription.billing_address?(i(),n("div",$t,[d(o(x)),e[12]||(e[12]=t("h4",{class:"font-medium"},"Billing Address",-1)),t("div",Dt,[s.subscription.billing_address.street?(i(),n("div",Vt,a(s.subscription.billing_address.street),1)):r("",!0),s.subscription.billing_address.street2?(i(),n("div",Bt,a(s.subscription.billing_address.street2),1)):r("",!0),t("div",null,[s.subscription.billing_address.city?(i(),n("span",Tt,a(s.subscription.billing_address.city)+", ",1)):r("",!0),s.subscription.billing_address.state?(i(),n("span",Ut,a(s.subscription.billing_address.state),1)):r("",!0),s.subscription.billing_address.zip?(i(),n("span",jt,a(s.subscription.billing_address.zip),1)):r("",!0)]),s.subscription.billing_address.country?(i(),n("div",Lt,a(s.subscription.billing_address.country),1)):r("",!0),s.subscription.billing_address.phone?(i(),n("div",zt," Phone: "+a(s.subscription.billing_address.phone),1)):r("",!0)])])):r("",!0)])])):(i(),n("div",Gt,e[13]||(e[13]=[t("h3",{class:"text-lg font-medium mb-2"},"No Subscription Found",-1),t("p",{class:"text-muted-foreground"},"Your company doesn't have an active subscription.",-1)])))])):r("",!0)])]),_:1})]),_:1},8,["breadcrumbs","tenantSlug"]))}});export{Zt as default};
