import{e as Ze,w as me,H as u,i,X as t,G as C,B as l,j as s,O as d,E as V,Y as E,u as o,J as $,K as U,P as y,I as we,a3 as et,r as k,A as Se,aj as tt,a as B,f as T,W as lt,ak as X,al as at}from"./vendor-BFuKjz45.js";import{x as Z,g as st,W as j}from"./vendor-vue-BLQkEQ_D.js";import{_ as ot}from"./AppLayout.vue_vue_type_script_setup_true_lang-OHgTIsMh.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-BbwYdLlm.js";import{_ as se,a as oe,b as ne,c as de,d as re}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BMgF8EFT.js";import{_ as fe}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B6J1QtuW.js";import{_ as h,a as R}from"./Label.vue_vue_type_script_setup_true_lang-B6MZTsAk.js";import{_ as nt}from"./Checkbox.vue_vue_type_script_setup_true_lang-CLgiEqQp.js";import{_ as F}from"./Icon.vue_vue_type_script_setup_true_lang-Bvtx7n_2.js";import{_ as dt,a as rt,b as ce,c as ve,d as it,e as ie}from"./TableRow.vue_vue_type_script_setup_true_lang-BYKXF4kE.js";import{_ as pe}from"./Card.vue_vue_type_script_setup_true_lang-kUJ1jh19.js";import{_ as ut,a as ft}from"./CardTitle.vue_vue_type_script_setup_true_lang-B4PiGnOE.js";import{_ as ye}from"./CardContent.vue_vue_type_script_setup_true_lang-CaXnTGJw.js";import{_ as _e,a as ke,b as Ce}from"./AlertDescription.vue_vue_type_script_setup_true_lang-DfRKwC2v.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-7fX89-0C.js";import"./vendor-ui-CqNqovUm.js";import"./app-CFSI6AXr.js";import"./vendor-icons-ILJ_3fu6.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CZUnzYQk.js";const vt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},mt={key:0,class:"col-span-full"},ct={class:"relative"},pt=["value"],yt={class:"col-span-full"},gt={class:"relative"},bt={class:"relative"},xt={class:"relative"},_t=["value"],kt={class:"relative"},Ct={class:"flex items-center space-x-2"},wt={class:"flex-col space-y-2 sm:space-y-0 sm:flex-row sm:justify-end sm:space-x-2 pt-4 border-t flex"},St=Ze({__name:"DelayForm",props:{delay:{type:Object,default:null},delayCodes:{type:Array,default:()=>[]},tenants:{type:Array,default:()=>[]},isSuperAdmin:{type:Boolean,default:!1},tenantSlug:{type:String,default:null}},emits:["close"],setup(p,{emit:f}){var D,L,z,I,S,N,Y;const b=p,A=f,m=Z({id:(D=b.delay)==null?void 0:D.id,tenant_id:b.isSuperAdmin?(L=b.delay)==null?void 0:L.tenant_id:null,date:((z=b.delay)==null?void 0:z.date)||"",driver_name:((I=b.delay)==null?void 0:I.driver_name)||"",delay_type:((S=b.delay)==null?void 0:S.delay_type)||"origin",delay_category:((N=b.delay)==null?void 0:N.delay_category)||"1_120",delay_code_id:((Y=b.delay)==null?void 0:Y.delay_code_id)||null,disputed:b.delay&&b.delay.disputed!==null?parseInt(b.delay.disputed)===1:!1,driver_controllable:b.delay&&b.delay.driver_controllable!==null?parseInt(b.delay.driver_controllable)===1:null});me(()=>b.delay,_=>{_?(m.id=_.id,m.tenant_id=_.tenant_id,m.date=_.date,m.driver_name=_.driver_name,m.delay_type=_.delay_type,m.delay_category=_.delay_category,m.delay_code_id=_.delay_code_id,m.disputed=_.disputed!==null?parseInt(_.disputed)===1:!1,m.driver_controllable=_.driver_controllable!==null?parseInt(_.driver_controllable)===1:null):m.reset()},{immediate:!0});const M=()=>{const _=!!m.id,r=b.isSuperAdmin?_?"ontime.update.admin":"ontime.store.admin":_?"ontime.update":"ontime.store",g=b.isSuperAdmin?_?{delay:m.id}:{}:_?{tenantSlug:b.tenantSlug,delay:m.id}:{tenantSlug:b.tenantSlug};m[_?"put":"post"](route(r,g),{onSuccess:()=>A("close")})};return(_,r)=>(i(),u("form",{onSubmit:we(M,["prevent"]),class:"space-y-6"},[t("div",vt,[p.isSuperAdmin?(i(),u("div",mt,[l(h,null,{default:s(()=>r[9]||(r[9]=[d("Company Name")])),_:1}),t("div",ct,[V(t("select",{"onUpdate:modelValue":r[0]||(r[0]=g=>o(m).tenant_id=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},[r[10]||(r[10]=t("option",{value:null,disabled:""},"Select Company",-1)),(i(!0),u($,null,U(p.tenants,g=>(i(),u("option",{key:g.id,value:g.id},y(g.name),9,pt))),128))],512),[[E,o(m).tenant_id]]),r[11]||(r[11]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):C("",!0),t("div",yt,[l(h,null,{default:s(()=>r[12]||(r[12]=[d("Date")])),_:1}),l(R,{type:"date",modelValue:o(m).date,"onUpdate:modelValue":r[1]||(r[1]=g=>o(m).date=g),class:"w-full"},null,8,["modelValue"])]),t("div",null,[l(h,null,{default:s(()=>r[13]||(r[13]=[d("Driver Name")])),_:1}),l(R,{modelValue:o(m).driver_name,"onUpdate:modelValue":r[2]||(r[2]=g=>o(m).driver_name=g),class:"w-full"},null,8,["modelValue"])]),t("div",null,[l(h,null,{default:s(()=>r[14]||(r[14]=[d("Delay Type")])),_:1}),t("div",gt,[V(t("select",{"onUpdate:modelValue":r[3]||(r[3]=g=>o(m).delay_type=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},r[15]||(r[15]=[t("option",{value:"origin"},"Origin",-1),t("option",{value:"destination"},"Destination",-1)]),512),[[E,o(m).delay_type]]),r[16]||(r[16]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),t("div",null,[l(h,null,{default:s(()=>r[17]||(r[17]=[d("Delay Category")])),_:1}),t("div",bt,[V(t("select",{"onUpdate:modelValue":r[4]||(r[4]=g=>o(m).delay_category=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},r[18]||(r[18]=[t("option",{value:"1_120"},"1–120 min",-1),t("option",{value:"121_600"},"121–600 min",-1),t("option",{value:"601_plus"},"601+ min",-1)]),512),[[E,o(m).delay_category]]),r[19]||(r[19]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),t("div",null,[l(h,null,{default:s(()=>r[20]||(r[20]=[d("Delay Code")])),_:1}),t("div",xt,[V(t("select",{"onUpdate:modelValue":r[5]||(r[5]=g=>o(m).delay_code_id=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},[(i(!0),u($,null,U(p.delayCodes,g=>(i(),u("option",{key:g.id,value:g.id},y(g.code),9,_t))),128))],512),[[E,o(m).delay_code_id]]),r[21]||(r[21]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),t("div",null,[l(h,null,{default:s(()=>r[22]||(r[22]=[d("Driver Controllable")])),_:1}),t("div",kt,[V(t("select",{"onUpdate:modelValue":r[6]||(r[6]=g=>o(m).driver_controllable=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},r[23]||(r[23]=[t("option",{value:null},"N/A",-1),t("option",{value:!0},"Yes",-1),t("option",{value:!1},"No",-1)]),512),[[E,o(m).driver_controllable]]),r[24]||(r[24]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),t("div",Ct,[l(nt,{checked:o(m).disputed,"onUpdate:checked":r[7]||(r[7]=g=>o(m).disputed=g),id:"disputed"},null,8,["checked"]),l(h,{for:"disputed"},{default:s(()=>r[25]||(r[25]=[d("Disputed")])),_:1})])]),t("div",wt,[l(x,{type:"button",onClick:r[8]||(r[8]=g=>A("close")),variant:"outline",class:"w-full sm:w-auto"},{default:s(()=>r[26]||(r[26]=[d(" Cancel ")])),_:1}),l(x,{type:"submit",disabled:o(m).processing,class:"w-full sm:w-auto"},{default:s(()=>[d(y(o(m).id?"Update":"Create"),1)]),_:1},8,["disabled"])])],32))}}),Dt={class:"bg-background rounded-lg border shadow-sm p-4 flex flex-col items-center justify-center"},$t={class:"text-base font-semibold mb-2 text-foreground"},ht={class:"text-2xl font-bold text-primary"},At={__name:"TotalLateStops",props:{title:{type:String,required:!0},value:{type:[Number,String],required:!0}},setup(p){return(f,b)=>(i(),u("div",Dt,[t("h3",$t,y(p.title),1),t("p",ht,y(p.value),1)]))}},Ft={class:"bg-background rounded-lg border shadow-sm p-4"},Mt={class:"text-base font-semibold mb-4"},Tt={class:"space-y-3"},Lt={class:"text-sm"},Nt={__name:"BottomDrivers",props:{title:{type:String,default:"Bottom 5 Drivers"},drivers:{type:Array,default:()=>[]}},setup(p){const f=b=>["#ef4444","#f97316","#f59e0b","#84cc16","#10b981"][b]||"#6b7280";return(b,A)=>(i(),u("div",Ft,[t("h3",Mt,y(p.title),1),t("div",Tt,[(i(!0),u($,null,U(p.drivers,(m,M)=>(i(),u("div",{key:M,class:"flex justify-between items-center"},[t("span",Lt,y(m.name),1),t("span",{class:"text-sm font-medium",style:et({color:f(M)})},y(m.value),5)]))),128))])]))}},Ut={class:"bg-background rounded-lg border shadow-sm p-4"},Vt={class:"text-base font-semibold mb-4"},zt={class:"h-64"},jt={__name:"LineChart",props:{title:{type:String,default:"Line chart"},chartData:{type:Object,default:()=>({labels:[],datasets:[]})}},setup(p){const f=p,b=k(null);let A=null;const m=()=>{if(A&&A.destroy(),!b.value)return;const M=b.value.getContext("2d");A=new tt(M,{type:"line",data:f.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})};return Se(()=>{m()}),me(()=>f.chartData,()=>{m()},{deep:!0}),(M,D)=>(i(),u("div",Ut,[t("h3",Vt,y(p.title),1),t("div",zt,[t("canvas",{ref_key:"chartCanvas",ref:b},null,512)])]))}},Bt={class:"space-y-6"},Et={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Ot={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},Pt={__name:"OnTimeDashboard",props:{metricsData:{type:Object,default:()=>({})},driversData:{type:Array,default:()=>[]},chartData:{type:Object,default:()=>({})}},setup(p){const f=p,b=[{title:"Total Late Stops",value:1050},{title:"1-20 Minutes Late",value:1050},{title:"121 - 600 Minutes Late",value:1050},{title:"+601 Minutes Late",value:1050}],A=[{name:"Kain",value:5},{name:"Ronny",value:4},{name:"Damen",value:3},{name:"Leo",value:2},{name:"Shawn",value:1}],m={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Late Stops",data:[65,59,80,81,56,55],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3}]},M=B(()=>f.metricsData.items||b),D=B(()=>f.driversData.length?f.driversData:A),L=B(()=>Object.keys(f.chartData).length?f.chartData:m);return(z,I)=>(i(),u("div",Bt,[t("div",Et,[(i(!0),u($,null,U(M.value,(S,N)=>(i(),T(At,{key:N,title:S.title,value:S.value},null,8,["title","value"]))),128))]),t("div",Ot,[l(Nt,{title:"Bottom 5 Drivers",drivers:D.value,class:"lg:col-span-1"},null,8,["drivers"]),l(jt,{title:"On-Time Score","chart-data":L.value,class:"lg:col-span-3"},null,8,["chart-data"])])]))}},Rt={class:"max-w-7xl mx-auto p-6 space-y-8"},It={class:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4"},Yt={class:"flex flex-wrap gap-3"},qt={class:"relative"},Jt={key:0,class:"absolute right-0 mt-1 w-48 bg-background rounded-md shadow-lg border z-10"},Wt={class:"py-1"},Ht={class:"cursor-pointer block px-4 py-2 text-sm hover:bg-muted"},Kt=["href"],Gt=["action"],Qt={class:"flex flex-col gap-2"},Xt={class:"flex flex-wrap gap-2"},Zt={key:0,class:"text-sm text-muted-foreground"},el={key:0},tl={key:1},ll={key:2},al={class:"flex justify-between items-center"},sl={class:"flex items-center gap-2"},ol={key:0,class:"flex flex-wrap gap-2 ml-4"},nl={key:0,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},dl={key:1,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},rl={key:2,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},il={key:3,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},ul={key:4,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},fl={key:5,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},vl={class:"flex flex-col justify-between gap-4"},ml={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full"},cl=["value"],pl={class:"flex justify-end"},yl={class:"overflow-x-auto"},gl={class:"flex items-center justify-center"},bl=["checked"],xl={class:"flex items-center"},_l={key:0,class:"ml-2"},kl={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Cl={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},wl={key:1,class:"ml-2 opacity-50"},Sl=["value"],Dl={key:0,class:"ml-1 text-xs text-red-500"},$l={class:"flex space-x-2"},hl={key:0,class:"bg-muted/20 px-4 py-3 border-t"},Al={class:"flex justify-between items-center"},Fl={class:"text-sm text-muted-foreground"},Ml={class:"flex items-center gap-4"},Tl={class:"flex items-center gap-2"},Ll={class:"flex"},Nl=["innerHTML"],Ul={class:"mt-4 space-y-4"},Vl={class:"flex items-center justify-between"},zl={class:"max-h-[400px] overflow-y-auto"},jl={key:0,class:"text-center py-8 text-muted-foreground border rounded-md"},Bl={key:1,class:"space-y-2"},El=["onClick"],Ol={class:"font-medium"},Pl={key:0,class:"ml-2 text-xs text-red-500"},Rl={key:0,class:"text-sm text-muted-foreground mt-1"},Il={class:"opacity-0 group-hover:opacity-100 transition-opacity"},Yl={key:0,class:"border rounded-md p-4 space-y-4"},ql={class:"text-sm font-medium"},Jl={class:"space-y-3"},Wl={class:"flex justify-end space-x-2"},ca={__name:"Index",props:{delays:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},delay_codes:Array,tenants:{type:Array,default:()=>[]},isSuperAdmin:{type:Boolean,default:!1},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"}},setup(p){const f=p,b=[{title:f.tenantSlug?"Dashboard":"Admin Dashboard",href:f.tenantSlug?route("dashboard",{tenantSlug:f.tenantSlug}):route("admin.dashboard")},{title:"On-Time",href:f.tenantSlug?route("ontime.index",{tenantSlug:f.tenantSlug}):route("ontime.index.admin")}],A=k(!1),m=k(!1),M=k(null),D=k(""),L=k(""),z=k(!1),I=k(null),S=k([]),N=k(!1),Y=k(null),_=k(!1),r=k(null),g=k({code:"",description:""}),q=k(!1),ge=k(null),J=k("date"),W=k("desc"),c=k({search:"",dateFrom:"",dateTo:"",delayCode:"",disputed:"",controllable:""}),ue=["date","delay_type","driver_name","penalty","delay_code","disputed","driver_controllable"],H=B(()=>{let n=[...f.delays.data];if(c.value.search){const e=c.value.search.toLowerCase();n=n.filter(a=>{var v,w,P,ae;return((v=a.driver_name)==null?void 0:v.toLowerCase().includes(e))||((w=a.delay_type)==null?void 0:w.toLowerCase().includes(e))||((ae=(P=a.delay_code)==null?void 0:P.code)==null?void 0:ae.toLowerCase().includes(e))})}if(c.value.dateFrom&&(n=n.filter(e=>e.date&&e.date>=c.value.dateFrom)),c.value.dateTo&&(n=n.filter(e=>e.date&&e.date<=c.value.dateTo)),c.value.delayCode&&(n=n.filter(e=>{var a;return((a=e.delay_code)==null?void 0:a.id)===parseInt(c.value.delayCode)})),c.value.disputed!==""){const e=c.value.disputed==="true";n=n.filter(a=>a.disputed===e)}if(c.value.controllable!=="")if(c.value.controllable==="null")n=n.filter(e=>e.driver_controllable===null);else{const e=c.value.controllable==="true";n=n.filter(a=>a.driver_controllable===e)}return n.sort((e,a)=>{var P,ae;let v,w;return J.value==="delay_code"?(v=((P=e.delay_code)==null?void 0:P.code)||"",w=((ae=a.delay_code)==null?void 0:ae.code)||""):(v=e[J.value],w=a[J.value]),v===null?1:w===null?-1:(typeof v=="string"&&(v=v.toLowerCase(),w=w.toLowerCase()),v<w?W.value==="asc"?-1:1:v>w?W.value==="asc"?1:-1:0)}),n}),De=B(()=>f.delay_codes.filter(n=>!n.deleted_at));function $e(n){J.value===n?W.value=W.value==="asc"?"desc":"asc":(J.value=n,W.value="asc")}function K(){}function he(){c.value={search:"",dateFrom:"",dateTo:"",delayCode:"",disputed:"",controllable:""}}const ee=k(f.delays.per_page||10),O=k(f.dateFilter||"full");function Ae(){const n=f.tenantSlug?route("ontime.index",{tenantSlug:f.tenantSlug}):route("ontime.index.admin");j.get(n,{dateFilter:O.value,perPage:ee.value},{preserveState:!0})}function te(n){O.value=n;const e=f.tenantSlug?route("ontime.index",{tenantSlug:f.tenantSlug}):route("ontime.index.admin");j.get(e,{dateFilter:n,perPage:ee.value},{preserveState:!0})}function Fe(n){if(n){const e=new URL(n);e.searchParams.set("perPage",ee.value),j.get(e.href,{},{preserveScroll:!0,preserveState:!0,only:["delays"]})}}function G(n){if(!n)return"";const e=n.split("-");if(e.length!==3)return n;const[a,v,w]=e;return`${Number(v)}/${Number(w)}/${a}`}const be=(n=null)=>{M.value=n,A.value=!0},Me=n=>{I.value=n,z.value=!0},Te=()=>{m.value=!0,_.value=!1,r.value=null},Le=()=>{g.value={code:"",description:""},r.value=null,_.value=!0},Ne=n=>{g.value={code:n.code,description:n.description||""},r.value=n.id,_.value=!0},Ue=()=>{_.value=!1,r.value=null},xe=n=>{ge.value=n,q.value=!0},Q=k(!1),Ve=B(()=>c.value.search||c.value.dateFrom||c.value.dateTo||c.value.delayCode||c.value.disputed||c.value.controllable),ze=n=>{if(!n)return"";const e=f.delay_codes.find(a=>a.id===parseInt(n));return e?e.code:""},je=async n=>{try{await j.delete(route("delay-codes.destroy",n),{onSuccess:()=>{q.value=!1,D.value="Delay code deleted successfully"}})}catch(e){console.error("Error deleting delay code:",e)}},Be=()=>{const n=Z({code:g.value.code,description:g.value.description}),e=r.value?f.isSuperAdmin?"delay_codes.update.admin":"delay_codes.update":f.isSuperAdmin?"delay_codes.store.admin":"delay_codes.store",a=r.value?f.isSuperAdmin?{id:r.value}:{tenantSlug:f.tenantSlug,id:r.value}:f.isSuperAdmin?{}:{tenantSlug:f.tenantSlug};(r.value?n.put:n.post).call(n,route(e,a),{onSuccess:()=>{D.value=r.value?"Delay code updated successfully.":"Delay code created successfully.",_.value=!1,r.value=null,j.reload({only:["delay_codes"]})},onError:w=>{console.error(w)}})},Ee=n=>{Z({}).post(route(f.isSuperAdmin?"delay_codes.restore.admin":"delay_codes.restore",{id:n}),{onSuccess:()=>{D.value="Delay code restored successfully.",j.reload({only:["delay_codes"]})},onError:a=>{console.error(a)}})},Oe=n=>{Z({}).delete(route(f.isSuperAdmin?"delay_codes.forceDelete.admin":"delay_codes.forceDelete",{id:n}),{onSuccess:()=>{D.value="Delay code permanently deleted successfully.",j.reload({only:["delay_codes"]})},onError:a=>{console.error(a)}})},Pe=n=>{const e=Z({}),a=f.isSuperAdmin?"ontime.destroy.admin":"ontime.destroy",v=f.isSuperAdmin?{delay:n}:{tenantSlug:f.tenantSlug,delay:n};e.delete(route(a,v),{preserveScroll:!0,onSuccess:()=>{D.value="Delay record deleted successfully.",z.value=!1}})};me(D,n=>{n&&setTimeout(()=>{D.value=""},5e3)}),f.flash&&f.flash.error&&(L.value=f.flash.error),me(L,n=>{n&&setTimeout(()=>{L.value=""},5e3)});const Re=k({items:[{title:"Total Late Stops",value:1050},{title:"1-20 Minutes Late",value:1050},{title:"121 - 600 Minutes Late",value:1050},{title:"+601 Minutes Late",value:1050}]}),Ie=k([{name:"Kain",value:5},{name:"Ronny",value:4},{name:"Damen",value:3},{name:"Leo",value:2},{name:"Shawn",value:1}]),Ye=k({labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Late Stops",data:[65,59,80,81,56,55],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3}]}),qe=B(()=>H.value.length>0&&S.value.length===H.value.length);function Je(n){n.target.checked?S.value=H.value.map(e=>e.id):S.value=[]}function We(){S.value.length>0&&(N.value=!0)}function He(){const n=Z({ids:S.value}),e=f.isSuperAdmin?"ontime.destroyBulk.admin":"ontime.destroyBulk",a=f.isSuperAdmin?{}:{tenantSlug:f.tenantSlug};n.delete(route(e,a),{preserveScroll:!0,onSuccess:()=>{D.value=`${S.value.length} delay records deleted successfully.`,S.value=[],N.value=!1,j.reload()},onError:v=>{console.error(v)}})}function Ke(n){const e=n.target.files[0];if(!e)return;const a=new FormData;a.append("csv_file",e);const v=f.isSuperAdmin?route("ontime.import.admin"):route("ontime.import",{tenantSlug:f.tenantSlug});j.post(v,a,{onSuccess:()=>{D.value="Delays imported successfully",n.target.value=""},onError:w=>{console.error(w),n.target.value=""}})}function Ge(){if(f.delays.data.length===0){L.value="No delay data found to export.";return}Y.value&&Y.value.submit()}const Qe=B(()=>f.tenantSlug?route("ontime.export",{tenantSlug:f.tenantSlug}):route("ontime.export.admin")),le=k(!1),Xe=B(()=>"/storage/upload-data-temps/Delays Template.csv");return Se(()=>{const n=e=>{le.value&&!e.target.closest(".relative")&&(le.value=!1)};document.addEventListener("click",n),lt(()=>{document.removeEventListener("click",n)})}),(n,e)=>(i(),T(ot,{breadcrumbs:b,tenantSlug:p.tenantSlug},{default:s(()=>[l(o(st),{title:"On-Time"}),t("div",Rt,[D.value?(i(),T(o(_e),{key:0,variant:"success"},{default:s(()=>[l(o(ke),null,{default:s(()=>e[33]||(e[33]=[d("Success")])),_:1}),l(o(Ce),null,{default:s(()=>[d(y(D.value),1)]),_:1})]),_:1})):C("",!0),L.value?(i(),T(o(_e),{key:1,variant:"destructive"},{default:s(()=>[l(o(ke),null,{default:s(()=>e[34]||(e[34]=[d("Error")])),_:1}),l(o(Ce),null,{default:s(()=>[d(y(L.value),1)]),_:1})]),_:1})):C("",!0),t("div",It,[e[40]||(e[40]=t("h1",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"On-Time Management",-1)),t("div",Yt,[l(x,{onClick:e[0]||(e[0]=a=>be()),variant:"default"},{default:s(()=>[l(F,{name:"plus",class:"mr-2 h-4 w-4"}),e[35]||(e[35]=d(" Add Delay "))]),_:1}),S.value.length>0?(i(),T(x,{key:0,onClick:e[1]||(e[1]=a=>We()),variant:"destructive"},{default:s(()=>[l(F,{name:"trash",class:"mr-2 h-4 w-4"}),d(" Delete Selected ("+y(S.value.length)+") ",1)]),_:1})):C("",!0),t("div",qt,[l(x,{onClick:e[2]||(e[2]=a=>le.value=!le.value),variant:"secondary"},{default:s(()=>[l(F,{name:"upload",class:"mr-2 h-4 w-4"}),e[36]||(e[36]=d(" Upload CSV ")),l(F,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1}),le.value?(i(),u("div",Jt,[t("div",Wt,[t("label",Ht,[e[37]||(e[37]=t("span",null,"Upload CSV File",-1)),t("input",{type:"file",class:"hidden",onChange:Ke,accept:".csv"},null,32)]),t("a",{href:Xe.value,download:"Delays Template.csv",class:"block px-4 py-2 text-sm hover:bg-muted"}," Download Template ",8,Kt)])])):C("",!0)]),l(x,{onClick:we(Ge,["prevent"]),variant:"outline"},{default:s(()=>[l(F,{name:"download",class:"mr-2 h-4 w-4"}),e[38]||(e[38]=d(" Download CSV "))]),_:1}),p.isSuperAdmin?(i(),T(x,{key:1,onClick:e[3]||(e[3]=a=>Te()),variant:"outline"},{default:s(()=>[l(F,{name:"settings",class:"mr-2 h-4 w-4"}),e[39]||(e[39]=d(" Manage Delay Codes "))]),_:1})):C("",!0)])]),t("form",{ref_key:"exportForm",ref:Y,action:Qe.value,method:"GET",class:"hidden"},null,8,Gt),l(o(pe),null,{default:s(()=>[l(o(ye),{class:"p-4"},{default:s(()=>[t("div",Qt,[t("div",Xt,[l(x,{onClick:e[4]||(e[4]=a=>te("yesterday")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":O.value==="yesterday"})},{default:s(()=>e[41]||(e[41]=[d(" Yesterday ")])),_:1},8,["class"]),l(x,{onClick:e[5]||(e[5]=a=>te("current-week")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":O.value==="current-week"})},{default:s(()=>e[42]||(e[42]=[d(" WtD ")])),_:1},8,["class"]),l(x,{onClick:e[6]||(e[6]=a=>te("6w")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":O.value==="6w"})},{default:s(()=>e[43]||(e[43]=[d(" 6 Weeks ")])),_:1},8,["class"]),l(x,{onClick:e[7]||(e[7]=a=>te("quarterly")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":O.value==="quarterly"})},{default:s(()=>e[44]||(e[44]=[d(" Quarterly ")])),_:1},8,["class"]),l(x,{onClick:e[8]||(e[8]=a=>te("full")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":O.value==="full"})},{default:s(()=>e[45]||(e[45]=[d(" Full ")])),_:1},8,["class"])]),p.dateRange?(i(),u("div",Zt,[O.value==="yesterday"&&p.dateRange.start?(i(),u("span",el," Showing data from "+y(G(p.dateRange.start)),1)):p.dateRange.start&&p.dateRange.end?(i(),u("span",tl," Showing data from "+y(G(p.dateRange.start))+" to "+y(G(p.dateRange.end)),1)):(i(),u("span",ll,y(p.dateRange.label),1))])):C("",!0)])]),_:1})]),_:1}),l(o(pe),null,{default:s(()=>[l(o(ut),{class:"pb-2"},{default:s(()=>[t("div",al,[t("div",sl,[l(o(ft),null,{default:s(()=>e[46]||(e[46]=[d("Filters")])),_:1}),!Q.value&&Ve.value?(i(),u("div",ol,[c.value.search?(i(),u("div",nl," Search: "+y(c.value.search),1)):C("",!0),c.value.dateFrom?(i(),u("div",dl," From: "+y(G(c.value.dateFrom)),1)):C("",!0),c.value.dateTo?(i(),u("div",rl," To: "+y(G(c.value.dateTo)),1)):C("",!0),c.value.delayCode?(i(),u("div",il," Code: "+y(ze(c.value.delayCode)),1)):C("",!0),c.value.disputed?(i(),u("div",ul," Disputed: "+y(c.value.disputed==="true"?"Yes":"No"),1)):C("",!0),c.value.controllable?(i(),u("div",fl," Driver Controllable: "+y(c.value.controllable==="true"?"Yes":c.value.controllable==="false"?"No":"N/A"),1)):C("",!0)])):C("",!0)]),l(x,{variant:"ghost",size:"sm",onClick:e[9]||(e[9]=a=>Q.value=!Q.value)},{default:s(()=>[d(y(Q.value?"Hide Filters":"Show Filters")+" ",1),l(F,{name:Q.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),Q.value?(i(),T(o(ye),{key:0,class:"pt-2"},{default:s(()=>[t("div",vl,[t("div",ml,[t("div",null,[l(o(h),{for:"search"},{default:s(()=>e[47]||(e[47]=[d("Search")])),_:1}),l(o(R),{id:"search",modelValue:c.value.search,"onUpdate:modelValue":e[10]||(e[10]=a=>c.value.search=a),type:"text",placeholder:"Search by driver or type...",onInput:K},null,8,["modelValue"])]),t("div",null,[l(o(h),{for:"dateFrom"},{default:s(()=>e[48]||(e[48]=[d("Date From")])),_:1}),l(o(R),{id:"dateFrom",modelValue:c.value.dateFrom,"onUpdate:modelValue":e[11]||(e[11]=a=>c.value.dateFrom=a),type:"date",onChange:K},null,8,["modelValue"])]),t("div",null,[l(o(h),{for:"dateTo"},{default:s(()=>e[49]||(e[49]=[d("Date To")])),_:1}),l(o(R),{id:"dateTo",modelValue:c.value.dateTo,"onUpdate:modelValue":e[12]||(e[12]=a=>c.value.dateTo=a),type:"date",onChange:K},null,8,["modelValue"])]),t("div",null,[l(o(h),{for:"delayCode"},{default:s(()=>e[50]||(e[50]=[d("Delay Code")])),_:1}),V(t("select",{id:"delayCode","onUpdate:modelValue":e[13]||(e[13]=a=>c.value.delayCode=a),onChange:K,class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[e[51]||(e[51]=t("option",{value:""},"All Codes",-1)),(i(!0),u($,null,U(p.delay_codes,a=>(i(),u("option",{key:a.id,value:a.id},y(a.code),9,cl))),128))],544),[[E,c.value.delayCode]])]),t("div",null,[l(o(h),{for:"disputed"},{default:s(()=>e[52]||(e[52]=[d("Disputed Status")])),_:1}),V(t("select",{id:"disputed","onUpdate:modelValue":e[14]||(e[14]=a=>c.value.disputed=a),onChange:K,class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},e[53]||(e[53]=[t("option",{value:""},"All",-1),t("option",{value:"true"},"Disputed",-1),t("option",{value:"false"},"Not Disputed",-1)]),544),[[E,c.value.disputed]])]),t("div",null,[l(o(h),{for:"controllable"},{default:s(()=>e[54]||(e[54]=[d("Driver Controllable")])),_:1}),V(t("select",{id:"controllable","onUpdate:modelValue":e[15]||(e[15]=a=>c.value.controllable=a),onChange:K,class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},e[55]||(e[55]=[t("option",{value:""},"All",-1),t("option",{value:"true"},"Yes",-1),t("option",{value:"false"},"No",-1),t("option",{value:"null"},"N/A",-1)]),544),[[E,c.value.controllable]])])]),t("div",pl,[l(x,{onClick:he,variant:"ghost",size:"sm"},{default:s(()=>[l(F,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),e[56]||(e[56]=d(" Reset Filters "))]),_:1})])])]),_:1})):C("",!0)]),_:1}),l(Pt,{"metrics-data":Re.value,"drivers-data":Ie.value,"chart-data":Ye.value},null,8,["metrics-data","drivers-data","chart-data"]),l(o(pe),null,{default:s(()=>[l(o(ye),{class:"p-0"},{default:s(()=>[t("div",yl,[l(o(dt),{class:"relative h-[500px] overflow-auto"},{default:s(()=>[l(o(rt),null,{default:s(()=>[l(o(ce),{class:"sticky top-0 bg-background border-b z-10 hover:bg-background"},{default:s(()=>[l(o(ve),{class:"w-[50px]"},{default:s(()=>[t("div",gl,[t("input",{type:"checkbox",onChange:Je,checked:qe.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,bl)])]),_:1}),p.isSuperAdmin?(i(),T(o(ve),{key:0},{default:s(()=>e[57]||(e[57]=[d("Company Name")])),_:1})):C("",!0),(i(),u($,null,U(ue,a=>l(o(ve),{key:a,class:"cursor-pointer",onClick:v=>$e(a)},{default:s(()=>[t("div",xl,[d(y(a.replace(/_/g," ").split(" ").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" "))+" ",1),J.value===a?(i(),u("div",_l,[W.value==="asc"?(i(),u("svg",kl,e[58]||(e[58]=[t("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(i(),u("svg",Cl,e[59]||(e[59]=[t("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(i(),u("div",wl,e[60]||(e[60]=[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M8 10l4-4 4 4"}),t("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),l(o(ve),null,{default:s(()=>e[61]||(e[61]=[d("Actions")])),_:1})]),_:1})]),_:1}),l(o(it),null,{default:s(()=>[H.value.length===0?(i(),T(o(ce),{key:0},{default:s(()=>[l(o(ie),{colspan:p.isSuperAdmin?ue.length+2:ue.length+1,class:"text-center py-8"},{default:s(()=>e[62]||(e[62]=[d(" No delays found matching your criteria ")])),_:1},8,["colspan"])]),_:1})):C("",!0),(i(!0),u($,null,U(H.value,a=>(i(),T(o(ce),{key:a.id,class:"hover:bg-muted/50"},{default:s(()=>[l(o(ie),{class:"text-center"},{default:s(()=>[V(t("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[16]||(e[16]=v=>S.value=v),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,Sl),[[at,S.value]])]),_:2},1024),p.isSuperAdmin?(i(),T(o(ie),{key:0},{default:s(()=>{var v;return[d(y(((v=a.tenant)==null?void 0:v.name)||"—"),1)]}),_:2},1024)):C("",!0),(i(),u($,null,U(ue,v=>l(o(ie),{key:v,class:"whitespace-nowrap"},{default:s(()=>{var w,P;return[v==="date"?(i(),u($,{key:0},[d(y(G(a[v])),1)],64)):v==="disputed"?(i(),u($,{key:1},[d(y(a[v]?"Yes":"No"),1)],64)):v==="driver_controllable"?(i(),u($,{key:2},[d(y(a[v]===null?"N/A":a[v]?"Yes":"No"),1)],64)):v==="delay_code"?(i(),u($,{key:3},[d(y(((w=a.delay_code)==null?void 0:w.code)||"—")+" ",1),(P=a.delay_code)!=null&&P.deleted_at?(i(),u("span",Dl,"(Deleted Code)")):C("",!0)],64)):(i(),u($,{key:4},[d(y(a[v]),1)],64))]}),_:2},1024)),64)),l(o(ie),null,{default:s(()=>[t("div",$l,[l(x,{onClick:v=>be(a),variant:"warning",size:"sm"},{default:s(()=>[l(F,{name:"pencil",class:"mr-1 h-4 w-4"}),e[63]||(e[63]=d(" Edit "))]),_:2},1032,["onClick"]),l(x,{onClick:v=>Me(a.id),variant:"destructive",size:"sm"},{default:s(()=>[l(F,{name:"trash",class:"mr-1 h-4 w-4"}),e[64]||(e[64]=d(" Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),p.delays.links?(i(),u("div",hl,[t("div",Al,[t("div",Fl," Showing "+y(H.value.length)+" of "+y(p.delays.data.length)+" entries ",1),t("div",Ml,[t("div",Tl,[l(o(h),{for:"perPage",class:"text-sm"},{default:s(()=>e[65]||(e[65]=[d("Per page:")])),_:1}),V(t("select",{id:"perPage","onUpdate:modelValue":e[17]||(e[17]=a=>ee.value=a),onChange:Ae,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[66]||(e[66]=[t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1),t("option",{value:"100"},"100",-1)]),544),[[E,ee.value]])]),t("div",Ll,[(i(!0),u($,null,U(p.delays.links,a=>(i(),T(x,{key:a.label,onClick:v=>Fe(a.url),disabled:!a.url,variant:"ghost",size:"sm",class:X(["mx-1",{"bg-primary/10 text-primary border-primary":a.active}])},{default:s(()=>[t("span",{innerHTML:a.label},null,8,Nl)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):C("",!0)]),_:1})]),_:1}),l(o(se),{open:A.value,"onUpdate:open":e[19]||(e[19]=a=>A.value=a)},{default:s(()=>[l(o(oe),{class:"sm:max-w-2xl"},{default:s(()=>[l(o(ne),null,{default:s(()=>[l(o(de),null,{default:s(()=>[d(y(M.value?"Edit":"Add")+" Delay",1)]),_:1}),l(o(re),null,{default:s(()=>[d(" Fill in the details to "+y(M.value?"update":"create")+" a delay record. ",1)]),_:1})]),_:1}),l(St,{delay:M.value,"delay-codes":De.value,tenants:p.tenants,"is-super-admin":p.isSuperAdmin,"tenant-slug":p.tenantSlug,onClose:e[18]||(e[18]=a=>A.value=!1)},null,8,["delay","delay-codes","tenants","is-super-admin","tenant-slug"])]),_:1})]),_:1},8,["open"]),l(o(se),{open:m.value,"onUpdate:open":e[23]||(e[23]=a=>m.value=a)},{default:s(()=>[l(o(oe),{class:"sm:max-w-lg"},{default:s(()=>[l(o(ne),null,{default:s(()=>[l(o(de),null,{default:s(()=>e[67]||(e[67]=[d("Manage Delay Codes")])),_:1}),l(o(re),null,{default:s(()=>e[68]||(e[68]=[d(" Create and manage delay codes for your organization. ")])),_:1})]),_:1}),t("div",Ul,[t("div",Vl,[e[70]||(e[70]=t("h3",{class:"text-sm font-medium"},"Current Delay Codes",-1)),l(x,{onClick:Le,size:"sm",variant:"outline"},{default:s(()=>[l(F,{name:"plus",class:"mr-2 h-4 w-4"}),e[69]||(e[69]=d(" Add New Code "))]),_:1})]),t("div",zl,[!p.delay_codes||p.delay_codes.length===0?(i(),u("div",jl," No delay codes found ")):(i(),u("div",Bl,[(i(!0),u($,null,U(p.delay_codes,a=>(i(),u("div",{key:a.id,class:"flex items-center justify-between p-3 border rounded-md hover:bg-muted/50 group"},[t("div",{class:"flex-1 cursor-pointer",onClick:v=>Ne(a)},[t("div",Ol,[d(y(a.code)+" ",1),a.deleted_at?(i(),u("span",Pl,"(Deleted)")):C("",!0)]),a.description?(i(),u("div",Rl,y(a.description),1)):C("",!0)],8,El),t("div",Il,[p.isSuperAdmin?(i(),u($,{key:0},[a.deleted_at?(i(),u($,{key:0},[l(x,{onClick:v=>Ee(a.id),size:"sm",variant:"outline"},{default:s(()=>[l(F,{name:"refresh",class:"mr-2 h-4 w-4"}),e[71]||(e[71]=d(" Restore "))]),_:2},1032,["onClick"]),l(x,{onClick:v=>Oe(a.id),size:"sm",variant:"destructive"},{default:s(()=>[l(F,{name:"trash",class:"mr-2 h-4 w-4"}),e[72]||(e[72]=d(" Permanently Delete "))]),_:2},1032,["onClick"])],64)):(i(),T(x,{key:1,onClick:v=>xe(a.id),size:"sm",variant:"destructive"},{default:s(()=>[l(F,{name:"trash",class:"mr-2 h-4 w-4"}),e[73]||(e[73]=d(" Delete "))]),_:2},1032,["onClick"]))],64)):(i(),T(x,{key:1,onClick:v=>xe(a.id),size:"sm",variant:"destructive"},{default:s(()=>[l(F,{name:"trash",class:"mr-2 h-4 w-4"}),e[74]||(e[74]=d(" Delete "))]),_:2},1032,["onClick"]))])]))),128))]))]),_.value?(i(),u("div",Yl,[t("h3",ql,y(r.value?"Edit":"Add")+" Delay Code",1),t("div",Jl,[t("div",null,[l(o(h),{for:"code"},{default:s(()=>e[75]||(e[75]=[d("Code")])),_:1}),l(o(R),{id:"code",modelValue:g.value.code,"onUpdate:modelValue":e[20]||(e[20]=a=>g.value.code=a),placeholder:"Enter code"},null,8,["modelValue"])]),t("div",null,[l(o(h),{for:"description"},{default:s(()=>e[76]||(e[76]=[d("Description")])),_:1}),l(o(R),{id:"description",modelValue:g.value.description,"onUpdate:modelValue":e[21]||(e[21]=a=>g.value.description=a),placeholder:"Enter description"},null,8,["modelValue"])]),t("div",Wl,[l(x,{onClick:Ue,variant:"ghost",size:"sm"},{default:s(()=>e[77]||(e[77]=[d("Cancel")])),_:1}),l(x,{onClick:Be,variant:"default",size:"sm"},{default:s(()=>e[78]||(e[78]=[d("Save")])),_:1})])])])):C("",!0)]),l(o(fe),{class:"mt-6"},{default:s(()=>[l(x,{onClick:e[22]||(e[22]=a=>m.value=!1),variant:"outline"},{default:s(()=>e[79]||(e[79]=[d("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l(o(se),{open:q.value,"onUpdate:open":e[26]||(e[26]=a=>q.value=a)},{default:s(()=>[l(o(oe),null,{default:s(()=>[l(o(ne),null,{default:s(()=>[l(o(de),null,{default:s(()=>e[80]||(e[80]=[d("Confirm Deletion")])),_:1}),l(o(re),null,{default:s(()=>e[81]||(e[81]=[d(" Are you sure you want to delete this delay code? This action cannot be undone. ")])),_:1})]),_:1}),l(o(fe),{class:"mt-4"},{default:s(()=>[l(x,{type:"button",onClick:e[24]||(e[24]=a=>q.value=!1),variant:"outline"},{default:s(()=>e[82]||(e[82]=[d(" Cancel ")])),_:1}),l(x,{type:"button",onClick:e[25]||(e[25]=a=>je(ge.value)),variant:"destructive"},{default:s(()=>e[83]||(e[83]=[d(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l(o(se),{open:z.value,"onUpdate:open":e[29]||(e[29]=a=>z.value=a)},{default:s(()=>[l(o(oe),null,{default:s(()=>[l(o(ne),null,{default:s(()=>[l(o(de),null,{default:s(()=>e[84]||(e[84]=[d("Confirm Deletion")])),_:1}),l(o(re),null,{default:s(()=>e[85]||(e[85]=[d(" Are you sure you want to delete this delay record? This action cannot be undone. ")])),_:1})]),_:1}),l(o(fe),{class:"mt-4"},{default:s(()=>[l(x,{type:"button",onClick:e[27]||(e[27]=a=>z.value=!1),variant:"outline"},{default:s(()=>e[86]||(e[86]=[d(" Cancel ")])),_:1}),l(x,{type:"button",onClick:e[28]||(e[28]=a=>Pe(I.value)),variant:"destructive"},{default:s(()=>e[87]||(e[87]=[d(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l(o(se),{open:N.value,"onUpdate:open":e[32]||(e[32]=a=>N.value=a)},{default:s(()=>[l(o(oe),null,{default:s(()=>[l(o(ne),null,{default:s(()=>[l(o(de),null,{default:s(()=>e[88]||(e[88]=[d("Confirm Bulk Deletion")])),_:1}),l(o(re),null,{default:s(()=>[d(" Are you sure you want to delete "+y(S.value.length)+" delay records? This action cannot be undone. ",1)]),_:1})]),_:1}),l(o(fe),{class:"mt-4"},{default:s(()=>[l(x,{type:"button",onClick:e[30]||(e[30]=a=>N.value=!1),variant:"outline"},{default:s(()=>e[89]||(e[89]=[d(" Cancel ")])),_:1}),l(x,{type:"button",onClick:e[31]||(e[31]=a=>He()),variant:"destructive"},{default:s(()=>e[90]||(e[90]=[d(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1},8,["tenantSlug"]))}};export{ca as default};
