import{x as ue,W as ee,g as mt}from"./vendor-vue-C5ukOnUx.js";import{_ as pt}from"./AppLayout.vue_vue_type_script_setup_true_lang-CKl3H69c.js";import{d as He,r as k,c as L,w as Ke,k as Je,Z as Xe,v as c,e as d,b,z as y,V as l,l as t,f as a,u as e,x as r,y as x,p as me,ah as et,M as F,W as I,F as M,C as z,ai as Ne,aj as Ae,ak as Ze,D as ft,n as ct,j as vt}from"./vendor-vrnjLp2f.js";import{_ as u}from"./Icon.vue_vue_type_script_setup_true_lang-BG6rUiI2.js";import{_ as Ce,a as Se,b as E,c as O,d as $e,e as V}from"./TableRow.vue_vue_type_script_setup_true_lang-RcUuecyr.js";import{_ as g}from"./Button.vue_vue_type_script_setup_true_lang-CIs7Gh-v.js";import{_ as ve}from"./Card.vue_vue_type_script_setup_true_lang-C0_n3F9o.js";import{_ as tt}from"./CardHeader.vue_vue_type_script_setup_true_lang-fuQxjTdN.js";import{_ as st}from"./CardTitle.vue_vue_type_script_setup_true_lang-RNj2rm2t.js";import{_ as xe}from"./CardContent.vue_vue_type_script_setup_true_lang-CUhsODxB.js";import{_ as le,a as ae,b as ne,c as oe,d as re}from"./DialogDescription.vue_vue_type_script_setup_true_lang-BiqjaQNb.js";import{_ as ie}from"./DialogFooter.vue_vue_type_script_setup_true_lang-g2X2Ls_P.js";import{_ as h,a as R}from"./Label.vue_vue_type_script_setup_true_lang-DFFa_aCR.js";import{_ as ge,a as we,b as ye}from"./AlertDescription.vue_vue_type_script_setup_true_lang-BnjnNpLi.js";import{_ as Ge}from"./SortIndicator-DuCiF1I8.js";import{_ as xt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-7SpH83u5.js";import"./vendor-ui-BJvHaezz.js";import"./app-zCC0f3mW.js";import"./vendor-icons-DTRPR4Ue.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-YSKQsDkj.js";const gt={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-2 md:p-4 lg:p-6 space-y-6"},wt={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},yt={class:"flex items-center gap-3"},bt={class:"flex flex-wrap gap-3"},kt={class:"relative"},_t={key:0,class:"absolute right-0 mt-1 w-48 rounded-md border bg-background shadow-lg z-10"},ht={class:"py-1"},Ct={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},St=["href"],$t={class:"flex justify-between items-center"},At={class:"text-sm hidden sm:inline"},Vt={class:"flex flex-col gap-6"},Ot={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},Nt={class:"relative"},Mt={class:"relative"},Dt={class:"overflow-x-auto"},Ut={class:"flex items-center justify-center"},zt=["checked"],Ft={class:"flex items-center space-x-1"},Bt={key:4,class:"ml-2"},Tt={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},It={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Lt={key:5,class:"ml-2 opacity-50"},qt={class:"flex flex-col items-center justify-center text-muted-foreground"},Pt=["value"],Et={class:"flex space-x-2"},Rt={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},Wt={class:"flex items-center gap-4 text-sm text-muted-foreground"},jt={class:"flex items-center gap-1"},Qt={class:"flex items-center gap-1"},Gt={class:"relative"},Ht=["value"],Yt={class:"flex space-x-1"},Kt={class:"flex items-center gap-2"},Zt={key:0,class:"col-span-2 sm:col-span-1"},Jt={class:"relative"},Xt=["value"],es={class:"col-span-2 sm:col-span-1"},ts={class:"col-span-2 sm:col-span-1"},ss={class:"relative"},ls={class:"col-span-2 sm:col-span-1"},as={class:"relative"},ns={class:"col-span-2 sm:col-span-1"},os={class:"relative"},rs={class:"col-span-2 sm:col-span-1"},ds={class:"col-span-2 sm:col-span-1"},is={class:"col-span-2 sm:col-span-1"},us={class:"relative"},ms={class:"col-span-2 mt-4 flex justify-end gap-3"},ps=He({__name:"TrucksComponent",props:{entries:{},tenantSlug:{},SuperAdmin:{type:Boolean},tenants:{},perPage:{}},emits:["update:perPage"],setup(C,{emit:S}){const v=C,A=k({search:"",type:"",make:""}),j=k("truckid"),D=k("asc"),B=k(1),q=k(10),K=k(10),U=k([]),T=k(!1),_=k(""),Q=k(""),G=k(!1),Z=k(!1),J=k(!1),W=k(null),f=k(!1),H=k(!1),w=ue({id:null,truckid:null,type:"daycab",make:"international",fuel:"diesel",license:null,vin:"",tenant_id:v.SuperAdmin?"":null,status:"active",inspection_status:"good",inspection_expiry_date:new Date().toISOString().split("T")[0]}),de=ue({csv_file:null}),Y=k(null),be=L(()=>v.entries.filter(p=>{var n,i;return!(A.value.search&&!String(p.truckid).includes(A.value.search)&&!(p.vin||"").toLowerCase().includes(A.value.search.toLowerCase())||A.value.type&&((n=p.type)==null?void 0:n.toLowerCase())!=A.value.type||A.value.make&&((i=p.make)==null?void 0:i.toLowerCase())!=A.value.make)})),ke=L(()=>[...be.value].sort((p,n)=>{let i=p[j.value],N=n[j.value];return i==null?1:N==null?-1:(typeof i=="string"&&(i=i.toLowerCase(),N=N.toLowerCase()),i<N?D.value==="asc"?-1:1:i>N?D.value==="asc"?1:-1:0)})),X=L(()=>Math.ceil(ke.value.length/q.value)),P=L(()=>{const p=(B.value-1)*q.value,n=p+q.value;return ke.value.slice(p,n)}),Me=L(()=>P.value.length>0&&P.value.every(p=>U.value.includes(p.id))),pe=["truckid","type","make","fuel","license","vin","inspection_status","inspection_expiry_date","status"];Ke(_,p=>p&&setTimeout(()=>_.value="",5e3)),Ke(q,p=>{K.value=p});function fe(p){return p.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function De(p){return p?new Date(p+"T00:00:00").toLocaleDateString():"—"}function te(p,n){if(n==="status")return p.status;if(n==="inspection_status")return p.inspection_status==="good"?"Good":"Expired";if(n==="inspection_expiry_date")return De(p[n]);const i=p[n];return typeof i=="string"?i.charAt(0).toUpperCase()+i.slice(1):i}const se=()=>{B.value=1};function Ue(){A.value={search:"",type:"",make:""},se()}function _e(p){j.value===p?D.value=D.value==="asc"?"desc":"asc":(j.value=p,D.value="asc")}const ze=()=>{q.value=K.value,se()},he=p=>{p>=1&&p<=X.value&&(B.value=p)};function Fe(p){p.target.checked?P.value.forEach(i=>{U.value.includes(i.id)||U.value.push(i.id)}):U.value=U.value.filter(i=>!P.value.some(N=>N.id===i))}function Be(){w.reset(),w.clearErrors(),w.id=null,G.value=!0}function Te(p){w.reset(),w.clearErrors(),w.id=p.id,w.truckid=p.truckid,w.type=p.type?p.type.toLowerCase():"",w.make=p.make?p.make.toLowerCase():"",w.fuel=p.fuel,w.license=p.license,w.vin=p.vin,w.status=p.status,w.tenant_id=p.tenant_id,w.inspection_status=p.inspection_status||"good",w.inspection_expiry_date=p.inspection_expiry_date||new Date().toISOString().split("T")[0],G.value=!0}function Ie(){G.value=!1}function Ve(){const p={...w.data(),truckid:Number(w.truckid),license:Number(w.license)},n=w.id?"put":"post",i=w.id?v.SuperAdmin?route("truck.update.admin",[w.id]):route("truck.update",[v.tenantSlug,w.id]):route(v.SuperAdmin?"truck.store.admin":"truck.store",{tenantSlug:v.tenantSlug});f.value=!0,w[n](i,{data:p,onSuccess:()=>{_.value=w.id?"Truck updated.":"Truck created.",Ie()},onError:()=>Q.value="Save failed",onFinish:()=>f.value=!1})}function ce(p){W.value=p,Z.value=!0}function Le(){if(!W.value)return;const p=v.SuperAdmin?route("truck.destroy.admin",[W.value.id]):route("truck.destroy",[v.tenantSlug,W.value.id]);w.delete(p,{onSuccess:()=>{_.value="Deleted successfully",Z.value=!1}})}function qe(){U.value.length&&(J.value=!0)}function Pe(){const p=route(v.SuperAdmin?"truck.destroyBulk.admin":"truck.destroyBulk",{tenantSlug:v.tenantSlug});ue({ids:U.value}).delete(p,{onSuccess:()=>{_.value=`${U.value.length} deleted`,U.value=[],J.value=!1}})}function Ee(p){var i;const n=(i=p.target.files)==null?void 0:i[0];n&&(de.csv_file=n,de.post(route(v.SuperAdmin?"truck.import.admin":"truck.import",{tenantSlug:v.tenantSlug}),{forceFormData:!0,onSuccess:()=>_.value="Imported",onError:()=>Q.value="Import failed"}))}function Re(){var p,n;if(!P.value.length){Q.value="No data to export";return}(p=Y.value)==null||p.setAttribute("action",route(v.SuperAdmin?"truck.export.admin":"truck.export",{tenantSlug:v.tenantSlug})),(n=Y.value)==null||n.submit()}const We=L(()=>"/storage/upload-data-temps/Trucks Template.csv");Je(()=>{const p=n=>{T.value&&!n.target.closest(".relative")&&(T.value=!1)};document.addEventListener("click",p),Xe(()=>document.removeEventListener("click",p))});const je=L(()=>{if(X.value<=7)return Array.from({length:X.value},(N,Qe)=>Qe+1);const p=[];p.push(1),B.value>3&&p.push("...");const n=Math.max(2,B.value-1),i=Math.min(X.value-1,B.value+1);for(let N=n;N<=i;N++)p.push(N);return B.value<X.value-2&&p.push("..."),X.value>1&&p.push(X.value),p});return(p,n)=>(d(),c("div",gt,[_.value?(d(),b(e(ye),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(ge),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"check_circle",class:"h-5 w-5 text-green-500"}),n[23]||(n[23]=r(" Success "))]),_:1}),t(e(we),null,{default:a(()=>[r(x(_.value),1)]),_:1})]),_:1})):y("",!0),Q.value?(d(),b(e(ye),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(ge),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"alert_circle",class:"h-5 w-5"}),n[24]||(n[24]=r(" Error "))]),_:1}),t(e(we),null,{default:a(()=>[r(x(Q.value),1)]),_:1})]),_:1})):y("",!0),l("div",wt,[l("div",yt,[t(u,{name:"truck",class:"h-6 w-6 text-primary hidden sm:block"}),n[25]||(n[25]=l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Truck Management",-1))]),l("div",bt,[t(e(g),{onClick:Be,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),n[26]||(n[26]=r(" Create New Truck "))]),_:1}),U.value.length?(d(),b(e(g),{key:0,onClick:qe,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),r(" Delete Selected ("+x(U.value.length)+") ",1)]),_:1})):y("",!0),l("div",kt,[t(e(g),{onClick:n[0]||(n[0]=i=>T.value=!T.value),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),n[27]||(n[27]=r(" Upload CSV ")),t(u,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1}),T.value?(d(),c("div",_t,[l("div",ht,[l("label",Ct,[n[28]||(n[28]=l("span",null,"Upload CSV File",-1)),l("input",{type:"file",class:"hidden",onChange:Ee,accept:".csv,.txt"},null,32)]),l("a",{href:We.value,download:"",class:"block px-4 py-2 text-sm hover:bg-muted"},"Download Template",8,St)])])):y("",!0)]),t(e(g),{onClick:me(Re,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),n[29]||(n[29]=r(" Download CSV "))]),_:1})])]),t(e(ve),{class:"shadow-sm border"},{default:a(()=>[t(e(tt),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:a(()=>[l("div",$t,[t(e(st),{class:"text-lg md:text-xl lg:text-2xl flex items-center gap-2"},{default:a(()=>[t(u,{name:"filter",class:"h-5 w-5 text-muted-foreground"}),n[30]||(n[30]=r(" Filters "))]),_:1}),t(e(g),{variant:"ghost",size:"sm",onClick:n[1]||(n[1]=i=>H.value=!H.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:a(()=>[l("span",At,x(H.value?"Hide Filters":"Show Filters"),1),t(u,{name:H.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(et,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:a(()=>[H.value?(d(),b(e(xe),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:a(()=>[l("div",Vt,[l("div",Ot,[l("div",null,[t(e(h),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"search",class:"h-4 w-4 text-muted-foreground"}),n[31]||(n[31]=r(" Search "))]),_:1}),t(e(R),{id:"search",type:"text",modelValue:A.value.search,"onUpdate:modelValue":n[2]||(n[2]=i=>A.value.search=i),placeholder:"Search by truck ID or VIN...",onInput:se,class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),l("div",null,[t(e(h),{for:"type",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[32]||(n[32]=r(" Type "))]),_:1}),l("div",Nt,[F(l("select",{id:"type","onUpdate:modelValue":n[3]||(n[3]=i=>A.value.type=i),onChange:se,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[33]||(n[33]=[l("option",{value:""},"All Types",-1),l("option",{value:"daycab"},"Daycab",-1),l("option",{value:"sleepercab"},"Sleepercab",-1)]),544),[[I,A.value.type]]),n[34]||(n[34]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(h),{for:"make",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[35]||(n[35]=r(" Make "))]),_:1}),l("div",Mt,[F(l("select",{id:"make","onUpdate:modelValue":n[4]||(n[4]=i=>A.value.make=i),onChange:se,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[36]||(n[36]=[l("option",{value:""},"All Makes",-1),l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),544),[[I,A.value.make]]),n[37]||(n[37]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),t(e(g),{onClick:Ue,variant:"ghost",size:"sm",class:"self-start"},{default:a(()=>[t(u,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),n[38]||(n[38]=r(" Reset Filters "))]),_:1})])]),_:1})):y("",!0)]),_:1})]),_:1}),t(e(ve),{class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:a(()=>[t(e(xe),{class:"p-0"},{default:a(()=>[l("div",Dt,[t(e(Ce),{class:"relative h-[500px] overflow-auto"},{default:a(()=>[t(e(Se),null,{default:a(()=>[t(e(E),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:a(()=>[t(e(O),{class:"w-12"},{default:a(()=>[l("div",Ut,[l("input",{type:"checkbox",checked:Me.value,onChange:Fe,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,zt)])]),_:1}),p.SuperAdmin?(d(),b(e(O),{key:0,class:"font-semibold"},{default:a(()=>n[39]||(n[39]=[r("Company")])),_:1})):y("",!0),(d(),c(M,null,z(pe,i=>t(e(O),{key:i,onClick:N=>_e(i),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Ft,[i==="inspection_status"?(d(),c(M,{key:0},[r("Annual Inspection Status")],64)):i==="inspection_expiry_date"?(d(),c(M,{key:1},[r("Annual Inspection Expiration Date")],64)):i==="status"?(d(),c(M,{key:2},[r("Status")],64)):(d(),c(M,{key:3},[r(x(fe(i)),1)],64)),j.value===i?(d(),c("div",Bt,[D.value==="asc"?(d(),c("svg",Tt,n[40]||(n[40]=[l("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(d(),c("svg",It,n[41]||(n[41]=[l("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(d(),c("div",Lt,n[42]||(n[42]=[l("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("path",{d:"M8 10l4-4 4 4"}),l("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),t(e(O),{class:"font-semibold"},{default:a(()=>n[43]||(n[43]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e($e),null,{default:a(()=>[P.value.length?y("",!0):(d(),b(e(E),{key:0},{default:a(()=>[t(e(V),{colspan:p.SuperAdmin?pe.length+3:pe.length+2,class:"py-8 text-center"},{default:a(()=>[l("div",qt,[t(u,{name:"search_x",class:"h-12 w-12 mb-2 opacity-30"}),n[44]||(n[44]=l("p",null,"No trucks found matching your criteria.",-1))])]),_:1},8,["colspan"])]),_:1})),(d(!0),c(M,null,z(P.value,i=>(d(),b(e(E),{key:i.id,class:"hover:bg-muted/50"},{default:a(()=>[t(e(V),{class:"text-center"},{default:a(()=>[F(l("input",{type:"checkbox",value:i.id,"onUpdate:modelValue":n[5]||(n[5]=N=>U.value=N),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,Pt),[[Ne,U.value]])]),_:2},1024),p.SuperAdmin?(d(),b(e(V),{key:0},{default:a(()=>{var N;return[r(x(((N=i.tenant)==null?void 0:N.name)||"—"),1)]}),_:2},1024)):y("",!0),(d(),c(M,null,z(pe,N=>t(e(V),{key:N,class:"whitespace-nowrap"},{default:a(()=>[r(x(te(i,N)),1)]),_:2},1024)),64)),t(e(V),null,{default:a(()=>[l("div",Et,[t(e(g),{variant:"warning",size:"sm",onClick:N=>Te(i),class:"shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"pencil",class:"mr-1 h-4 w-4"}),n[45]||(n[45]=r(" Edit "))]),_:2},1032,["onClick"]),t(e(g),{variant:"destructive",size:"sm",onClick:N=>ce(i),class:"shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4"}),n[46]||(n[46]=r(" Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",Rt,[l("div",Wt,[l("span",jt,[t(u,{name:"list",class:"h-4 w-4"}),r(" Showing "+x(P.value.length)+" of "+x(ke.value.length)+" entries ",1)]),l("span",Qt,[t(u,{name:"layout-grid",class:"h-4 w-4"}),n[47]||(n[47]=r(" Per page: "))]),l("div",Gt,[F(l("select",{"onUpdate:modelValue":n[6]||(n[6]=i=>K.value=i),onChange:ze,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(d(),c(M,null,z([10,25,50,100],i=>l("option",{key:i,value:i},x(i),9,Ht)),64))],544),[[I,K.value,void 0,{number:!0}]]),n[48]||(n[48]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Yt,[t(e(g),{size:"sm",variant:"ghost",onClick:n[7]||(n[7]=i=>he(B.value-1)),disabled:B.value===1,class:"flex items-center gap-1"},{default:a(()=>[t(u,{name:"chevron-left",class:"h-4 w-4"}),n[49]||(n[49]=r(" Prev "))]),_:1},8,["disabled"]),(d(!0),c(M,null,z(je.value,i=>(d(),b(e(g),{key:i,size:"sm",variant:"ghost",onClick:N=>he(i),class:Ae({"border-primary bg-primary/10 text-primary font-medium":i===B.value})},{default:a(()=>[r(x(i),1)]),_:2},1032,["onClick","class"]))),128)),t(e(g),{size:"sm",variant:"ghost",onClick:n[8]||(n[8]=i=>he(B.value+1)),disabled:B.value===X.value,class:"flex items-center gap-1"},{default:a(()=>[n[50]||(n[50]=r(" Next ")),t(u,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})]),_:1}),t(e(re),{open:G.value,"onUpdate:open":n[18]||(n[18]=i=>G.value=i)},{default:a(()=>[t(e(le),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:a(()=>[t(e(ae),{class:"px-4 sm:px-6 border-b pb-4"},{default:a(()=>[l("div",Kt,[t(u,{name:e(w).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(ne),{class:"text-lg sm:text-xl"},{default:a(()=>[r(x(e(w).id?"Edit Truck":"Create Truck"),1)]),_:1})]),t(e(oe),{class:"text-xs sm:text-sm mt-1"},{default:a(()=>[r("Fill in the details to "+x(e(w).id?"update":"create")+" a truck.",1)]),_:1})]),_:1}),l("form",{onSubmit:me(Ve,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-4 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-5 sm:p-6"},[n[70]||(n[70]=l("div",{class:"col-span-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Basic Information")],-1)),p.SuperAdmin?(d(),c("div",Zt,[t(e(h),{for:"tenant",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),n[51]||(n[51]=r(" Company Name "))]),_:1}),l("div",Jt,[F(l("select",{id:"tenant","onUpdate:modelValue":n[9]||(n[9]=i=>e(w).tenant_id=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[n[52]||(n[52]=l("option",{value:""},"Select Company",-1)),(d(!0),c(M,null,z(p.tenants,i=>(d(),c("option",{key:i.id,value:i.id},x(i.name),9,Xt))),128))],512),[[I,e(w).tenant_id]]),n[53]||(n[53]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):y("",!0),l("div",es,[t(e(h),{for:"truckid",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),n[54]||(n[54]=r(" Truck ID "))]),_:1}),t(e(R),{id:"truckid",modelValue:e(w).truckid,"onUpdate:modelValue":n[10]||(n[10]=i=>e(w).truckid=i),modelModifiers:{number:!0},type:"number",required:"",placeholder:"Enter truck ID number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",ts,[t(e(h),{for:"type",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[55]||(n[55]=r(" Type "))]),_:1}),l("div",ss,[F(l("select",{id:"type","onUpdate:modelValue":n[11]||(n[11]=i=>e(w).type=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[56]||(n[56]=[l("option",{value:"daycab"},"Daycab",-1),l("option",{value:"sleepercab"},"Sleepercab",-1)]),512),[[I,e(w).type]]),n[57]||(n[57]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ls,[t(e(h),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[58]||(n[58]=r(" Make "))]),_:1}),l("div",as,[F(l("select",{id:"make","onUpdate:modelValue":n[12]||(n[12]=i=>e(w).make=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[59]||(n[59]=[l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),512),[[I,e(w).make]]),n[60]||(n[60]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[71]||(n[71]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Additional Information")],-1)),l("div",ns,[t(e(h),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[61]||(n[61]=r(" Fuel "))]),_:1}),l("div",os,[F(l("select",{id:"fuel","onUpdate:modelValue":n[13]||(n[13]=i=>e(w).fuel=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[62]||(n[62]=[l("option",{value:"diesel"},"Diesel",-1),l("option",{value:"cng"},"CNG",-1)]),512),[[I,e(w).fuel]]),n[63]||(n[63]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",rs,[t(e(h),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[64]||(n[64]=r(" License "))]),_:1}),t(e(R),{id:"license",modelValue:e(w).license,"onUpdate:modelValue":n[14]||(n[14]=i=>e(w).license=i),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",ds,[t(e(h),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[65]||(n[65]=r(" VIN "))]),_:1}),t(e(R),{id:"vin",modelValue:e(w).vin,"onUpdate:modelValue":n[15]||(n[15]=i=>e(w).vin=i),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[72]||(n[72]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),l("div",is,[t(e(h),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[66]||(n[66]=r(" Annual Inspection Status "))]),_:1}),l("div",us,[F(l("select",{id:"inspection_status","onUpdate:modelValue":n[16]||(n[16]=i=>e(w).inspection_status=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[67]||(n[67]=[l("option",{value:"good"},"Good",-1),l("option",{value:"expired"},"Expired",-1)]),512),[[I,e(w).inspection_status]]),n[68]||(n[68]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ms,[t(e(g),{type:"button",variant:"outline",onClick:n[17]||(n[17]=i=>G.value=!1),class:"transition-all hover:shadow-sm"},{default:a(()=>[t(u,{name:"x",class:"mr-2 h-4 w-4"}),n[69]||(n[69]=r(" Cancel "))]),_:1}),t(e(g),{type:"submit",variant:"default",class:"transition-all hover:shadow-sm"},{default:a(()=>[t(u,{name:e(w).id?"pencil":"plus",class:"mr-2 h-4 w-4"},null,8,["name"]),r(" "+x(e(w).id?"Update":"Create"),1)]),_:1})])],32)]),_:1})]),_:1},8,["open"]),t(e(re),{open:Z.value,"onUpdate:open":n[20]||(n[20]=i=>Z.value=i)},{default:a(()=>[t(e(le),null,{default:a(()=>[t(e(ae),null,{default:a(()=>[t(e(ne),null,{default:a(()=>n[73]||(n[73]=[r("Confirm Deletion")])),_:1}),t(e(oe),null,{default:a(()=>n[74]||(n[74]=[r("Are you sure you want to delete this truck? This action cannot be undone.")])),_:1})]),_:1}),t(e(ie),{class:"mt-4"},{default:a(()=>[t(e(g),{variant:"outline",onClick:n[19]||(n[19]=i=>Z.value=!1)},{default:a(()=>n[75]||(n[75]=[r("Cancel")])),_:1}),t(e(g),{variant:"destructive",onClick:Le},{default:a(()=>n[76]||(n[76]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(re),{open:J.value,"onUpdate:open":n[22]||(n[22]=i=>J.value=i)},{default:a(()=>[t(e(le),null,{default:a(()=>[t(e(ae),null,{default:a(()=>[t(e(ne),null,{default:a(()=>n[77]||(n[77]=[r("Confirm Bulk Deletion")])),_:1}),t(e(oe),null,{default:a(()=>[r("Are you sure you want to delete "+x(U.value.length)+" trucks? This action cannot be undone.",1)]),_:1})]),_:1}),t(e(ie),{class:"mt-4"},{default:a(()=>[t(e(g),{variant:"outline",onClick:n[21]||(n[21]=i=>J.value=!1)},{default:a(()=>n[78]||(n[78]=[r("Cancel")])),_:1}),t(e(g),{variant:"destructive",onClick:Pe},{default:a(()=>n[79]||(n[79]=[r("Delete Selected")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l("form",{ref_key:"exportForm",ref:Y,method:"GET",class:"hidden"},null,512)]))}}),fs={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-2 md:p-4 lg:p-6 space-y-6"},cs={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},vs={class:"flex items-center gap-3"},xs={class:"flex flex-wrap gap-3"},gs={class:"relative"},ws={key:0,class:"absolute right-0 mt-1 w-48 rounded-md border bg-background shadow-md z-10 animate-in fade-in duration-200"},ys={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted transition-colors"},bs={class:"flex flex-wrap gap-2"},ks={key:0,class:"text-sm text-muted-foreground mt-2"},_s={key:0},hs={key:1},Cs={key:2},Ss={key:3,class:"ml-1"},$s={class:"flex justify-between items-center"},As={class:"text-sm hidden sm:inline"},Vs={class:"flex flex-col gap-6"},Os={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},Ns={class:"relative"},Ms=["value"],Ds={class:"relative"},Us=["value"],zs={class:"overflow-x-auto"},Fs={class:"flex items-center justify-center"},Bs=["checked"],Ts={class:"flex items-center space-x-1"},Is={class:"flex items-center space-x-1"},Ls={class:"flex items-center space-x-1"},qs={class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},Ps=["value"],Es={key:0},Rs={key:0},Ws={key:1},js={class:"flex space-x-2"},Qs={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},Gs={class:"flex items-center gap-4 text-sm text-muted-foreground"},Hs={class:"flex items-center gap-1"},Ys={class:"flex items-center gap-1"},Ks={class:"relative"},Zs=["value"],Js={class:"flex space-x-1"},Xs=["innerHTML"],el={key:3,class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},tl={class:"flex items-center gap-2"},sl={class:"max-h-[70vh] overflow-y-auto px-4 sm:px-6"},ll={key:0,class:"col-span-2 mb-1"},al={class:"relative"},nl=["value"],ol={class:"col-span-2 border-b pb-1 mb-2 flex items-center gap-2"},rl={class:"grid grid-cols-2 gap-3 col-span-2"},dl={class:"relative"},il=["value"],ul={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},ml={class:"col-span-2"},pl={class:"flex flex-wrap gap-1 mb-2 bg-muted/30 p-2 rounded-md min-h-[40px]"},fl=["onClick"],cl={key:0,class:"text-muted-foreground text-sm italic"},vl={class:"relative"},xl=["value"],gl={class:"col-span-2"},wl={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},yl={class:"grid grid-cols-2 gap-3 col-span-2"},bl={class:"relative"},kl=["value"],_l={class:"relative"},hl=["value"],Cl={class:"relative"},Sl={class:"grid grid-cols-2 gap-3 col-span-2"},$l={class:"relative"},Al={class:"flex items-center space-x-2"},Vl={key:1,class:"col-span-2"},Ol={class:"border-b pb-1 mb-2 mt-1 flex items-center gap-2"},Nl={class:"flex items-center space-x-2"},Ml={key:0,class:"mt-2"},Dl={class:"space-y-4 sm:space-y-6"},Ul={class:"space-y-1 sm:space-y-2"},zl={class:"rounded-md border"},Fl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Bl={key:0,class:"ml-1 text-xs text-red-500"},Tl={class:"flex space-x-1 sm:space-x-2"},Il={class:"space-y-4 sm:space-y-6"},Ll={class:"space-y-1 sm:space-y-2"},ql={class:"overflow-hidden rounded-md border"},Pl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},El={key:0,class:"ml-1 text-xs text-red-500"},Rl={class:"flex space-x-1 sm:space-x-2"},Wl={class:"space-y-4 sm:space-y-6"},jl={class:"space-y-1 sm:space-y-2"},Ql={class:"overflow-hidden rounded-md border"},Gl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Hl={key:0,class:"ml-1 text-xs text-red-500"},Yl={class:"flex space-x-1 sm:space-x-2"},Kl="/storage/upload-data-temps/Repair Orders Template.csv",Zl=He({__name:"RepairOrdersComponent",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},initialMinInvoiceAmount:{type:[Number,String,null],default:null},initialOutstandingDate:{type:[String,null],default:null},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({search:"",vendor_id:"",status_id:""})},perPage:{type:Number,default:10},openedComponent:{type:String,default:"trucks"}},emits:["update:perPage"],setup(C,{emit:S}){const v=C,A=k({...v.filters,dateFilter:v.dateFilter}),j=k(v.perPage),D=k([]),B=k(!1),q=k(""),K=k(""),U=k(!1),T=k(!1),_=k(!1),Q=k(!1),G=k(!1),Z=k(!1),J=k(!1),W=k("Create"),f=ue({id:null,tenant_id:v.SuperAdmin?"":null,ro_number:"",ro_open_date:"",ro_close_date:"",truck_id:null,vendor_id:null,wo_number:"",wo_status_id:null,invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),H=ue({concern:""}),w=ue({vendor_name:""}),de=ue({name:""}),Y=L(()=>v.SuperAdmin),be=L(()=>v.repairOrders.data.length>0),ke=L(()=>be.value&&v.repairOrders.data.every(m=>D.value.includes(m.id))),X=[{label:"Yesterday",value:"yesterday"},{label:"WTD",value:"current-week"},{label:"T6W",value:"6w"},{label:"Quarterly",value:"quarterly"}],P=m=>{if(!m)return"";const s=m.split("-");if(s.length!==3)return m;const[o,$,Oe]=s;return`${Number($)}/${Number(Oe)}/${o}`};function Me(m){return m?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m):"$0.00"}function pe(m){A.value.dateFilter=m,fe()}function fe(){const m=v.SuperAdmin?"repair_orders.index.admin":"repair_orders.index",s={...v.SuperAdmin?{}:{tenantSlug:v.tenantSlug},...A.value,perPage:j.value,dateFilter:A.value.dateFilter,openedComponent:"repairOrders"};ee.visit(route(m,s),{only:["repairOrders","filters","perPage","dateFilter","weekNumber","startWeekNumber","endWeekNumber","year","workOrdersByTruck","workOrderByAreasOfConcern","openedComponent"]})}function De(){A.value={...A.value,search:"",vendor_id:"",status_id:""},fe()}const te=k({column:"ro_number",direction:"asc"});function se(m){te.value.column===m?te.value.direction=te.value.direction==="asc"?"desc":"asc":te.value={column:m,direction:"asc"},fe()}function Ue(){fe()}function _e(m){if(m){const s=new URL(m),o=s.origin+s.pathname;ee.get(o,{...A.value,perPage:j.value,dateFilter:A.value.dateFilter,openedComponent:"repairOrders",page:s.searchParams.get("page")||1},{preserveScroll:!0})}}function ze(m){const s=m.target.checked;D.value=s?v.repairOrders.data.map(o=>o.id):[]}function he(m){const s=m.target.files[0];if(!s)return;const o=new FormData;o.append("file",s);const $=v.tenantSlug?route("repair_orders.import",{tenantSlug:v.tenantSlug}):route("repair_orders.import.admin");ee.post($,o,{onSuccess:()=>{q.value="Imported",m.target.value=null}})}function Fe(){if(!be.value){K.value="No data";return}window.location.href=v.tenantSlug?route("repair_orders.export",{tenantSlug:v.tenantSlug}):route("repair_orders.export.admin")}function Be(){f.reset(),W.value="Create",T.value=!0}function Te(m){f.reset(),f.reset(),f.id=m.id,f.tenant_id=m.tenant_id,f.ro_number=m.ro_number,f.ro_open_date=m.ro_open_date,f.ro_close_date=m.ro_close_date||"",f.truck_id=m.truck_id,f.vendor_id=m.vendor_id,f.wo_number=m.wo_number,f.wo_status_id=m.wo_status_id,f.invoice=m.invoice||"",f.invoice_amount=m.invoice_amount||"",f.invoice_received=!!m.invoice_received,f.on_qs=m.on_qs||"no",f.qs_invoice_date=m.qs_invoice_date||"",f.disputed=!!m.disputed,f.dispute_outcome=m.dispute_outcome||"",f.repairs_made=m.repairs_made||"",f.area_of_concerns=[],m.areas_of_concern&&Array.isArray(m.areas_of_concern)&&(f.area_of_concerns=m.areas_of_concern.map(s=>s.id)),W.value="Update",T.value=!0}function Ie(){f.reset(),T.value=!1}function Ve(){const m=W.value==="Update"?v.tenantSlug?route("repair_orders.update",[v.tenantSlug,f.id]):route("repair_orders.update.admin",f.id):v.tenantSlug?route("repair_orders.store",{tenantSlug:v.tenantSlug}):route("repair_orders.store.admin");f[W.value==="Update"?"put":"post"](m,{onSuccess:()=>{q.value=`${W.value}d!`,T.value=!1}})}let ce=null;function Le(m){ce=m,_.value=!0}function qe(){if(ce===null)return;const m=v.tenantSlug?route("repair_orders.destroy",[v.tenantSlug,ce]):route("repair_orders.destroy.admin",ce);ee.delete(m,{onSuccess:()=>{q.value="Deleted",_.value=!1}})}function Pe(){Q.value=!0}function Ee(){const m=v.tenantSlug?route("repair_orders.destroyBulk",{tenantSlug:v.tenantSlug}):route("repair_orders.destroyBulk.admin");ue({ids:D.value}).delete(m,{onSuccess:()=>{q.value=`${D.value.length} deleted`,D.value=[],Q.value=!1}})}function Re(){H.reset(),G.value=!0}function We(){H.post(route("area_of_concerns.store.admin"),{onSuccess:()=>H.reset()})}function je(m){ee.delete(route("area_of_concerns.destroy.admin",m))}function p(m){ee.post(route("area_of_concerns.restore.admin",m))}function n(){w.reset(),Z.value=!0}function i(m){ee.delete(route("vendors.destroy.admin",m))}function N(m){ee.post(route("vendors.restore.admin",m))}function Qe(){de.reset(),J.value=!0}function lt(){de.post(route("wo_statuses.store.admin"),{onSuccess:()=>de.reset()})}function at(m){ee.delete(route("wo_statuses.destroy.admin",m))}function nt(m){ee.post(route("wo_statuses.restore.admin",m))}const ot=L(()=>Object.fromEntries(v.areasOfConcern.map(m=>[m.id,m.concern]))),rt=L(()=>v.areasOfConcern.filter(m=>!f.area_of_concerns.includes(m.id)));function dt(m){const s=Number(m.target.value);s&&!f.area_of_concerns.includes(s)&&f.area_of_concerns.push(s),m.target.value=""}function it(m){f.area_of_concerns=f.area_of_concerns.filter(s=>s!==m)}const Ye=L(()=>(v.dateFilter==="yesterday"||v.dateFilter==="current-week")&&v.weekNumber&&v.year?`Week ${v.weekNumber}, ${v.year}`:(v.dateFilter==="6w"||v.dateFilter==="quarterly")&&v.startWeekNumber&&v.endWeekNumber&&v.year?`Weeks ${v.startWeekNumber}-${v.endWeekNumber}, ${v.year}`:"");return Je(()=>{const m=s=>{U.value&&!s.target.closest(".relative")&&(U.value=!1)};document.addEventListener("click",m),Xe(()=>document.removeEventListener("click",m))}),setTimeout(()=>q.value="",5e3),(m,s)=>(d(),c("div",fs,[q.value?(d(),b(e(ye),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(ge),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"check_circle",class:"h-5 w-5 text-green-500"}),s[44]||(s[44]=r(" Success "))]),_:1}),t(e(we),null,{default:a(()=>[r(x(q.value),1)]),_:1})]),_:1})):y("",!0),K.value?(d(),b(e(ye),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(ge),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"alert_circle",class:"h-5 w-5"}),s[45]||(s[45]=r(" Error "))]),_:1}),t(e(we),null,{default:a(()=>[r(x(K.value),1)]),_:1})]),_:1})):y("",!0),l("div",cs,[l("div",vs,[t(u,{name:"clipboard-list",class:"h-6 w-6 text-primary hidden sm:block"}),s[46]||(s[46]=l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Repair Orders",-1))]),l("div",xs,[t(e(g),{onClick:Be,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),s[47]||(s[47]=r(" Create New "))]),_:1}),D.value.length?(d(),b(e(g),{key:0,onClick:Pe,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),r(" Delete Selected ("+x(D.value.length)+") ",1)]),_:1})):y("",!0),Y.value?(d(),b(e(g),{key:1,onClick:Re,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[48]||(s[48]=r(" Areas "))]),_:1})):y("",!0),Y.value?(d(),b(e(g),{key:2,onClick:n,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[49]||(s[49]=r(" Vendors "))]),_:1})):y("",!0),Y.value?(d(),b(e(g),{key:3,onClick:Qe,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[50]||(s[50]=r(" Statuses "))]),_:1})):y("",!0),l("div",gs,[t(e(g),{onClick:s[0]||(s[0]=o=>U.value=!U.value),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),s[51]||(s[51]=r(" Upload CSV ")),t(u,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1}),U.value?(d(),c("div",ws,[l("label",ys,[s[52]||(s[52]=l("span",null,"Upload CSV",-1)),l("input",{type:"file",class:"hidden",onChange:he,accept:".csv"},null,32)]),l("a",{href:Kl,download:"",class:"block px-4 py-2 text-sm hover:bg-muted transition-colors"},"Download Template")])):y("",!0)]),t(e(g),{onClick:me(Fe,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),s[53]||(s[53]=r(" Download CSV "))]),_:1})])]),t(e(ve),{class:"shadow-sm border bg-card"},{default:a(()=>[t(e(xe),{class:"p-3 md:p-4"},{default:a(()=>[l("div",bs,[(d(),c(M,null,z(X,o=>t(e(g),{key:o.value,size:"sm",variant:"outline",class:Ae({"border-primary bg-primary/10 text-primary":A.value.dateFilter===o.value}),onClick:$=>pe(o.value)},{default:a(()=>[r(x(o.label),1)]),_:2},1032,["class","onClick"])),64))]),C.dateRange?(d(),c("div",ks,[C.dateFilter==="yesterday"&&C.dateRange.start?(d(),c("span",_s," Showing data from "+x(P(C.dateRange.start)),1)):C.dateRange.start&&C.dateRange.end?(d(),c("span",hs," Showing data from "+x(P(C.dateRange.start))+" to "+x(P(C.dateRange.end)),1)):(d(),c("span",Cs,x(C.dateRange.label),1)),Ye.value?(d(),c("span",Ss,"("+x(Ye.value)+")",1)):y("",!0)])):y("",!0)]),_:1})]),_:1}),t(e(ve),{class:"shadow-sm border"},{default:a(()=>[t(e(tt),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:a(()=>[l("div",$s,[t(e(st),{class:"text-lg md:text-xl lg:text-2xl flex items-center gap-2"},{default:a(()=>[t(u,{name:"filter",class:"h-5 w-5 text-muted-foreground"}),s[54]||(s[54]=r(" Filters "))]),_:1}),t(e(g),{variant:"ghost",size:"sm",onClick:s[1]||(s[1]=o=>B.value=!B.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:a(()=>[l("span",As,x(B.value?"Hide Filters":"Show Filters"),1),t(u,{name:B.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(et,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:a(()=>[B.value?(d(),b(e(xe),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:a(()=>[l("div",Vs,[l("div",Os,[l("div",null,[t(e(h),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"search",class:"h-4 w-4 text-muted-foreground"}),s[55]||(s[55]=r(" Search "))]),_:1}),t(e(R),{id:"search",type:"text",modelValue:A.value.search,"onUpdate:modelValue":s[2]||(s[2]=o=>A.value.search=o),placeholder:"RO#, Invoice...",class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),l("div",null,[t(e(h),{for:"vendor",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),s[56]||(s[56]=r(" Vendor "))]),_:1}),l("div",Ns,[F(l("select",{id:"vendor","onUpdate:modelValue":s[3]||(s[3]=o=>A.value.vendor_id=o),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s[57]||(s[57]=l("option",{value:""},"All Vendors",-1)),(d(!0),c(M,null,z(C.vendors,o=>(d(),c("option",{key:o.id,value:o.id},x(o.vendor_name),9,Ms))),128))],512),[[I,A.value.vendor_id]]),s[58]||(s[58]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(h),{for:"status",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),s[59]||(s[59]=r(" Status "))]),_:1}),l("div",Ds,[F(l("select",{id:"status","onUpdate:modelValue":s[4]||(s[4]=o=>A.value.status_id=o),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s[60]||(s[60]=l("option",{value:""},"All Statuses",-1)),(d(!0),c(M,null,z(C.woStatuses,o=>(d(),c("option",{key:o.id,value:o.id},x(o.name),9,Us))),128))],512),[[I,A.value.status_id]]),s[61]||(s[61]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),t(e(g),{onClick:De,variant:"ghost",size:"sm",class:"self-start"},{default:a(()=>[t(u,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),s[62]||(s[62]=r(" Reset Filters "))]),_:1})])]),_:1})):y("",!0)]),_:1})]),_:1}),be.value?(d(),b(e(ve),{key:2,class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:a(()=>[t(e(xe),{class:"p-0"},{default:a(()=>[l("div",zs,[t(e(Ce),{class:"relative h-[500px] overflow-auto"},{default:a(()=>[t(e(Se),null,{default:a(()=>[t(e(E),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:a(()=>[t(e(O),{class:"w-12"},{default:a(()=>[l("div",Fs,[l("input",{type:"checkbox",checked:ke.value,onChange:ze,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Bs)])]),_:1}),t(e(O),{onClick:s[5]||(s[5]=o=>se("ro_number")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Ts,[s[63]||(s[63]=r(" RO# ")),t(Ge,{column:"ro_number",sortState:te.value},null,8,["sortState"])])]),_:1}),Y.value?(d(),b(e(O),{key:0,class:"font-semibold"},{default:a(()=>s[64]||(s[64]=[r("Company")])),_:1})):y("",!0),t(e(O),{onClick:s[6]||(s[6]=o=>se("ro_open_date")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Is,[s[65]||(s[65]=r(" Open Date ")),t(Ge,{column:"ro_open_date",sortState:te.value},null,8,["sortState"])])]),_:1}),t(e(O),{onClick:s[7]||(s[7]=o=>se("ro_close_date")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Ls,[s[66]||(s[66]=r(" Close Date ")),t(Ge,{column:"ro_close_date",sortState:te.value},null,8,["sortState"])])]),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[67]||(s[67]=[r("Truck")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[68]||(s[68]=[r("Vendor")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[69]||(s[69]=[r("Areas of Concern")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[70]||(s[70]=[r("WO#")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[71]||(s[71]=[r("WO Status")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[72]||(s[72]=[r("Invoice")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[73]||(s[73]=[r("Amount")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[74]||(s[74]=[r("Invoice Received")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[75]||(s[75]=[r("On QS")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[76]||(s[76]=[r("QS Invoice Date")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[77]||(s[77]=[r("Disputed")])),_:1}),t(e(O),{class:"font-semibold"},{default:a(()=>s[78]||(s[78]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e($e),null,{default:a(()=>[C.repairOrders.data.length?y("",!0):(d(),b(e(E),{key:0},{default:a(()=>[t(e(V),{colspan:Y.value?16:15,class:"py-8 text-center"},{default:a(()=>[l("div",qs,[t(u,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),s[79]||(s[79]=l("h2",{class:"text-lg font-medium"},"No repair orders found.",-1)),s[80]||(s[80]=l("p",{class:"text-muted-foreground mt-2"},"There is no data to display at this time.",-1))])]),_:1},8,["colspan"])]),_:1})),(d(!0),c(M,null,z(C.repairOrders.data,o=>(d(),b(e(E),{key:o.id,class:"hover:bg-muted/50 transition-colors"},{default:a(()=>[t(e(V),null,{default:a(()=>[F(l("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":s[8]||(s[8]=$=>D.value=$),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,8,Ps),[[Ne,D.value]])]),_:2},1024),t(e(V),{class:"whitespace-nowrap font-medium"},{default:a(()=>[r(x(o.ro_number),1)]),_:2},1024),Y.value?(d(),b(e(V),{key:0,class:"whitespace-nowrap"},{default:a(()=>{var $;return[r(x((($=o.tenant)==null?void 0:$.name)||"—"),1)]}),_:2},1024)):y("",!0),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(P(o.ro_open_date)),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(o.ro_close_date?P(o.ro_close_date):"N/A"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var $;return[r(x((($=o.truck)==null?void 0:$.truckid)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var $;return[r(x((($=o.vendor)==null?void 0:$.vendor_name)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var $;return[($=o.areas_of_concern)!=null&&$.length?(d(),c("span",Es,[(d(!0),c(M,null,z(o.areas_of_concern,(Oe,ut)=>(d(),c("span",{key:Oe.id},[r(x(Oe.concern),1),ut<o.areas_of_concern.length-1?(d(),c("span",Rs,", ")):y("",!0)]))),128))])):(d(),c("span",Ws,"—"))]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(o.wo_number||"—"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var $;return[r(x((($=o.wo_status)==null?void 0:$.name)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(o.invoice||"—"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(Me(o.invoice_amount)),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(o.invoice_received?"Yes":"No"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(o.on_qs?o.on_qs.charAt(0).toUpperCase()+o.on_qs.slice(1):"No"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(o.qs_invoice_date?P(o.qs_invoice_date):"N/A"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(x(o.disputed?"Yes":"No"),1)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",js,[t(e(g),{size:"sm",variant:"warning",onClick:$=>Te(o),class:"h-8 px-2"},{default:a(()=>[t(u,{name:"pencil",class:"h-4 w-4"})]),_:2},1032,["onClick"]),t(e(g),{size:"sm",variant:"destructive",onClick:$=>Le(o.id),class:"h-8 px-2"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1}),l("div",Qs,[l("div",Gs,[l("span",Hs,[t(u,{name:"list",class:"h-4 w-4"}),r(" Showing "+x(C.repairOrders.data.length)+" of "+x(C.repairOrders.total)+" entries ",1)]),l("span",Ys,[t(u,{name:"layout-grid",class:"h-4 w-4"}),s[81]||(s[81]=r(" Per page: "))]),l("div",Ks,[F(l("select",{"onUpdate:modelValue":s[9]||(s[9]=o=>j.value=o),onChange:Ue,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(d(),c(M,null,z([10,25,50,100],o=>l("option",{key:o,value:o},x(o),9,Zs)),64))],544),[[I,j.value,void 0,{number:!0}]]),s[82]||(s[82]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Js,[t(e(g),{size:"sm",variant:"ghost",onClick:s[10]||(s[10]=o=>_e(C.repairOrders.prev_page_url)),disabled:!C.repairOrders.prev_page_url,class:"flex items-center gap-1"},{default:a(()=>[t(u,{name:"chevron-left",class:"h-4 w-4"}),s[83]||(s[83]=r(" Prev "))]),_:1},8,["disabled"]),(d(!0),c(M,null,z(C.repairOrders.links.slice(1,-1),o=>(d(),b(e(g),{key:o.label,size:"sm",variant:"ghost",onClick:$=>_e(o.url),disabled:!o.url,class:Ae({"border-primary bg-primary/10 text-primary font-medium":o.active})},{default:a(()=>[l("span",{innerHTML:o.label},null,8,Xs)]),_:2},1032,["onClick","disabled","class"]))),128)),t(e(g),{size:"sm",variant:"ghost",onClick:s[11]||(s[11]=o=>_e(C.repairOrders.next_page_url)),disabled:!C.repairOrders.next_page_url,class:"flex items-center gap-1"},{default:a(()=>[s[84]||(s[84]=r(" Next ")),t(u,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})):(d(),c("div",el,[t(u,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),s[85]||(s[85]=l("h2",{class:"text-lg font-medium"},"There is No Data to give Information about.",-1))])),t(e(re),{open:T.value,"onUpdate:open":s[29]||(s[29]=o=>T.value=o)},{default:a(()=>[t(e(le),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:a(()=>[t(e(ae),{class:"px-4 sm:px-6 border-b pb-3"},{default:a(()=>[l("div",tl,[t(u,{name:e(f).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(ne),{class:"text-lg sm:text-xl font-semibold"},{default:a(()=>[r(x(W.value)+" Repair Order",1)]),_:1})]),t(e(oe),{class:"text-xs sm:text-sm mt-1 text-muted-foreground"},{default:a(()=>[r("Fill in the details to "+x(W.value.toLowerCase())+" a repair order.",1)]),_:1})]),_:1}),l("div",sl,[l("form",{onSubmit:me(Ve,["prevent"]),class:"grid grid-cols-1 gap-3 p-3 sm:grid-cols-2 sm:gap-4 sm:p-4"},[Y.value?(d(),c("div",ll,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),s[86]||(s[86]=r(" Company "))]),_:1}),l("div",al,[F(l("select",{"onUpdate:modelValue":s[12]||(s[12]=o=>e(f).tenant_id=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm ring-offset-background focus-visible:ring-2"},[s[87]||(s[87]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),c(M,null,z(C.tenants,o=>(d(),c("option",{key:o.id,value:o.id},x(o.name),9,nl))),128))],512),[[I,e(f).tenant_id]]),s[88]||(s[88]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):y("",!0),l("div",ol,[t(u,{name:"info",class:"h-4 w-4 text-primary"}),s[89]||(s[89]=l("h3",{class:"text-md font-semibold text-primary"},"Basic Information",-1))]),l("div",rl,[l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),s[90]||(s[90]=r(" RO# "))]),_:1}),t(e(R),{modelValue:e(f).ro_number,"onUpdate:modelValue":s[13]||(s[13]=o=>e(f).ro_number=o),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),s[91]||(s[91]=r(" Truck "))]),_:1}),l("div",dl,[F(l("select",{"onUpdate:modelValue":s[14]||(s[14]=o=>e(f).truck_id=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[92]||(s[92]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),c(M,null,z(C.trucks,o=>(d(),c("option",{key:o.id,value:o.id},x(o.truckid),9,il))),128))],512),[[I,e(f).truck_id]]),s[93]||(s[93]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar",class:"h-4 w-4 text-muted-foreground"}),s[94]||(s[94]=r(" Open Date "))]),_:1}),t(e(R),{type:"date",modelValue:e(f).ro_open_date,"onUpdate:modelValue":s[15]||(s[15]=o=>e(f).ro_open_date=o),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar-check",class:"h-4 w-4 text-muted-foreground"}),s[95]||(s[95]=r(" Close Date "))]),_:1}),t(e(R),{type:"date",modelValue:e(f).ro_close_date,"onUpdate:modelValue":s[16]||(s[16]=o=>e(f).ro_close_date=o),class:"h-9 w-full"},null,8,["modelValue"])])]),l("div",ul,[t(u,{name:"wrench",class:"h-4 w-4 text-primary"}),s[96]||(s[96]=l("h3",{class:"text-md font-semibold text-primary"},"Repair Details",-1))]),l("div",ml,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"alert-triangle",class:"h-4 w-4 text-muted-foreground"}),s[97]||(s[97]=r(" Areas of Concern "))]),_:1}),l("div",pl,[(d(!0),c(M,null,z(e(f).area_of_concerns,o=>(d(),c("span",{key:o,class:"badge bg-primary/10 text-primary px-2 py-1 rounded-md flex items-center"},[r(x(ot.value[o]),1),l("button",{onClick:$=>it(o),class:"ml-1 hover:text-red-500 focus:outline-none"},"×",8,fl)]))),128)),e(f).area_of_concerns.length?y("",!0):(d(),c("span",cl,"No areas selected"))]),l("div",vl,[l("select",{onChange:s[17]||(s[17]=o=>dt(o)),class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[98]||(s[98]=l("option",{value:""},"Select an area to add",-1)),(d(!0),c(M,null,z(rt.value,o=>(d(),c("option",{key:o.id,value:o.id},x(o.concern),9,xl))),128))],32),s[99]||(s[99]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",gl,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"clipboard-check",class:"h-4 w-4 text-muted-foreground"}),s[100]||(s[100]=r(" Repairs Made "))]),_:1}),F(l("textarea",{"onUpdate:modelValue":s[18]||(s[18]=o=>e(f).repairs_made=o),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[Ze,e(f).repairs_made]])]),l("div",wl,[t(u,{name:"receipt",class:"h-4 w-4 text-primary"}),s[101]||(s[101]=l("h3",{class:"text-md font-semibold text-primary"},"Vendor & Invoice Information",-1))]),l("div",yl,[l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"building-2",class:"h-4 w-4 text-muted-foreground"}),s[102]||(s[102]=r(" Vendor "))]),_:1}),l("div",bl,[F(l("select",{"onUpdate:modelValue":s[19]||(s[19]=o=>e(f).vendor_id=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[103]||(s[103]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),c(M,null,z(C.vendors,o=>(d(),c("option",{key:o.id,value:o.id},x(o.vendor_name),9,kl))),128))],512),[[I,e(f).vendor_id]]),s[104]||(s[104]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"file-text",class:"h-4 w-4 text-muted-foreground"}),s[105]||(s[105]=r(" WO# "))]),_:1}),t(e(R),{modelValue:e(f).wo_number,"onUpdate:modelValue":s[20]||(s[20]=o=>e(f).wo_number=o),class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),s[106]||(s[106]=r(" WO Status "))]),_:1}),l("div",_l,[F(l("select",{"onUpdate:modelValue":s[21]||(s[21]=o=>e(f).wo_status_id=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[107]||(s[107]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),c(M,null,z(C.woStatuses,o=>(d(),c("option",{key:o.id,value:o.id},x(o.name),9,hl))),128))],512),[[I,e(f).wo_status_id]]),s[108]||(s[108]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"check-square",class:"h-4 w-4 text-muted-foreground"}),s[109]||(s[109]=r(" On QS "))]),_:1}),l("div",Cl,[F(l("select",{"onUpdate:modelValue":s[22]||(s[22]=o=>e(f).on_qs=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},s[110]||(s[110]=[l("option",{value:"yes"},"Yes",-1),l("option",{value:"no"},"No",-1),l("option",{value:"not expected"},"Not Expected",-1)]),512),[[I,e(f).on_qs]]),s[111]||(s[111]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),l("div",Sl,[l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"file-invoice",class:"h-4 w-4 text-muted-foreground"}),s[112]||(s[112]=r(" Invoice "))]),_:1}),t(e(R),{modelValue:e(f).invoice,"onUpdate:modelValue":s[23]||(s[23]=o=>e(f).invoice=o),class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"dollar-sign",class:"h-4 w-4 text-muted-foreground"}),s[113]||(s[113]=r(" Amount "))]),_:1}),l("div",$l,[s[114]||(s[114]=l("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-muted-foreground"},"$",-1)),t(e(R),{type:"number",step:"0.01",modelValue:e(f).invoice_amount,"onUpdate:modelValue":s[24]||(s[24]=o=>e(f).invoice_amount=o),class:"pl-7 h-9 w-full"},null,8,["modelValue"])])]),l("div",Al,[F(l("input",{type:"checkbox","onUpdate:modelValue":s[25]||(s[25]=o=>e(f).invoice_received=o),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[Ne,e(f).invoice_received]]),t(e(h),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:a(()=>[t(u,{name:"inbox",class:"h-4 w-4 text-muted-foreground"}),s[115]||(s[115]=r(" Invoice Received "))]),_:1})]),l("div",null,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar-days",class:"h-4 w-4 text-muted-foreground"}),s[116]||(s[116]=r(" QS Invoice Date "))]),_:1}),t(e(R),{type:"date",modelValue:e(f).qs_invoice_date,"onUpdate:modelValue":s[26]||(s[26]=o=>e(f).qs_invoice_date=o),class:"h-9 w-full"},null,8,["modelValue"])])]),W.value==="Update"?(d(),c("div",Vl,[l("div",Ol,[t(u,{name:"alert-octagon",class:"h-4 w-4 text-primary"}),s[117]||(s[117]=l("h3",{class:"text-md font-semibold text-primary"},"Dispute Information",-1))]),l("div",Nl,[F(l("input",{type:"checkbox","onUpdate:modelValue":s[27]||(s[27]=o=>e(f).disputed=o),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[Ne,e(f).disputed]]),t(e(h),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:a(()=>[t(u,{name:"alert-circle",class:"h-4 w-4 text-muted-foreground"}),s[118]||(s[118]=r(" Disputed? "))]),_:1})]),e(f).disputed?(d(),c("div",Ml,[t(e(h),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"message-square",class:"h-4 w-4 text-muted-foreground"}),s[119]||(s[119]=r(" Dispute Outcome "))]),_:1}),F(l("textarea",{"onUpdate:modelValue":s[28]||(s[28]=o=>e(f).dispute_outcome=o),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[Ze,e(f).dispute_outcome]])])):y("",!0)])):y("",!0)],32)]),t(e(ie),{class:"px-4 sm:px-6 flex justify-end gap-2 mt-2 pt-3 border-t"},{default:a(()=>[t(e(g),{variant:"outline",onClick:Ie,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:a(()=>s[120]||(s[120]=[r("Cancel")])),_:1}),t(e(g),{type:"submit",onClick:Ve,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:a(()=>[r(x(W.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(re),{open:_.value,"onUpdate:open":s[31]||(s[31]=o=>_.value=o)},{default:a(()=>[t(e(le),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(ae),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(ne),{class:"text-lg sm:text-xl"},{default:a(()=>s[121]||(s[121]=[r("Confirm Deletion")])),_:1}),t(e(oe),{class:"text-xs sm:text-sm"},{default:a(()=>s[122]||(s[122]=[r("This action cannot be undone.")])),_:1})]),_:1}),t(e(ie),{class:"px-4 sm:px-6 flex gap-2"},{default:a(()=>[t(e(g),{variant:"outline",onClick:s[30]||(s[30]=o=>_.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[123]||(s[123]=[r("Cancel")])),_:1}),t(e(g),{variant:"destructive",onClick:qe,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[124]||(s[124]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(re),{open:Q.value,"onUpdate:open":s[33]||(s[33]=o=>Q.value=o)},{default:a(()=>[t(e(le),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(ae),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(ne),{class:"text-lg sm:text-xl"},{default:a(()=>[r("Delete "+x(D.value.length)+" Orders?",1)]),_:1}),t(e(oe),{class:"text-xs sm:text-sm"},{default:a(()=>s[125]||(s[125]=[r("This action cannot be undone.")])),_:1})]),_:1}),t(e(ie),{class:"px-4 sm:px-6 flex gap-2"},{default:a(()=>[t(e(g),{variant:"outline",onClick:s[32]||(s[32]=o=>Q.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[126]||(s[126]=[r("Cancel")])),_:1}),t(e(g),{variant:"destructive",onClick:Ee,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[127]||(s[127]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(re),{open:G.value,"onUpdate:open":s[36]||(s[36]=o=>G.value=o)},{default:a(()=>[t(e(le),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(ae),null,{default:a(()=>[t(e(ne),null,{default:a(()=>s[128]||(s[128]=[r("Manage Areas of Concern")])),_:1}),t(e(oe),{class:"text-sm sm:text-base"},{default:a(()=>s[129]||(s[129]=[r("Add or remove areas of concern for repair orders.")])),_:1})]),_:1}),l("div",Dl,[l("form",{onSubmit:me(We,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",Ul,[t(e(h),{for:"concern"},{default:a(()=>s[130]||(s[130]=[r("Area of Concern")])),_:1}),t(e(R),{id:"concern",modelValue:e(H).concern,"onUpdate:modelValue":s[34]||(s[34]=o=>e(H).concern=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(g),{type:"submit",class:"w-full"},{default:a(()=>s[131]||(s[131]=[r("Add Area of Concern")])),_:1})],32),l("div",zl,[l("div",Fl,[t(e(Ce),null,{default:a(()=>[t(e(Se),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(E),null,{default:a(()=>[t(e(O),{class:"text-xs sm:text-sm"},{default:a(()=>s[132]||(s[132]=[r("Area of Concern")])),_:1}),t(e(O),{class:"w-20 text-xs sm:text-sm"},{default:a(()=>s[133]||(s[133]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e($e),null,{default:a(()=>[v.areasOfConcern.length?y("",!0):(d(),b(e(E),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[134]||(s[134]=[r("No areas of concern found.")])),_:1})]),_:1})),(d(!0),c(M,null,z(C.areasOfConcern,o=>(d(),b(e(E),{key:o.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[r(x(o.concern)+" ",1),o.deleted_at?(d(),c("span",Bl,"(Deleted)")):y("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",Tl,[o.deleted_at?(d(),b(e(g),{key:0,onClick:$=>p(o.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):y("",!0),o.deleted_at?y("",!0):(d(),b(e(g),{key:1,onClick:$=>je(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"]))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ie),null,{default:a(()=>[t(e(g),{onClick:s[35]||(s[35]=o=>G.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[135]||(s[135]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(re),{open:Z.value,"onUpdate:open":s[40]||(s[40]=o=>Z.value=o)},{default:a(()=>[t(e(le),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(ae),null,{default:a(()=>[t(e(ne),null,{default:a(()=>s[136]||(s[136]=[r("Manage Vendors")])),_:1}),t(e(oe),{class:"text-sm sm:text-base"},{default:a(()=>s[137]||(s[137]=[r("Add or remove vendors for repair orders.")])),_:1})]),_:1}),l("div",Il,[l("form",{onSubmit:s[38]||(s[38]=me((...o)=>m.submitVendorForm&&m.submitVendorForm(...o),["prevent"])),class:"space-y-3 sm:space-y-4"},[l("div",Ll,[t(e(h),{for:"vendor_name"},{default:a(()=>s[138]||(s[138]=[r("Vendor Name")])),_:1}),t(e(R),{id:"vendor_name",modelValue:e(w).vendor_name,"onUpdate:modelValue":s[37]||(s[37]=o=>e(w).vendor_name=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(g),{type:"submit",class:"w-full"},{default:a(()=>s[139]||(s[139]=[r("Add Vendor")])),_:1})],32),l("div",ql,[l("div",Pl,[t(e(Ce),null,{default:a(()=>[t(e(Se),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(E),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(O),{class:"text-xs sm:text-sm"},{default:a(()=>s[140]||(s[140]=[r("Vendor Name")])),_:1}),t(e(O),{class:"text-xs sm:text-sm"},{default:a(()=>s[141]||(s[141]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e($e),null,{default:a(()=>[C.vendors.length===0?(d(),b(e(E),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[142]||(s[142]=[r("No vendors found.")])),_:1})]),_:1})):y("",!0),(d(!0),c(M,null,z(C.vendors,o=>(d(),b(e(E),{key:o.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[r(x(o.vendor_name)+" ",1),o.deleted_at?(d(),c("span",El,"(Deleted)")):y("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",Rl,[o.deleted_at?(d(),b(e(g),{key:0,onClick:$=>N(o.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):y("",!0),o.deleted_at?y("",!0):(d(),b(e(g),{key:1,onClick:$=>i(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(d(),b(e(g),{key:2,onClick:$=>m.forceDeleteVendor(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):y("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ie),null,{default:a(()=>[t(e(g),{onClick:s[39]||(s[39]=o=>Z.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[143]||(s[143]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(re),{open:J.value,"onUpdate:open":s[43]||(s[43]=o=>J.value=o)},{default:a(()=>[t(e(le),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(ae),null,{default:a(()=>[t(e(ne),null,{default:a(()=>s[144]||(s[144]=[r("Manage Work Order Statuses")])),_:1}),t(e(oe),{class:"text-sm sm:text-base"},{default:a(()=>s[145]||(s[145]=[r(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),l("div",Wl,[l("form",{onSubmit:me(lt,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",jl,[t(e(h),{for:"status_name"},{default:a(()=>s[146]||(s[146]=[r("Status Name")])),_:1}),t(e(R),{id:"status_name",modelValue:e(de).name,"onUpdate:modelValue":s[41]||(s[41]=o=>e(de).name=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(g),{type:"submit",class:"w-full"},{default:a(()=>s[147]||(s[147]=[r("Add Work Order Status")])),_:1})],32),l("div",Ql,[l("div",Gl,[t(e(Ce),null,{default:a(()=>[t(e(Se),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(E),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(O),{class:"text-xs sm:text-sm"},{default:a(()=>s[148]||(s[148]=[r("Status Name")])),_:1}),t(e(O),{class:"text-xs sm:text-sm"},{default:a(()=>s[149]||(s[149]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e($e),null,{default:a(()=>[v.woStatuses.length?y("",!0):(d(),b(e(E),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[150]||(s[150]=[r("No work order statuses found.")])),_:1})]),_:1})),(d(!0),c(M,null,z(v.woStatuses,o=>(d(),b(e(E),{key:o.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[r(x(o.name)+" ",1),o.deleted_at?(d(),c("span",Hl,"(Deleted)")):y("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",Yl,[o.deleted_at?(d(),b(e(g),{key:0,onClick:$=>nt(o.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):y("",!0),o.deleted_at?y("",!0):(d(),b(e(g),{key:1,onClick:$=>at(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(d(),b(e(g),{key:2,onClick:$=>m.forceDeleteStatus(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):y("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ie),null,{default:a(()=>[t(e(g),{onClick:s[42]||(s[42]=o=>J.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[151]||(s[151]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}}),Jl=xt(Zl,[["__scopeId","data-v-2ad4b08f"]]),Xl={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-2 md:p-4 lg:p-6 space-y-6"},ea={class:"border-b"},ta={class:"flex justify-center space-x-8 px-4 pt-4"},sa={key:0,class:"flex justify-center items-center p-12"},la={key:1,class:"p-4"},$a=He({__name:"AssetMaintenance",props:{entries:{type:Array,default:()=>[]},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},repairOrders:{type:Object,default:()=>({data:[],links:[]})},dateRange:{type:Object,default:null},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},dateFilter:{type:String,default:"yesterday"},tenantSlug:String,SuperAdmin:Boolean,perPage:{type:Number,default:10},openedComponent:{type:String,default:"trucks"}},setup(C){const S=C,v=k(!1),A=k(""),j=k(""),D=k(S.openedComponent||"trucks"),B=L(()=>[{title:S.tenantSlug?"Dashboard":"Admin Dashboard",href:S.tenantSlug?route("dashboard",{tenantSlug:S.tenantSlug}):route("admin.dashboard")},{title:"Asset Management",href:"#"}]),q=L(()=>D.value==="trucks"?ps:Jl),K=L(()=>D.value==="trucks"?{entries:S.entries,tenantSlug:S.tenantSlug,SuperAdmin:S.SuperAdmin,tenants:S.tenants,trucks:S.trucks,vendors:S.vendors,areasOfConcern:S.areasOfConcern}:{repairOrders:S.repairOrders,tenantSlug:S.tenantSlug,SuperAdmin:S.SuperAdmin,tenants:S.tenants,trucks:S.trucks,vendors:S.vendors,areasOfConcern:S.areasOfConcern,dateRange:S.dateRange,woStatuses:S.woStatuses,weekNumber:S.weekNumber,startWeekNumber:S.startWeekNumber,endWeekNumber:S.endWeekNumber,year:S.year,canceledQSInvoices:S.canceledQSInvoices,outstandingInvoices:S.outstandingInvoices,workOrdersByTruck:S.workOrdersByTruck,workOrderByAreasOfConcern:S.workOrderByAreasOfConcern,filters:S.filters,dateFilter:S.dateFilter,perPage:S.perPage});function U(T){v.value=!0,D.value=T;const _=new URL(window.location.href);_.search="",_.searchParams.set("openedComponent",T),window.history.replaceState({},"",_.href),setTimeout(()=>{v.value=!1},300)}return(T,_)=>(d(),b(pt,{breadcrumbs:B.value,tenantSlug:C.tenantSlug},{default:a(()=>[t(e(mt),{title:"Asset Maintenance"}),l("div",Xl,[A.value?(d(),b(e(ye),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(ge),null,{default:a(()=>_[2]||(_[2]=[r("Success")])),_:1}),t(e(we),null,{default:a(()=>[r(x(A.value),1)]),_:1})]),_:1})):y("",!0),j.value?(d(),b(e(ye),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(ge),null,{default:a(()=>_[3]||(_[3]=[r("Error")])),_:1}),t(e(we),null,{default:a(()=>[r(x(j.value),1)]),_:1})]),_:1})):y("",!0),_[7]||(_[7]=l("div",{class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6"},[l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"}," Asset Management "),l("div",{class:"flex flex-wrap gap-3 mt-2 sm:mt-0"})],-1)),t(e(ve),{class:"shadow-sm border bg-card"},{default:a(()=>[t(e(xe),{class:"p-0"},{default:a(()=>[l("div",ea,[l("div",ta,[t(e(g),{onClick:_[0]||(_[0]=Q=>U("trucks")),variant:"ghost",class:Ae([[D.value==="trucks"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(u,{name:"truck",class:"mr-2 h-4 w-4"}),_[4]||(_[4]=l("span",null,"Trucks",-1))]),_:1},8,["class"]),t(e(g),{onClick:_[1]||(_[1]=Q=>U("repairOrders")),variant:"ghost",class:Ae([[D.value==="repairOrders"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(u,{name:"clipboardList",class:"mr-2 h-4 w-4"}),_[5]||(_[5]=l("span",null,"Repair Orders",-1))]),_:1},8,["class"])])]),v.value?(d(),c("div",sa,_[6]||(_[6]=[l("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):(d(),c("div",la,[(d(),b(ft(q.value),ct(vt(K.value)),null,16))]))]),_:1})]),_:1})])]),_:1},8,["breadcrumbs","tenantSlug"]))}});export{$a as default};
