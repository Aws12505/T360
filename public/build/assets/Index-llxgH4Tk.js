import{H as i,i as r,X as a,a as W,r as k,A as bt,W as kt,an as St,f as _,j as l,B as s,u as t,G as p,O as n,P as m,I as de,ak as ue,J as C,K as A,E as N,Y as q,al as Ne,am as Ie}from"./vendor-DQlNQ5gH.js";import{_ as y}from"./Icon.vue_vue_type_script_setup_true_lang-D_7hXODg.js";import{_ as X,a as Z,b as O,c as w,d as ee,e as g}from"./TableRow.vue_vue_type_script_setup_true_lang-tbX_6Hnu.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-B-8911bK.js";import{_ as he}from"./Card.vue_vue_type_script_setup_true_lang-yOexdr0W.js";import{_ as Ct}from"./CardHeader.vue_vue_type_script_setup_true_lang-BXftwvVe.js";import{_ as At}from"./CardTitle.vue_vue_type_script_setup_true_lang-OH7QXspQ.js";import{_ as Oe}from"./CardContent.vue_vue_type_script_setup_true_lang-Dh-7LYTR.js";import{_ as L,a as P,b as Q,c as E,d as Y}from"./DialogDescription.vue_vue_type_script_setup_true_lang-ffXSICao.js";import{_ as H}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CJ4mwW2I.js";import{_ as b,a as I}from"./Label.vue_vue_type_script_setup_true_lang-BRq5T-WA.js";import{_ as Ue,a as Re,b as qe}from"./AlertDescription.vue_vue_type_script_setup_true_lang-DGF9dqnu.js";import{_ as ht}from"./AppLayout.vue_vue_type_script_setup_true_lang-BDIhxQBF.js";import{x as ye,W as h,g as Ot}from"./vendor-vue-CQn6KzTb.js";import{d as Vt}from"./vendor-lodash-BRlRsCW0.js";import{_ as $t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-D2wO_Ovf.js";import"./vendor-icons-pKobgiP0.js";import"./vendor-ui-CGEGZLyF.js";import"./app-FCjPDk3H.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BpTGIYrD.js";const Dt={class:"inline-flex ml-1"},Nt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},It={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},Ut={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-muted-foreground opacity-30",viewBox:"0 0 20 20",fill:"currentColor"},Ve={__name:"SortIndicator",props:{column:{type:String,required:!0},sortColumn:{type:String,required:!0},sortDirection:{type:String,required:!0}},setup(c){return(f,R)=>(r(),i("div",Dt,[c.column===c.sortColumn&&c.sortDirection==="asc"?(r(),i("svg",Nt,R[0]||(R[0]=[a("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)]))):c.column===c.sortColumn&&c.sortDirection==="desc"?(r(),i("svg",It,R[1]||(R[1]=[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]))):(r(),i("svg",Ut,R[2]||(R[2]=[a("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])))]))}},Rt={class:"w-full md:max-w-3xl lg:max-w-4xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},qt={class:"mb-2 flex flex-col items-center justify-between px-2 sm:flex-row md:mb-4 lg:mb-6"},Mt={class:"flex flex-wrap gap-3"},zt={class:"relative"},Wt={key:0,class:"absolute right-0 z-10 mt-1 w-48 rounded-md border bg-background shadow-lg"},Tt={class:"py-1"},Ft={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},Bt=["href"],jt={key:2,class:"mb-6"},Lt={class:"rounded-md border-l-4 border-red-500 bg-red-50 p-4 shadow-sm dark:border-red-400 dark:bg-red-900/30"},Pt={class:"flex items-center"},Qt={class:"flex-shrink-0"},Et={class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-800"},Yt={class:"ml-3"},Ht={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Gt={class:"mt-2"},Jt={class:"flex flex-col items-center gap-2 md:items-start"},Kt={class:"flex flex-wrap gap-1 md:gap-2"},Xt={key:0,class:"text-sm text-muted-foreground"},Zt={key:0},es={key:1},ts={key:2},ss={key:3,class:"ml-1"},ls={key:3,class:"mx-auto mb-6 grid max-w-[95vw] grid-cols-1 gap-4 md:max-w-[64vw] md:grid-cols-2 lg:max-w-full"},os={class:"rounded-lg border bg-card shadow-sm"},as={class:"p-4"},ns={class:"space-y-3"},rs={class:"text-sm"},ds={key:0,class:"text-center text-muted-foreground"},us={class:"rounded-lg border bg-card shadow-sm"},is={class:"p-4"},ms={class:"space-y-3"},fs={class:"text-sm"},ps={key:0,class:"text-center text-muted-foreground"},cs={key:4,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card p-4 shadow-sm md:max-w-[64vw] lg:max-w-full"},vs={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},xs={class:"mt-4 flex justify-end"},gs={key:5,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card shadow-sm md:max-w-[64vw] lg:max-w-full"},_s={class:"flex items-center justify-between border-b p-4"},ws={class:"flex items-start justify-between"},ys={class:"flex flex-col items-center space-y-1"},bs={key:0,class:"mb-6 rounded-lg border bg-card shadow-sm"},ks={class:"overflow-x-auto"},Ss={class:"/* ~15rem on xs */ /* ~20rem on sm+ */ /* ~24rem on md+ */ max-h-60 overflow-y-auto sm:max-h-80 md:max-h-96"},Cs={key:6,class:"mb-6 rounded-lg border bg-card shadow-sm"},As={class:"flex items-center justify-between"},hs={class:"flex items-center gap-2"},Os={key:0,class:"ml-4 flex flex-wrap gap-2 text-xs text-muted-foreground"},Vs={key:0,class:"rounded-full bg-muted px-2 py-1"},$s={key:1,class:"rounded-full bg-muted px-2 py-1"},Ds={key:2,class:"rounded-full bg-muted px-2 py-1"},Ns={class:"flex flex-col gap-1 md:gap-4"},Is={class:"grid w-full grid-cols-1 gap-1 sm:grid-cols-3 md:gap-4"},Us=["value"],Rs={key:0},qs=["value"],Ms={key:0},zs={class:"flex justify-end"},Ws={class:"overflow-x-auto border-t border-border bg-background dark:bg-background"},Ts={class:"flex items-center justify-center"},Fs=["checked"],Bs={class:"flex items-center"},js={class:"flex items-center"},Ls={class:"flex items-center"},Ps=["value"],Qs={key:0,class:"ml-1 text-xs text-red-500"},Es={key:0},Ys={key:0,class:"text-xs text-red-500"},Hs={key:1},Gs={key:1},Js={class:"flex space-x-2"},Ks={key:0,class:"border-t bg-muted/20 px-4 py-3"},Xs={class:"flex flex-col items-center justify-between gap-2 sm:flex-row"},Zs={class:"text-sm text-muted-foreground"},el={class:"flex w-full flex-col items-center gap-2 sm:w-auto sm:flex-row sm:gap-4"},tl={class:"flex items-center gap-2"},sl={class:"flex flex-wrap"},ll=["innerHTML"],ol={key:0,class:"col-span-2"},al={class:"relative mt-1"},nl=["value"],rl={class:"col-span-2 sm:col-span-1"},dl={class:"col-span-2 sm:col-span-1"},ul={class:"col-span-2 sm:col-span-1"},il={class:"col-span-2 sm:col-span-1"},ml={class:"relative mt-1"},fl=["value"],pl={class:"col-span-2"},cl={class:"mt-1 rounded-md border border-input bg-background p-2"},vl={class:"mb-2 flex flex-wrap gap-1"},xl={key:0,class:"ml-1 text-[0.65rem] text-red-500 sm:text-xs"},gl=["onClick"],_l={class:"relative"},wl=["value","disabled"],yl={class:"col-span-2"},bl={class:"col-span-2 sm:col-span-1"},kl={class:"relative mt-1"},Sl=["value","disabled"],Cl={class:"col-span-2 sm:col-span-1"},Al={class:"col-span-2 sm:col-span-1"},hl={class:"relative mt-1"},Ol=["value","disabled"],Vl={class:"col-span-2 sm:col-span-1"},$l={class:"col-span-2 sm:col-span-1"},Dl={class:"col-span-2 sm:col-span-1"},Nl={class:"mt-1 flex items-center space-x-2"},Il={class:"col-span-2 sm:col-span-1"},Ul={class:"relative mt-1"},Rl={class:"col-span-2 sm:col-span-1"},ql={key:1},Ml={class:"relative mt-1"},zl={key:2,class:"col-span-2"},Wl={class:"space-y-4 sm:space-y-6"},Tl={class:"space-y-1 sm:space-y-2"},Fl={class:"rounded-md border"},Bl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},jl={key:0,class:"ml-1 text-xs text-red-500"},Ll={class:"flex space-x-1 sm:space-x-2"},Pl={class:"space-y-4 sm:space-y-6"},Ql={class:"space-y-1 sm:space-y-2"},El={class:"overflow-hidden rounded-md border"},Yl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Hl={key:0,class:"ml-1 text-xs text-red-500"},Gl={class:"flex space-x-1 sm:space-x-2"},Jl={class:"space-y-4 sm:space-y-6"},Kl={class:"space-y-1 sm:space-y-2"},Xl={class:"overflow-hidden rounded-md border"},Zl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},eo={key:0,class:"ml-1 text-xs text-red-500"},to={class:"flex space-x-1 sm:space-x-2"},so={class:"max-h-[60vh] overflow-x-auto overflow-y-auto"},lo={class:"flex items-center gap-2"},oo={key:1,class:"py-8 text-center text-muted-foreground"},ao={__name:"Index",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},initialMinInvoiceAmount:{type:[Number,String,null],default:null},initialOutstandingDate:{type:[String,null],default:null},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]}},setup(c){const f=c,R=W(()=>(V.value==="yesterday"||V.value==="current-week")&&f.weekNumber&&f.year?`Week ${f.weekNumber}, ${f.year}`:(V.value==="6w"||V.value==="quarterly")&&f.startWeekNumber&&f.endWeekNumber&&f.year?`Weeks ${f.startWeekNumber}-${f.endWeekNumber}, ${f.year}`:""),Me=[{title:f.tenantSlug?"Dashboard":"Admin Dashboard",href:f.tenantSlug?route("dashboard",{tenantSlug:f.tenantSlug}):route("admin.dashboard")},{title:"Repair Orders",href:f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin")}],ie=k(f.woStatuses||[]),me=k(!1),te=k({name:""}),$e=W(()=>(f.workOrderByAreasOfConcern||[]).slice(0,5)),ze=W(()=>f.outstandingInvoices.reduce((d,e)=>{const D=Number(e.invoice_amount)||0;return d+D},0)),De=W(()=>(f.workOrdersByTruck||[]).slice(0,5)),fe=k(""),$=k(""),T=k(!1),se=k(!1),pe=k(!1),ce=k(!1),be=k("Create Repair Order"),F=k("Create"),ve=k(null),B=k("ro_number"),M=k("asc"),V=k(f.dateFilter||"full"),le=k(10),U=k([]),oe=k(!1),G=k(!1),We=W(()=>f.repairOrders.data.length>0&&f.repairOrders.data.every(d=>U.value.includes(d.id)));function Te(d){d.target.checked?U.value=f.repairOrders.data.map(e=>e.id):U.value=[]}function Fe(){U.value.length>0&&(oe.value=!0)}function Be(){const d=ye({ids:U.value}),e=f.SuperAdmin?"repair_orders.destroyBulk.admin":"repair_orders.destroyBulk",D=f.SuperAdmin?{}:{tenantSlug:f.tenantSlug};d.delete(route(e,D),{preserveScroll:!0,onSuccess:()=>{$.value=`${U.value.length} repair orders deleted successfully.`,U.value=[],oe.value=!1},onError:z=>{console.error(z),alert("Error deleting repair orders")}})}const S=k({search:"",vendor_id:"",status:""}),u=ye({id:null,tenant_id:f.SuperAdmin?"":null,ro_number:"",ro_open_date:new Date().toISOString().split("T")[0],ro_close_date:"",truck_id:"",vendor_id:"",wo_number:"",wo_status_id:"",invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),ae=ye({concern:""}),ne=ye({vendor_name:""}),je=W(()=>f.areasOfConcern.filter(d=>!u.area_of_concerns.includes(d.id))),Le=()=>{u.reset(),u.tenant_id=f.SuperAdmin?"":null,u.invoice_received=!1,u.on_qs=!1,u.disputed=!1,u.dispute_outcome="",u.area_of_concerns=[],be.value="Create Repair Order",F.value="Create",T.value=!0},Pe=d=>{u.reset(),u.id=d.id,u.tenant_id=d.tenant_id,u.ro_number=d.ro_number,u.ro_open_date=d.ro_open_date,u.ro_close_date=d.ro_close_date||"",u.truck_id=d.truck_id,u.vendor_id=d.vendor_id,u.wo_number=d.wo_number,u.wo_status_id=d.wo_status_id,u.invoice=d.invoice||"",u.invoice_amount=d.invoice_amount||"",u.invoice_received=!!d.invoice_received,u.on_qs=d.on_qs||"no",u.qs_invoice_date=d.qs_invoice_date||"",u.disputed=!!d.disputed,u.dispute_outcome=d.dispute_outcome||"",u.repairs_made=d.repairs_made||"",u.area_of_concerns=[],d.areas_of_concern&&Array.isArray(d.areas_of_concern)&&(u.area_of_concerns=d.areas_of_concern.map(e=>e.id)),be.value="Edit Repair Order",F.value="Update",T.value=!0},Qe=()=>{u.reset(),T.value=!1},Ee=()=>{const d=f.SuperAdmin?route("repair_orders.store.admin"):route("repair_orders.store",f.tenantSlug);if(F.value==="Update"&&u.id){const e=f.SuperAdmin?route("repair_orders.update.admin",u.id):route("repair_orders.update",[f.tenantSlug,u.id]);u.put(e,{onSuccess:()=>{$.value="Repair order updated successfully!",T.value=!1,u.reset()}})}else u.post(d,{onSuccess:()=>{$.value="Repair order created successfully!",T.value=!1,u.reset()}})},Ye=d=>{ve.value=d,se.value=!0},He=()=>{const d=f.SuperAdmin?route("repair_orders.destroy.admin",ve.value):route("repair_orders.destroy",[f.tenantSlug,ve.value]);h.delete(d,{onSuccess:()=>{se.value=!1,ve.value=null}})},Ge=()=>{ae.reset(),pe.value=!0},Je=()=>{ae.post(route("area_of_concerns.store.admin"),{onSuccess:()=>{ae.reset()}})},Ke=d=>{confirm("Are you sure you want to delete this area of concern?")&&h.delete(route("area_of_concerns.destroy.admin",d))},Xe=d=>{confirm("Are you sure you want to restore this area of concern?")&&h.post(route("area_of_concerns.restore.admin",d))},Ze=d=>{confirm("Are you sure you want to permanently delete this area of concern? This action cannot be undone.")&&h.delete(route("area_of_concerns.forceDelete.admin",d))},et=()=>{ne.reset(),ce.value=!0},tt=()=>{ne.post(route("vendors.store.admin"),{onSuccess:()=>{ne.reset()}})},st=d=>{confirm("Are you sure you want to delete this vendor?")&&h.delete(route("vendors.destroy.admin",d))},lt=d=>{confirm("Are you sure you want to restore this vendor?")&&h.post(route("vendors.restore.admin",d))},ot=d=>{confirm("Are you sure you want to permanently delete this vendor? This action cannot be undone.")&&h.delete(route("vendors.forceDelete.admin",d))},at=d=>{const e=parseInt(d.target.value);e&&!u.area_of_concerns.includes(e)&&u.area_of_concerns.push(e),d.target.value=""},nt=d=>{u.area_of_concerns=u.area_of_concerns.filter(e=>e!==d)},rt=d=>{if(d){const e=new URL(d);e.searchParams.set("perPage",le.value),e.searchParams.set("dateFilter",V.value),h.get(e.href,{},{only:["repairOrders"]})}},ke=d=>{B.value===d?M.value=M.value==="asc"?"desc":"asc":(B.value=d,M.value="asc");const e=f.SuperAdmin?route("repair_orders.index.admin"):route("repair_orders.index",f.tenantSlug);h.get(e,{sort:B.value,direction:M.value,...S.value},{preserveState:!0})},dt=Vt(()=>{xe()},500),xe=()=>{const d=f.SuperAdmin?route("repair_orders.index.admin"):route("repair_orders.index",f.tenantSlug);h.get(d,{sort:B.value,direction:M.value,...S.value},{preserveState:!0})},ut=()=>{S.value={search:"",vendor_id:"",status:""},xe()},ge=d=>{V.value=d;const e=f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin");h.get(e,{dateFilter:d,perPage:le.value},{preserveState:!0})},it=()=>{const d=f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin");h.get(d,{dateFilter:V.value,perPage:le.value},{preserveState:!0})},mt=d=>{const e=d.target.files[0];if(!e)return;const D=new FormData;D.append("file",e);const z=f.SuperAdmin?route("repair_orders.import.admin"):route("repair_orders.import",f.tenantSlug);h.post(z,D,{onSuccess:()=>{$.value="Import completed successfully!",d.target.value=null},onError:o=>{console.error("Import errors:",o)}})},ft=()=>{if(f.repairOrders.data.length===0){fe.value="No data available to export",setTimeout(()=>{fe.value=""},3e3);return}window.location.href=f.SuperAdmin?route("repair_orders.export.admin"):route("repair_orders.export",f.tenantSlug)},J=d=>{if(!d)return"";const e=d.split("-");if(e.length!==3)return d;const[D,z,o]=e;return`${Number(z)}/${Number(o)}/${D}`},Se=d=>d?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d):"$0.00",re=k(!1),pt=W(()=>"/storage/upload-data-temps/Repair Orders Template.csv");bt(()=>{const d=e=>{re.value&&!e.target.closest(".relative")&&(re.value=!1)};document.addEventListener("click",d),kt(()=>{document.removeEventListener("click",d)})});function ct(){me.value=!0,te.value={name:""}}function vt(){h.post(route("wo_statuses.store.admin"),te.value,{onSuccess:()=>{te.value.name="",$.value="Work order status created successfully.",setTimeout(()=>{$.value=""},3e3)}})}function xt(d){confirm("Are you sure you want to delete this work order status?")&&h.delete(route("wo_statuses.destroy.admin",d),{onSuccess:()=>{$.value="Work order status deleted successfully.",setTimeout(()=>{$.value=""},3e3)}})}function gt(d){h.post(route("wo_statuses.restore.admin",d),{},{onSuccess:()=>{$.value="Work order status restored successfully.",setTimeout(()=>{$.value=""},3e3)}})}function _t(d){confirm("Are you sure you want to permanently delete this work order status? This action cannot be undone.")&&h.delete(route("wo_statuses.forceDelete.admin",d),{onSuccess:()=>{$.value="Work order status permanently deleted.",setTimeout(()=>{$.value=""},3e3)}})}const wt=W(()=>f.canceledQSInvoices.length>0),_e=k(!1),Ce=k(f.initialMinInvoiceAmount||null),Ae=k(f.initialOutstandingDate||null),K=k(!1),yt=()=>{h.visit(route("repair_orders.index",{tenantSlug:f.tenantSlug,dateFilter:V.value,minInvoiceAmount:Ce.value||null,outstandingDate:Ae.value||null}),{preserveState:!0,preserveScroll:!0,only:["maintenanceData"]})};return(d,e)=>{const D=St("Badge");return r(),_(ht,{breadcrumbs:Me,tenantSlug:c.tenantSlug},{default:l(()=>{var z;return[s(t(Ot),{title:"Repair Orders"}),a("div",Rt,[$.value?(r(),_(t(Ue),{key:0,variant:"success"},{default:l(()=>[s(t(Re),null,{default:l(()=>e[53]||(e[53]=[n("Success")])),_:1}),s(t(qe),null,{default:l(()=>[n(m($.value),1)]),_:1})]),_:1})):p("",!0),fe.value?(r(),_(t(Ue),{key:1,variant:"destructive"},{default:l(()=>[s(t(Re),null,{default:l(()=>e[54]||(e[54]=[n("Error")])),_:1}),s(t(qe),null,{default:l(()=>[n(m(fe.value),1)]),_:1})]),_:1})):p("",!0),a("div",qt,[e[62]||(e[62]=a("h1",{class:"text-lg font-bold md:text-xl lg:text-2xl"},"Repair Orders",-1)),a("div",Mt,[s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:Le,variant:"default"},{default:l(()=>[s(y,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),e[55]||(e[55]=n(" Create New Repair Order "))]),_:1}),U.value.length>0?(r(),_(t(x),{key:0,onClick:e[0]||(e[0]=o=>Fe()),variant:"destructive"},{default:l(()=>[s(y,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),n(" Delete Selected ("+m(U.value.length)+") ",1)]),_:1})):p("",!0),c.SuperAdmin?(r(),_(t(x),{key:1,class:"px-2 py-0 md:px-4 md:py-2",onClick:Ge,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[56]||(e[56]=n(" Manage Areas of Concern "))]),_:1})):p("",!0),c.SuperAdmin?(r(),_(t(x),{key:2,class:"px-2 py-0 md:px-4 md:py-2",onClick:et,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[57]||(e[57]=n(" Manage Vendors "))]),_:1})):p("",!0),c.SuperAdmin?(r(),_(t(x),{key:3,class:"px-2 py-0 md:px-4 md:py-2",onClick:ct,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[58]||(e[58]=n(" Manage WO Statuses "))]),_:1})):p("",!0),a("div",zt,[s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:e[1]||(e[1]=o=>re.value=!re.value),variant:"secondary"},{default:l(()=>[s(y,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),e[59]||(e[59]=n(" Upload CSV ")),s(y,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1}),re.value?(r(),i("div",Wt,[a("div",Tt,[a("label",Ft,[e[60]||(e[60]=a("span",null,"Upload CSV File",-1)),a("input",{type:"file",class:"hidden",onChange:mt,accept:".csv"},null,32)]),a("a",{href:pt.value,download:"Repair Orders Template.csv",class:"block px-4 py-2 text-sm hover:bg-muted"}," Download Template ",8,Bt)])])):p("",!0)]),s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:de(ft,["prevent"]),variant:"outline"},{default:l(()=>[s(y,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),e[61]||(e[61]=n(" Download CSV "))]),_:1})])]),wt.value&&!c.SuperAdmin?(r(),i("div",jt,[a("div",Lt,[a("div",Pt,[a("div",Qt,[a("div",Et,[s(y,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),a("div",Yt,[e[64]||(e[64]=a("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),a("div",Ht,m(((z=f.canceledQSInvoices)==null?void 0:z.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),a("div",Gt,[s(t(x),{onClick:e[2]||(e[2]=o=>_e.value=!0),variant:"destructive",size:"sm"},{default:l(()=>e[63]||(e[63]=[n(" View Details ")])),_:1})])])])])])):p("",!0),s(t(he),null,{default:l(()=>[s(t(Oe),{class:"p-2 md:p-4 lg:p-6"},{default:l(()=>[a("div",Jt,[a("div",Kt,[s(t(x),{onClick:e[3]||(e[3]=o=>ge("yesterday")),variant:"outline",size:"sm",class:ue({"border-primary bg-primary/10 text-primary":V.value==="yesterday"})},{default:l(()=>e[65]||(e[65]=[n(" Yesterday ")])),_:1},8,["class"]),s(t(x),{onClick:e[4]||(e[4]=o=>ge("current-week")),variant:"outline",size:"sm",class:ue({"border-primary bg-primary/10 text-primary":V.value==="current-week"})},{default:l(()=>e[66]||(e[66]=[n(" WTD ")])),_:1},8,["class"]),s(t(x),{onClick:e[5]||(e[5]=o=>ge("6w")),variant:"outline",size:"sm",class:ue({"border-primary bg-primary/10 text-primary":V.value==="6w"})},{default:l(()=>e[67]||(e[67]=[n(" T6W ")])),_:1},8,["class"]),s(t(x),{onClick:e[6]||(e[6]=o=>ge("quarterly")),variant:"outline",size:"sm",class:ue({"border-primary bg-primary/10 text-primary":V.value==="quarterly"})},{default:l(()=>e[68]||(e[68]=[n(" Quarterly ")])),_:1},8,["class"])]),c.dateRange?(r(),i("div",Xt,[V.value==="yesterday"&&c.dateRange.start?(r(),i("span",Zt," Showing data from "+m(J(c.dateRange.start)),1)):c.dateRange.start&&c.dateRange.end?(r(),i("span",es," Showing data from "+m(J(c.dateRange.start))+" to "+m(J(c.dateRange.end)),1)):(r(),i("span",ts,m(c.dateRange.label),1)),R.value?(r(),i("span",ss,"("+m(R.value)+")",1)):p("",!0)])):p("",!0)])]),_:1})]),_:1}),(V.value==="quarterly"||V.value==="6w")&&!c.SuperAdmin?(r(),i("div",ls,[a("div",os,[e[70]||(e[70]=a("div",{class:"border-b p-4"},[a("h3",{class:"text-lg font-semibold"},"Top 5 Frequent Repairs")],-1)),a("div",as,[a("ul",ns,[e[69]||(e[69]=a("div",{class:"flex items-center justify-between"},[a("span",{class:"text-sm"},"Parts:"),a("span",{class:"text-sm"},"Work Orders:")],-1)),(r(!0),i(C,null,A($e.value,(o,v)=>(r(),i("li",{key:v,class:"flex items-center justify-between pr-4"},[a("span",rs,m(o.concern),1),s(D,{variant:"outline"},{default:l(()=>[n(m(o.count),1)]),_:2},1024)]))),128)),$e.value.length===0?(r(),i("li",ds,"No data available")):p("",!0)])])]),a("div",us,[e[72]||(e[72]=a("div",{class:"border-b p-4"},[a("h3",{class:"text-lg font-semibold"},"Top 5 Frequently Repaired Tractors")],-1)),a("div",is,[a("ul",ms,[e[71]||(e[71]=a("div",{class:"flex items-center justify-between"},[a("span",{class:"text-sm"},"Asset ID:"),a("span",{class:"text-sm"},"Work Orders:")],-1)),(r(!0),i(C,null,A(De.value,(o,v)=>(r(),i("li",{key:v,class:"flex items-center justify-between pr-4"},[a("span",fs,m(o.truckid),1),s(D,{variant:"outline"},{default:l(()=>[n(m(o.work_order_count),1)]),_:2},1024)]))),128)),De.value.length===0?(r(),i("li",ps,"No data available")):p("",!0)])])])])):p("",!0),c.SuperAdmin?p("",!0):(r(),i("div",cs,[e[76]||(e[76]=a("h3",{class:"mb-4 text-lg font-semibold"},"Outstanding Invoices Filter",-1)),a("div",vs,[a("div",null,[s(t(b),{for:"min-invoice-amount"},{default:l(()=>e[73]||(e[73]=[n("Minimum Invoice Amount ($)")])),_:1}),s(t(I),{id:"min-invoice-amount",modelValue:Ce.value,"onUpdate:modelValue":e[7]||(e[7]=o=>Ce.value=o),type:"number",min:"0",step:"100",placeholder:"Enter minimum amount",class:"mt-1"},null,8,["modelValue"])]),a("div",null,[s(t(b),{for:"outstanding-since"},{default:l(()=>e[74]||(e[74]=[n("Outstanding Since")])),_:1}),s(t(I),{id:"outstanding-since",modelValue:Ae.value,"onUpdate:modelValue":e[8]||(e[8]=o=>Ae.value=o),type:"date",class:"mt-1"},null,8,["modelValue"])])]),a("div",xs,[s(t(x),{onClick:yt},{default:l(()=>e[75]||(e[75]=[n("Apply Filter")])),_:1})])])),c.outstandingInvoices&&c.outstandingInvoices.length>0?(r(),i("div",gs,[a("div",_s,[e[77]||(e[77]=a("h3",{class:"text-lg font-semibold"},"Outstanding Invoices",-1)),a("div",ws,[a("div",ys,[s(D,{variant:"outline",class:"text-sm"},{default:l(()=>[n(m(c.outstandingInvoices.length)+" invoices ",1)]),_:1}),s(D,{variant:"outline",class:"text-sm"},{default:l(()=>[n(" total: $"+m(ze.value.toFixed(2)),1)]),_:1})]),s(t(x),{variant:"ghost",size:"sm",onClick:e[9]||(e[9]=o=>K.value=!K.value),class:"ml-4 mt-1"},{default:l(()=>[n(m(K.value?"Hide Invoices":"Show Invoices")+" ",1),s(y,{name:K.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),K.value?(r(),i("div",bs,[a("div",ks,[a("div",Ss,[s(t(X),{class:"min-w-full"},{default:l(()=>[s(t(Z),null,{default:l(()=>[s(t(O),null,{default:l(()=>[s(t(w),null,{default:l(()=>e[78]||(e[78]=[n("RO Number")])),_:1}),s(t(w),null,{default:l(()=>e[79]||(e[79]=[n("Vendor")])),_:1}),s(t(w),null,{default:l(()=>e[80]||(e[80]=[n("Week")])),_:1}),s(t(w),{class:"text-right"},{default:l(()=>e[81]||(e[81]=[n("Amount")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[(r(!0),i(C,null,A(c.outstandingInvoices,o=>(r(),_(t(O),{key:o.ro_number},{default:l(()=>[s(t(g),null,{default:l(()=>[n(m(o.ro_number),1)]),_:2},1024),s(t(g),null,{default:l(()=>[n(m(o.vendor_name),1)]),_:2},1024),s(t(g),null,{default:l(()=>[n("W"+m(o.week_number)+"/"+m(o.year),1)]),_:2},1024),s(t(g),{class:"text-right"},{default:l(()=>[n(m(Se(o.invoice_amount)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):p("",!0)])):K.value?(r(),i("div",Cs,e[82]||(e[82]=[a("div",{class:"border-b p-4"},[a("h3",{class:"text-lg font-semibold"},"Outstanding Invoices")],-1),a("div",{class:"p-4 text-center text-muted-foreground"},"No outstanding invoices match the current criteria",-1)]))):p("",!0),s(t(he),null,{default:l(()=>[s(t(Ct),{class:"p-2 md:p-4 lg:p-6"},{default:l(()=>{var o;return[a("div",As,[a("div",hs,[s(t(At),{class:"text-lg md:text-xl lg:text-2xl"},{default:l(()=>e[83]||(e[83]=[n("Filters")])),_:1}),!G.value&&(S.value.search||S.value.vendor_id||S.value.status)?(r(),i("div",Os,[S.value.search?(r(),i("span",Vs,"Search: "+m(S.value.search),1)):p("",!0),S.value.vendor_id?(r(),i("span",$s,"Vendor: "+m(((o=c.vendors.find(v=>v.id==S.value.vendor_id))==null?void 0:o.vendor_name)||S.value.vendor_id),1)):p("",!0),S.value.status?(r(),i("span",Ds,"Status: "+m(S.value.status),1)):p("",!0)])):p("",!0)]),s(t(x),{variant:"ghost",size:"sm",onClick:e[10]||(e[10]=v=>G.value=!G.value)},{default:l(()=>[n(m(G.value?"Hide Filters":"Show Filters")+" ",1),s(y,{name:G.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]}),_:1}),G.value?(r(),_(t(Oe),{key:0,class:"p-2 md:p-4 lg:p-6"},{default:l(()=>[a("div",Ns,[a("div",Is,[a("div",null,[s(t(b),{for:"search"},{default:l(()=>e[84]||(e[84]=[n("Search")])),_:1}),s(t(I),{class:"h-9 px-1 py-1 md:px-2 md:py-1 lg:h-10 lg:px-3 lg:py-2",id:"search",modelValue:S.value.search,"onUpdate:modelValue":e[11]||(e[11]=o=>S.value.search=o),type:"text",placeholder:"Search by RO#, Invoice, etc.",onInput:t(dt)},null,8,["modelValue","onInput"])]),a("div",null,[s(t(b),{for:"vendor_filter"},{default:l(()=>e[85]||(e[85]=[n("Vendor")])),_:1}),N(a("select",{id:"vendor_filter","onUpdate:modelValue":e[12]||(e[12]=o=>S.value.vendor_id=o),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm",onChange:xe},[e[86]||(e[86]=a("option",{value:""},"All Vendors",-1)),(r(!0),i(C,null,A(c.vendors,o=>(r(),i("option",{key:o.id,value:o.id},[n(m(o.vendor_name)+" ",1),o.deleted_at?(r(),i("span",Rs,"(Deleted)")):p("",!0)],8,Us))),128))],544),[[q,S.value.vendor_id]])]),a("div",null,[s(t(b),{for:"status_filter"},{default:l(()=>e[87]||(e[87]=[n("Status")])),_:1}),N(a("select",{id:"status_filter","onUpdate:modelValue":e[13]||(e[13]=o=>S.value.status=o),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm",onChange:xe},[e[88]||(e[88]=a("option",{value:""},"All Statuses",-1)),e[89]||(e[89]=a("option",{disabled:"",value:""},"Select status",-1)),(r(!0),i(C,null,A(ie.value,o=>(r(),i("option",{key:o.id,value:o.name},[n(m(o.name)+" ",1),o.deleted_at?(r(),i("span",Ms,"(Deleted)")):p("",!0)],8,qs))),128))],544),[[q,S.value.status]])])]),a("div",zs,[s(t(x),{onClick:ut,variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"mr-2 h-4 w-4"}),e[90]||(e[90]=n(" Reset Filters "))]),_:1})])])]),_:1})):p("",!0)]),_:1}),s(t(he),{class:"mx-auto max-w-[95vw] overflow-x-auto md:max-w-[64vw] lg:max-w-full"},{default:l(()=>[s(t(Oe),{class:"p-0"},{default:l(()=>[a("div",Ws,[s(t(X),{class:"relative h-[600px] overflow-auto"},{default:l(()=>[s(t(Z),null,{default:l(()=>[s(t(O),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:l(()=>[s(t(w),{class:"w-[50px]"},{default:l(()=>[a("div",Ts,[a("input",{type:"checkbox",onChange:Te,checked:We.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Fs)])]),_:1}),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[14]||(e[14]=o=>ke("ro_number"))},{default:l(()=>[a("div",Bs,[e[91]||(e[91]=n(" RO# ")),s(Ve,{column:"ro_number",sortColumn:B.value,sortDirection:M.value},null,8,["sortColumn","sortDirection"])])]),_:1}),c.SuperAdmin?(r(),_(t(w),{key:0,class:"whitespace-nowrap"},{default:l(()=>e[92]||(e[92]=[n("Company Name")])),_:1})):p("",!0),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[15]||(e[15]=o=>ke("ro_open_date"))},{default:l(()=>[a("div",js,[e[93]||(e[93]=n(" Open Date ")),s(Ve,{column:"ro_open_date",sortColumn:B.value,sortDirection:M.value},null,8,["sortColumn","sortDirection"])])]),_:1}),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[16]||(e[16]=o=>ke("ro_close_date"))},{default:l(()=>[a("div",Ls,[e[94]||(e[94]=n(" Close Date ")),s(Ve,{column:"ro_close_date",sortColumn:B.value,sortDirection:M.value},null,8,["sortColumn","sortDirection"])])]),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[95]||(e[95]=[n("Truck")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[96]||(e[96]=[n("Vendor")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[97]||(e[97]=[n("Areas of Concern")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[98]||(e[98]=[n("WO#")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[99]||(e[99]=[n("WO Status")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[100]||(e[100]=[n("Invoice")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[101]||(e[101]=[n("Invoice Amount")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[102]||(e[102]=[n("Invoice Received")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[103]||(e[103]=[n("On QS")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[104]||(e[104]=[n("QS Invoice Date")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[105]||(e[105]=[n("Disputed")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[106]||(e[106]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[c.repairOrders.data.length===0?(r(),_(t(O),{key:0},{default:l(()=>[s(t(g),{colspan:c.SuperAdmin?16:15,class:"py-8 text-center"},{default:l(()=>e[107]||(e[107]=[n(" No repair orders found. ")])),_:1},8,["colspan"])]),_:1})):p("",!0),(r(!0),i(C,null,A(c.repairOrders.data,o=>(r(),_(t(O),{key:o.id,class:"hover:bg-muted/50"},{default:l(()=>[s(t(g),{class:"text-center"},{default:l(()=>[N(a("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":e[17]||(e[17]=v=>U.value=v),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,Ps),[[Ne,U.value]])]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(o.ro_number),1)]),_:2},1024),c.SuperAdmin?(r(),_(t(g),{key:0,class:"whitespace-nowrap"},{default:l(()=>{var v;return[n(m(((v=o.tenant)==null?void 0:v.name)??"—"),1)]}),_:2},1024)):p("",!0),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(J(o.ro_open_date)),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(o.ro_close_date?J(o.ro_close_date):"N/A"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v;return[n(m(((v=o.truck)==null?void 0:v.truckid)??"—"),1)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v,j;return[n(m(((v=o.vendor)==null?void 0:v.vendor_name)??"—")+" ",1),(j=o.vendor)!=null&&j.deleted_at?(r(),i("span",Qs,"(Deleted)")):p("",!0)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[o.areas_of_concern&&o.areas_of_concern.length>0?(r(),i("div",Es,[(r(!0),i(C,null,A(o.areas_of_concern,(v,j)=>(r(),i("span",{key:v.id,class:"inline-block"},[n(m(v.concern)+" ",1),v.deleted_at?(r(),i("span",Ys,"(Deleted)")):p("",!0),j<o.areas_of_concern.length-1?(r(),i("span",Hs,", ")):p("",!0)]))),128))])):(r(),i("span",Gs,"—"))]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(o.wo_number),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v;return[n(m(((v=o.wo_status)==null?void 0:v.name)||"—"),1)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(o.invoice),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(Se(o.invoice_amount)),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(o.invoice_received?"Yes":"No"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(o.on_qs?o.on_qs.charAt(0).toUpperCase()+o.on_qs.slice(1):"No"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(o.qs_invoice_date?J(o.qs_invoice_date):"N/A"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[n(m(o.disputed?"Yes":"No"),1)]),_:2},1024),s(t(g),null,{default:l(()=>[a("div",Js,[s(t(x),{onClick:v=>Pe(o),variant:"warning",size:"sm"},{default:l(()=>[s(y,{name:"pencil",class:"mr-1 h-4 w-4"}),e[108]||(e[108]=n(" Edit "))]),_:2},1032,["onClick"]),s(t(x),{onClick:v=>Ye(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"mr-1 h-4 w-4"}),e[109]||(e[109]=n(" Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),c.repairOrders.links?(r(),i("div",Ks,[a("div",Xs,[a("div",Zs,"Showing "+m(c.repairOrders.data.length)+" entries",1),a("div",el,[a("div",tl,[s(t(b),{for:"perPage",class:"text-sm"},{default:l(()=>e[110]||(e[110]=[n("Per page:")])),_:1}),N(a("select",{id:"perPage","onUpdate:modelValue":e[18]||(e[18]=o=>le.value=o),onChange:it,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[111]||(e[111]=[a("option",{value:"10"},"10",-1),a("option",{value:"25"},"25",-1),a("option",{value:"50"},"50",-1),a("option",{value:"100"},"100",-1)]),544),[[q,le.value]])]),a("div",sl,[(r(!0),i(C,null,A(c.repairOrders.links,o=>(r(),_(t(x),{key:o.label,onClick:v=>rt(o.url),disabled:!o.url,variant:"ghost",size:"sm",class:ue(["mx-1",{"border-primary bg-primary/10 text-primary":o.active}])},{default:l(()=>[a("span",{innerHTML:o.label},null,8,ll)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):p("",!0)]),_:1})]),_:1}),s(t(L),{open:T.value,"onUpdate:open":e[36]||(e[36]=o=>T.value=o)},{default:l(()=>[s(t(P),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:l(()=>[s(t(Q),{class:"px-4 sm:px-6"},{default:l(()=>[s(t(E),{class:"text-lg sm:text-xl"},{default:l(()=>[n(m(be.value),1)]),_:1}),s(t(Y),{class:"text-xs sm:text-sm"},{default:l(()=>[n(" Fill in the details to "+m(F.value.toLowerCase())+" a repair order. ",1)]),_:1})]),_:1}),a("form",{onSubmit:de(Ee,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-2 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-3 sm:p-6"},[c.SuperAdmin?(r(),i("div",ol,[s(t(b),{for:"tenant",class:"text-xs sm:text-sm"},{default:l(()=>e[112]||(e[112]=[n("Company Name")])),_:1}),a("div",al,[N(a("select",{id:"tenant","onUpdate:modelValue":e[19]||(e[19]=o=>t(u).tenant_id=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[113]||(e[113]=a("option",{disabled:"",value:""},"Select a tenant",-1)),(r(!0),i(C,null,A(c.tenants,o=>(r(),i("option",{key:o.id,value:o.id},m(o.name),9,nl))),128))],512),[[q,t(u).tenant_id]]),e[114]||(e[114]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[a("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):p("",!0),a("div",rl,[s(t(b),{for:"ro_number",class:"text-xs sm:text-sm"},{default:l(()=>e[115]||(e[115]=[n("RO#")])),_:1}),s(t(I),{id:"ro_number",modelValue:t(u).ro_number,"onUpdate:modelValue":e[20]||(e[20]=o=>t(u).ro_number=o),type:"text",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),a("div",dl,[s(t(b),{for:"ro_open_date",class:"text-xs sm:text-sm"},{default:l(()=>e[116]||(e[116]=[n("RO Open Date")])),_:1}),s(t(I),{id:"ro_open_date",modelValue:t(u).ro_open_date,"onUpdate:modelValue":e[21]||(e[21]=o=>t(u).ro_open_date=o),type:"date",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),a("div",ul,[s(t(b),{for:"ro_close_date",class:"text-xs sm:text-sm"},{default:l(()=>e[117]||(e[117]=[n("RO Close Date")])),_:1}),s(t(I),{id:"ro_close_date",modelValue:t(u).ro_close_date,"onUpdate:modelValue":e[22]||(e[22]=o=>t(u).ro_close_date=o),type:"date",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),a("div",il,[s(t(b),{for:"truck_id",class:"text-xs sm:text-sm"},{default:l(()=>e[118]||(e[118]=[n("Truck")])),_:1}),a("div",ml,[N(a("select",{id:"truck_id","onUpdate:modelValue":e[23]||(e[23]=o=>t(u).truck_id=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[119]||(e[119]=a("option",{disabled:"",value:""},"Select a truck",-1)),(r(!0),i(C,null,A(c.trucks,o=>(r(),i("option",{key:o.id,value:o.id},m(o.truckid),9,fl))),128))],512),[[q,t(u).truck_id]]),e[120]||(e[120]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[a("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),a("div",pl,[s(t(b),{for:"area_of_concerns",class:"text-xs sm:text-sm"},{default:l(()=>e[121]||(e[121]=[n("Areas Of Concern")])),_:1}),a("div",cl,[a("div",vl,[(r(!0),i(C,null,A(t(u).area_of_concerns,o=>{var v,j;return r(),i("div",{key:o,class:"flex items-center rounded-md bg-primary/10 px-1.5 py-0.5 text-xs text-primary sm:px-2 sm:py-1 sm:text-sm"},[n(m((v=c.areasOfConcern.find(we=>we.id===o))==null?void 0:v.concern)+" ",1),(j=c.areasOfConcern.find(we=>we.id===o))!=null&&j.deleted_at?(r(),i("span",xl,"(Deleted)")):p("",!0),a("button",{type:"button",onClick:we=>nt(o),class:"ml-0.5 text-primary hover:text-primary/80 sm:ml-1"},[s(y,{name:"x",class:"h-2.5 w-2.5 sm:h-3 sm:w-3"})],8,gl)])}),128))]),a("div",_l,[a("select",{id:"area_of_concerns_select",onChange:e[24]||(e[24]=o=>at(o)),class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[122]||(e[122]=a("option",{value:""},"Select an area of concern to add",-1)),(r(!0),i(C,null,A(je.value,o=>(r(),i("option",{key:o.id,value:o.id,disabled:o.deleted_at},m(o.concern)+" "+m(o.deleted_at?"(Deleted)":""),9,wl))),128))],32),e[123]||(e[123]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[a("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),a("div",yl,[s(t(b),{for:"repairs_made",class:"text-xs sm:text-sm"},{default:l(()=>e[124]||(e[124]=[n("Repairs Made")])),_:1}),N(a("textarea",{id:"repairs_made","onUpdate:modelValue":e[25]||(e[25]=o=>t(u).repairs_made=o),class:"mt-1 flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-1.5 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:min-h-[80px] sm:text-sm"},null,512),[[Ie,t(u).repairs_made]])]),a("div",bl,[s(t(b),{for:"vendor_id",class:"text-xs sm:text-sm"},{default:l(()=>e[125]||(e[125]=[n("Vendor")])),_:1}),a("div",kl,[N(a("select",{id:"vendor_id","onUpdate:modelValue":e[26]||(e[26]=o=>t(u).vendor_id=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[126]||(e[126]=a("option",{disabled:"",value:""},"Select a vendor",-1)),(r(!0),i(C,null,A(c.vendors,o=>(r(),i("option",{key:o.id,value:o.id,disabled:o.deleted_at},m(o.vendor_name)+" "+m(o.deleted_at?"(Deleted)":""),9,Sl))),128))],512),[[q,t(u).vendor_id]]),e[127]||(e[127]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[a("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),a("div",Cl,[s(t(b),{for:"wo_number",class:"text-xs sm:text-sm"},{default:l(()=>e[128]||(e[128]=[n("WO#")])),_:1}),s(t(I),{id:"wo_number",modelValue:t(u).wo_number,"onUpdate:modelValue":e[27]||(e[27]=o=>t(u).wo_number=o),type:"text",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),a("div",Al,[s(t(b),{for:"wo_status_id",class:"text-xs sm:text-sm"},{default:l(()=>e[129]||(e[129]=[n("WO Status")])),_:1}),a("div",hl,[N(a("select",{id:"wo_status_id","onUpdate:modelValue":e[28]||(e[28]=o=>t(u).wo_status_id=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[130]||(e[130]=a("option",{disabled:"",value:""},"Select status",-1)),(r(!0),i(C,null,A(ie.value,o=>(r(),i("option",{key:o.id,value:o.id,disabled:o.deleted_at},m(o.name)+" "+m(o.deleted_at?"(Deleted)":""),9,Ol))),128))],512),[[q,t(u).wo_status_id]]),e[131]||(e[131]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[a("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),a("div",Vl,[s(t(b),{for:"invoice",class:"text-xs sm:text-sm"},{default:l(()=>e[132]||(e[132]=[n("Invoice")])),_:1}),s(t(I),{id:"invoice",modelValue:t(u).invoice,"onUpdate:modelValue":e[29]||(e[29]=o=>t(u).invoice=o),type:"text",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),a("div",$l,[s(t(b),{for:"invoice_amount",class:"text-xs sm:text-sm"},{default:l(()=>e[133]||(e[133]=[n("Invoice Amount")])),_:1}),s(t(I),{id:"invoice_amount",modelValue:t(u).invoice_amount,"onUpdate:modelValue":e[30]||(e[30]=o=>t(u).invoice_amount=o),type:"number",step:"0.01",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),a("div",Dl,[s(t(b),{for:"invoice_received",class:"text-xs sm:text-sm"},{default:l(()=>e[134]||(e[134]=[n("Invoice Received")])),_:1}),a("div",Nl,[N(a("input",{id:"invoice_received","onUpdate:modelValue":e[31]||(e[31]=o=>t(u).invoice_received=o),type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary sm:h-4 sm:w-4"},null,512),[[Ne,t(u).invoice_received]]),e[135]||(e[135]=a("label",{for:"invoice_received",class:"text-xs sm:text-sm"},"Yes",-1))])]),a("div",Il,[s(t(b),{for:"on_qs",class:"text-xs sm:text-sm"},{default:l(()=>e[136]||(e[136]=[n("On QS")])),_:1}),a("div",Ul,[N(a("select",{id:"on_qs","onUpdate:modelValue":e[32]||(e[32]=o=>t(u).on_qs=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},e[137]||(e[137]=[a("option",{value:"yes"},"Yes",-1),a("option",{value:"no"},"No",-1),a("option",{value:"not expected"},"Not Expected",-1)]),512),[[q,t(u).on_qs]]),e[138]||(e[138]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[a("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),a("div",Rl,[s(t(b),{for:"qs_invoice_date",class:"text-xs sm:text-sm"},{default:l(()=>e[139]||(e[139]=[n("QS Invoice Date")])),_:1}),s(t(I),{id:"qs_invoice_date",modelValue:t(u).qs_invoice_date,"onUpdate:modelValue":e[33]||(e[33]=o=>t(u).qs_invoice_date=o),type:"date",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),F.value==="Update"?(r(),i("div",ql,[s(t(b),{for:"disputed",class:"text-xs sm:text-sm"},{default:l(()=>e[140]||(e[140]=[n("Disputed?")])),_:1}),a("div",Ml,[N(a("select",{id:"disputed","onUpdate:modelValue":e[34]||(e[34]=o=>t(u).disputed=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},e[141]||(e[141]=[a("option",{value:!0},"Yes",-1),a("option",{value:!1},"No",-1)]),512),[[q,t(u).disputed]]),e[142]||(e[142]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[a("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):p("",!0),F.value==="Update"?(r(),i("div",zl,[s(t(b),{for:"dispute_outcome",class:"text-xs sm:text-sm"},{default:l(()=>e[143]||(e[143]=[n("Dispute Outcome")])),_:1}),N(a("textarea",{id:"dispute_outcome","onUpdate:modelValue":e[35]||(e[35]=o=>t(u).dispute_outcome=o),class:"mt-1 flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-1.5 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:min-h-[80px] sm:text-sm"},null,512),[[Ie,t(u).dispute_outcome]])])):p("",!0),s(t(H),{class:"col-span-2 mt-3 flex flex-col gap-2 sm:flex-row sm:gap-3"},{default:l(()=>[s(t(x),{type:"button",onClick:Qe,variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>e[144]||(e[144]=[n("Cancel")])),_:1}),s(t(x),{type:"submit",variant:"default",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>[n(m(F.value),1)]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),s(t(L),{open:se.value,"onUpdate:open":e[38]||(e[38]=o=>se.value=o)},{default:l(()=>[s(t(P),{class:"max-w-[95vw] sm:max-w-[425px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(E),null,{default:l(()=>e[145]||(e[145]=[n("Confirm Deletion")])),_:1}),s(t(Y),{class:"text-sm sm:text-base"},{default:l(()=>e[146]||(e[146]=[n(" Are you sure you want to delete this repair order? This action cannot be undone. ")])),_:1})]),_:1}),s(t(H),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{type:"button",onClick:e[37]||(e[37]=o=>se.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[147]||(e[147]=[n("Cancel")])),_:1}),s(t(x),{type:"button",onClick:He,variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>e[148]||(e[148]=[n("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(L),{open:pe.value,"onUpdate:open":e[41]||(e[41]=o=>pe.value=o)},{default:l(()=>[s(t(P),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(E),null,{default:l(()=>e[149]||(e[149]=[n("Manage Areas of Concern")])),_:1}),s(t(Y),{class:"text-sm sm:text-base"},{default:l(()=>e[150]||(e[150]=[n(" Add or remove areas of concern for repair orders. ")])),_:1})]),_:1}),a("div",Wl,[a("form",{onSubmit:de(Je,["prevent"]),class:"space-y-3 sm:space-y-4"},[a("div",Tl,[s(t(b),{for:"concern"},{default:l(()=>e[151]||(e[151]=[n("Area of Concern")])),_:1}),s(t(I),{id:"concern",modelValue:t(ae).concern,"onUpdate:modelValue":e[39]||(e[39]=o=>t(ae).concern=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[152]||(e[152]=[n("Add Area of Concern")])),_:1})],32),a("div",Fl,[a("div",Bl,[s(t(X),null,{default:l(()=>[s(t(Z),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(O),null,{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[153]||(e[153]=[n("Area of Concern")])),_:1}),s(t(w),{class:"w-20 text-xs sm:text-sm"},{default:l(()=>e[154]||(e[154]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[c.areasOfConcern.length===0?(r(),_(t(O),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[155]||(e[155]=[n("No areas of concern found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(C,null,A(c.areasOfConcern,o=>(r(),_(t(O),{key:o.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(o.concern)+" ",1),o.deleted_at?(r(),i("span",jl,"(Deleted)")):p("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[a("div",Ll,[o.deleted_at?(r(),_(t(x),{key:0,onClick:v=>Xe(o.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),o.deleted_at?p("",!0):(r(),_(t(x),{key:1,onClick:v=>Ke(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(r(),_(t(x),{key:2,onClick:v=>Ze(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(H),null,{default:l(()=>[s(t(x),{onClick:e[40]||(e[40]=o=>pe.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[156]||(e[156]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(L),{open:ce.value,"onUpdate:open":e[44]||(e[44]=o=>ce.value=o)},{default:l(()=>[s(t(P),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(E),null,{default:l(()=>e[157]||(e[157]=[n("Manage Vendors")])),_:1}),s(t(Y),{class:"text-sm sm:text-base"},{default:l(()=>e[158]||(e[158]=[n(" Add or remove vendors for repair orders. ")])),_:1})]),_:1}),a("div",Pl,[a("form",{onSubmit:de(tt,["prevent"]),class:"space-y-3 sm:space-y-4"},[a("div",Ql,[s(t(b),{for:"vendor_name"},{default:l(()=>e[159]||(e[159]=[n("Vendor Name")])),_:1}),s(t(I),{id:"vendor_name",modelValue:t(ne).vendor_name,"onUpdate:modelValue":e[42]||(e[42]=o=>t(ne).vendor_name=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[160]||(e[160]=[n("Add Vendor")])),_:1})],32),a("div",El,[a("div",Yl,[s(t(X),null,{default:l(()=>[s(t(Z),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(O),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[161]||(e[161]=[n("Vendor Name")])),_:1}),s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[162]||(e[162]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[c.vendors.length===0?(r(),_(t(O),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[163]||(e[163]=[n("No vendors found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(C,null,A(c.vendors,o=>(r(),_(t(O),{key:o.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(o.vendor_name)+" ",1),o.deleted_at?(r(),i("span",Hl,"(Deleted)")):p("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[a("div",Gl,[o.deleted_at?(r(),_(t(x),{key:0,onClick:v=>lt(o.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),o.deleted_at?p("",!0):(r(),_(t(x),{key:1,onClick:v=>st(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(r(),_(t(x),{key:2,onClick:v=>ot(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(H),null,{default:l(()=>[s(t(x),{onClick:e[43]||(e[43]=o=>ce.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[164]||(e[164]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(L),{open:oe.value,"onUpdate:open":e[47]||(e[47]=o=>oe.value=o)},{default:l(()=>[s(t(P),{class:"max-w-[95vw] sm:max-w-[425px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(E),null,{default:l(()=>e[165]||(e[165]=[n("Confirm Bulk Deletion")])),_:1}),s(t(Y),{class:"text-sm sm:text-base"},{default:l(()=>[n(" Are you sure you want to delete "+m(U.value.length)+" repair orders? This action cannot be undone. ",1)]),_:1})]),_:1}),s(t(H),{class:"mt-4 flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{type:"button",onClick:e[45]||(e[45]=o=>oe.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[166]||(e[166]=[n(" Cancel ")])),_:1}),s(t(x),{type:"button",onClick:e[46]||(e[46]=o=>Be()),variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>e[167]||(e[167]=[n(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(L),{open:me.value,"onUpdate:open":e[50]||(e[50]=o=>me.value=o)},{default:l(()=>[s(t(P),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(Q),null,{default:l(()=>[s(t(E),null,{default:l(()=>e[168]||(e[168]=[n("Manage Work Order Statuses")])),_:1}),s(t(Y),{class:"text-sm sm:text-base"},{default:l(()=>e[169]||(e[169]=[n(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),a("div",Jl,[a("form",{onSubmit:de(vt,["prevent"]),class:"space-y-3 sm:space-y-4"},[a("div",Kl,[s(t(b),{for:"status_name"},{default:l(()=>e[170]||(e[170]=[n("Status Name")])),_:1}),s(t(I),{id:"status_name",modelValue:te.value.name,"onUpdate:modelValue":e[48]||(e[48]=o=>te.value.name=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[171]||(e[171]=[n("Add Work Order Status")])),_:1})],32),a("div",Xl,[a("div",Zl,[s(t(X),null,{default:l(()=>[s(t(Z),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(O),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[172]||(e[172]=[n("Status Name")])),_:1}),s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[173]||(e[173]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[ie.value.length===0?(r(),_(t(O),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[174]||(e[174]=[n("No work order statuses found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(C,null,A(ie.value,o=>(r(),_(t(O),{key:o.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[n(m(o.name)+" ",1),o.deleted_at?(r(),i("span",eo,"(Deleted)")):p("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[a("div",to,[o.deleted_at?(r(),_(t(x),{key:0,onClick:v=>gt(o.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),o.deleted_at?p("",!0):(r(),_(t(x),{key:1,onClick:v=>xt(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(r(),_(t(x),{key:2,onClick:v=>_t(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(H),null,{default:l(()=>[s(t(x),{onClick:e[49]||(e[49]=o=>me.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[175]||(e[175]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),s(t(L),{open:_e.value,"onUpdate:open":e[52]||(e[52]=o=>_e.value=o)},{default:l(()=>[s(t(P),{class:"max-h-[90vh] max-w-[95vw] overflow-y-auto md:max-w-[80vw] lg:max-w-4xl"},{default:l(()=>{var o;return[s(t(Q),null,{default:l(()=>[s(t(E),{class:"flex items-center gap-2 text-lg md:text-xl"},{default:l(()=>[s(y,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),e[176]||(e[176]=n(" Canceled Invoices on QS "))]),_:1}),s(t(Y),null,{default:l(()=>e[177]||(e[177]=[n(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),a("div",so,[(o=f.canceledQSInvoices)!=null&&o.length?(r(),_(t(X),{key:0},{default:l(()=>[s(t(Z),null,{default:l(()=>[s(t(O),null,{default:l(()=>[s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[178]||(e[178]=[n("RO Number")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[179]||(e[179]=[n("Vendor")])),_:1}),s(t(w),{class:"whitespace-nowrap text-right"},{default:l(()=>e[180]||(e[180]=[n("Amount")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[181]||(e[181]=[n("Week")])),_:1})]),_:1})]),_:1}),s(t(ee),null,{default:l(()=>[(r(!0),i(C,null,A(f.canceledQSInvoices,v=>(r(),_(t(O),{key:v.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:l(()=>[s(t(g),{class:"font-medium"},{default:l(()=>[a("div",lo,[s(y,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),n(" "+m(v.ro_number),1)])]),_:2},1024),s(t(g),null,{default:l(()=>[n(m(v.vendor_name),1)]),_:2},1024),s(t(g),{class:"text-right"},{default:l(()=>[n(m(Se(v.invoice_amount)),1)]),_:2},1024),s(t(g),null,{default:l(()=>[n("W"+m(v.week_number)+"/"+m(v.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),i("div",oo,"No canceled QS invoices found."))]),s(t(H),{class:"mt-4 flex flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{onClick:e[51]||(e[51]=v=>_e.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[182]||(e[182]=[n("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])]}),_:1},8,["tenantSlug"])}}},$o=$t(ao,[["__scopeId","data-v-f218c6aa"]]);export{$o as default};
