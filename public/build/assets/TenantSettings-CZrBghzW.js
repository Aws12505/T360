import{c as h,k as S,d as V,C as T,l as $,o as i,w as l,e as o,u as e,m as j,b as a,a as d,g,j as N,i as f,t as _,T as G,h as L,Y as U}from"./app-B__ptHTF.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-BsTG-YEC.js";import{_ as D,a as E}from"./Layout.vue_vue_type_script_setup_true_lang-gaQhkaSw.js";import{_ as M}from"./Button.vue_vue_type_script_setup_true_lang-5rTN_W9z.js";import{_ as v,a as y}from"./Label.vue_vue_type_script_setup_true_lang-DeTGmGb3.js";import{_ as P}from"./Separator.vue_vue_type_script_setup_true_lang-XAL9PGv1.js";import"./index-qfrlGLqJ.js";import"./createLucideIcon-Ce1UDWWH.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DU55FZBO.js";const p=S([]);function q(){const c=m=>{const r=Math.random().toString(36).substring(2,9),s={id:r,...m,duration:m.duration||5e3};return p.value=[...p.value,s],setTimeout(()=>{n(r)},s.duration),r},n=m=>{p.value=p.value.filter(r=>r.id!==m)};return{toasts:h(()=>p.value),toast:c,dismissToast:n}}const z={class:"space-y-6"},A={key:0,class:"flex flex-col items-center space-y-3 p-4 border rounded-md bg-muted/50"},I={class:"w-32 h-32 rounded-md overflow-hidden border border-border flex items-center justify-center bg-white"},F=["src"],R={class:"grid gap-2"},J={key:0,class:"text-sm text-destructive"},O={class:"grid gap-2"},W={key:0,class:"text-sm text-destructive"},Y={class:"grid gap-2"},H={class:"flex items-start space-x-4"},K={key:0,class:"w-24 h-24 rounded-md overflow-hidden border border-border flex items-center justify-center bg-white"},Q=["src"],X={class:"flex-1"},Z={key:0,class:"text-sm text-destructive"},ee={class:"flex items-center gap-4"},te={key:0},se={key:1},ae={class:"text-sm text-neutral-600"},ge=V({__name:"TenantSettings",props:{tenant:{type:Object,required:!0},tenantSlug:{type:String,required:!0}},setup(c){const n=c;h(()=>[{title:n.tenantSlug?"Dashboard":"Admin Dashboard",href:n.tenantSlug?route("dashboard",{tenantSlug:n.tenantSlug}):route("admin.dashboard")}]);const{toast:m}=q(),r=S(null),s=T({name:n.tenant.name,slug:n.tenant.slug,image:null}),w=b=>{const t=b.target;if(t.files&&t.files[0]){s.image=t.files[0];const u=new FileReader;u.onload=k=>{var x;r.value=(x=k.target)==null?void 0:x.result},u.readAsDataURL(t.files[0])}},C=()=>{s.post(route("tenant.settings.update",n.tenantSlug),{onSuccess:()=>{m({title:"Success",description:"Company settings updated successfully"})},preserveScroll:!0})};return(b,t)=>(i(),$(B,{breadcrumbs:n.breadcrumbItems,tenantSlug:n.tenantSlug},{default:l(()=>[o(e(j),{title:"Company Settings"}),o(D,null,{default:l(()=>[a("div",z,[o(E,{title:"Company Settings",description:"Update your company information and logo"}),o(e(P)),c.tenant.image_path?(i(),d("div",A,[t[2]||(t[2]=a("div",{class:"text-sm font-medium"},"Current Company Logo",-1)),a("div",I,[a("img",{src:`/storage/${c.tenant.image_path}`,alt:"Company Logo",class:"max-w-full max-h-full object-contain"},null,8,F)]),t[3]||(t[3]=a("div",{class:"text-xs text-muted-foreground"}," Logo is optimized and converted to SVG for better quality ",-1))])):g("",!0),a("form",{onSubmit:N(C,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[a("div",R,[o(e(v),{for:"name"},{default:l(()=>t[4]||(t[4]=[f("Company Name")])),_:1}),o(e(y),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":t[0]||(t[0]=u=>e(s).name=u),placeholder:"Enter company name",class:"mt-1 block w-full"},null,8,["modelValue"]),e(s).errors.name?(i(),d("p",J,_(e(s).errors.name),1)):g("",!0)]),a("div",O,[o(e(v),{for:"slug"},{default:l(()=>t[5]||(t[5]=[f("Slug")])),_:1}),o(e(y),{id:"slug",modelValue:e(s).slug,"onUpdate:modelValue":t[1]||(t[1]=u=>e(s).slug=u),placeholder:"Enter company slug",class:"mt-1 block w-full"},null,8,["modelValue"]),e(s).errors.slug?(i(),d("p",W,_(e(s).errors.slug),1)):g("",!0)]),a("div",Y,[o(e(v),{for:"image"},{default:l(()=>t[6]||(t[6]=[f("Update Company Logo")])),_:1}),a("div",H,[r.value?(i(),d("div",K,[a("img",{src:r.value,alt:"New Company Logo Preview",class:"max-w-full max-h-full object-contain"},null,8,Q)])):g("",!0),a("div",X,[o(e(y),{id:"image",type:"file",onChange:w,accept:"image/jpeg,image/png,image/gif,image/svg+xml",class:"mt-1 block w-full"}),t[7]||(t[7]=a("p",{class:"text-xs text-muted-foreground mt-1"}," Accepted formats: JPEG, PNG, GIF, SVG. Max size: 2MB. Will be optimized and converted to SVG. ",-1)),e(s).errors.image?(i(),d("p",Z,_(e(s).errors.image),1)):g("",!0)])])]),a("div",ee,[o(e(M),{type:"submit",disabled:e(s).processing},{default:l(()=>[e(s).processing?(i(),d("span",te,"Updating...")):(i(),d("span",se,"Save Changes"))]),_:1},8,["disabled"]),o(G,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:l(()=>[L(a("p",ae,"Saved.",512),[[U,e(s).recentlySuccessful]])]),_:1})])],32)])]),_:1})]),_:1},8,["breadcrumbs","tenantSlug"]))}});export{ge as default};
