import{r as y,a as W,w as Ve,f as m,i,j as l,B as t,X as n,u as s,G as f,O as u,P as v,C as Me,E as T,Y as G,al as le,H as x,J as U,K as P,ak as ae,I as ne,am as Ue}from"./vendor-DQlNQ5gH.js";import{x as J,g as Pe,W as _}from"./vendor-vue-CQn6KzTb.js";import{_ as ze}from"./AppLayout.vue_vue_type_script_setup_true_lang-CnwOKlOp.js";import{_ as d}from"./Icon.vue_vue_type_script_setup_true_lang-D_7hXODg.js";import{_ as Be,a as Ne,b as X,c as $,d as Fe,e as C}from"./TableRow.vue_vue_type_script_setup_true_lang-tbX_6Hnu.js";import{_ as c}from"./Button.vue_vue_type_script_setup_true_lang-B-8911bK.js";import{_ as oe}from"./Card.vue_vue_type_script_setup_true_lang-yOexdr0W.js";import{_ as Oe}from"./CardHeader.vue_vue_type_script_setup_true_lang-BXftwvVe.js";import{_ as ue}from"./CardContent.vue_vue_type_script_setup_true_lang-Dh-7LYTR.js";import{_ as L,a as E,b as I,c as q,d as H}from"./DialogTitle.vue_vue_type_script_setup_true_lang-8PZA7eJT.js";import{_ as K}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CJ4mwW2I.js";import{_ as z,a as re}from"./Label.vue_vue_type_script_setup_true_lang-BRq5T-WA.js";import{_ as Le,a as Ee,b as Ie}from"./AlertDescription.vue_vue_type_script_setup_true_lang-DGF9dqnu.js";import{_ as ie}from"./Badge.vue_vue_type_script_setup_true_lang-BgyirVRP.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-D2wO_Ovf.js";import"./vendor-ui-CGEGZLyF.js";import"./app-Bjxw8O7H.js";import"./vendor-icons-pKobgiP0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BpTGIYrD.js";const qe={class:"w-[95%] mx-auto p-6 space-y-8"},He={class:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6"},Ke={class:"flex items-center gap-3"},Re={class:"flex gap-3"},Ye={class:"flex flex-col gap-4"},We={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ge={class:"relative"},Je={class:"flex items-end"},Xe={class:"flex items-center gap-2 h-10 cursor-pointer"},Qe={class:"flex justify-end"},Ze={class:"overflow-x-auto bg-background dark:bg-background border-t border-border"},et={class:"flex items-center justify-center"},tt=["checked"],st={class:"flex items-center gap-1"},lt={class:"flex items-center gap-1"},at={class:"flex items-center gap-1"},nt={class:"flex items-center gap-1"},ot={class:"flex flex-col items-center justify-center text-muted-foreground"},ut=["value"],rt={class:"flex items-center gap-2"},it={class:"font-medium"},dt={class:"flex flex-col"},ct={class:"text-xs text-muted-foreground"},mt={class:"flex gap-2"},ft={key:0,class:"bg-muted/20 px-4 py-3 border-t"},pt={class:"flex flex-col sm:flex-row justify-between items-center gap-4"},vt={class:"text-sm text-muted-foreground"},gt={class:"flex items-center gap-4"},bt={class:"flex items-center gap-2"},yt={class:"flex"},kt=["innerHTML"],xt={class:"space-y-2"},wt=["value"],_t={class:"space-y-4 p-4"},St={class:"flex-1"},ht={class:"border rounded-md"},Ct={class:"divide-y max-h-[300px] overflow-y-auto"},$t={key:0,class:"p-4 text-center text-muted-foreground"},jt={class:"flex gap-2"},Tt={key:0,class:"border rounded-md mt-4"},Dt={class:"divide-y max-h-[200px] overflow-y-auto"},At={class:"text-muted-foreground flex items-center"},Vt={class:"flex gap-2"},Qt={__name:"TicketIndex",props:{tickets:Object,tenantSlug:{type:String,default:null},SuperAdmin:Boolean,filters:Object,ticket_subjects:{type:Array,default:()=>[]},deleted_subjects:{type:Array,default:()=>[]}},setup(p){var se;const r=p,k=y(""),D=y(!1),B=y(!1),j=J({subject:"",message:""}),N=J({name:""}),b=y({...r.filters}),g=y([]),A=y(!1),V=y(((se=r.tickets)==null?void 0:se.per_page)||10),S=y("created_at"),w=y("desc"),M=y(!1),Q=y(null),R=y("");function de(){j.subject=R.value}const ce=[{title:r.tenantSlug?"Dashboard":"Admin Dashboard",href:r.tenantSlug?route("dashboard",{tenantSlug:r.tenantSlug}):route("admin.dashboard")},{title:"Customer Support",href:r.tenantSlug?route("support.index",{tenantSlug:r.tenantSlug}):route("support.index.admin")}],Z=W(()=>r.tickets.data.length>0&&g.value.length===r.tickets.data.length);function me(){Z.value?g.value=[]:g.value=r.tickets.data.map(o=>o.id)}function fe(o){return g.value.includes(o)}function pe(o){return r.SuperAdmin?!o.seen_by_admin:!o.seen_by_user}const ve=o=>{Q.value=o,M.value=!0};function ge(o){switch(o){case"open":return"open";case"in_progress":return"in_progress";case"closed":return"closed";default:return"outline"}}function F(o){S.value===o?w.value=w.value==="asc"?"desc":"asc":(S.value=o,w.value="asc");const e=r.tenantSlug?route("support.index",{tenantSlug:r.tenantSlug}):route("support.index.admin");_.get(e,{...b.value,sort:S.value,direction:w.value,per_page:V.value},{preserveState:!0})}function be(){if(g.value.length===0)return;const o=J({ids:g.value}),e=r.SuperAdmin?"support.destroyBulk.admin":"support.destroyBulk",a=r.SuperAdmin?{}:{tenantSlug:r.tenantSlug};o.delete(route(e,a),{preserveScroll:!0,onSuccess:()=>{k.value=`${g.value.length} tickets deleted successfully.`,g.value=[],A.value=!1},onError:h=>{console.error(h)}})}function ye(){const o=r.tenantSlug?route("support.index",{tenantSlug:r.tenantSlug}):route("support.index.admin");_.get(o,{...b.value,sort:S.value,direction:w.value,per_page:V.value},{preserveState:!0})}function ke(){b.value={search:"",status:"",unseen:!1},O()}function xe(o){o&&_.get(new URL(o).href,{},{preserveState:!0})}function O(){const o=r.tenantSlug?route("support.index",{tenantSlug:r.tenantSlug}):route("support.index.admin");_.get(o,{search:b.value.search,status:b.value.status,unseen:b.value.unseen?"true":void 0,sort:S.value,direction:w.value,per_page:V.value},{preserveState:!0})}function ee(){j.reset(),D.value=!0}function we(){const o=r.tenantSlug?route("support.store",{tenantSlug:r.tenantSlug}):route("support.store.admin");j.post(o,{onSuccess:()=>{k.value=`Thank you for submitting a support ticket. Our team of customer obsession specialists will review your submission right away and respond in a timely manner.

Need to add more? You can view the ticket below and add a new response to be attached to your ticket.`,D.value=!1,j.reset()}})}function _e(o){const e=r.tenantSlug?route("support.show",{tenantSlug:r.tenantSlug,ticket:o}):route("support.show.admin",o);_.get(e)}function Se(o){_.delete(r.tenantSlug?route("support.destroy",{tenantSlug:r.tenantSlug,ticket:o}):route("support.destroy.admin",o),{onSuccess:()=>{k.value="Ticket deleted.",M.value=!1,_.reload()}})}function he(o){const e=new Date(o);return`${e.getMonth()+1}-${e.getDate()}-${e.getFullYear()}`}function Ce(o){return new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}Ve(k,o=>{o&&setTimeout(()=>k.value="",8e3)});function $e(){B.value=!0}function je(){N.post(route("ticket_subjects.store.admin"),{preserveScroll:!0,onSuccess:()=>{N.reset(),k.value="Subject created successfully"}})}function Te(o){confirm("Are you sure you want to delete this subject?")&&_.delete(route("ticket_subjects.destroy.admin",o),{preserveScroll:!0,onSuccess:()=>{k.value="Subject deleted successfully"}})}function De(o){_.post(route("ticket_subjects.restore.admin",o),{},{preserveScroll:!0,onSuccess:()=>{k.value="Subject restored successfully"}})}function Ae(o){confirm("Are you sure you want to permanently delete this subject? This action cannot be undone.")&&_.delete(route("ticket_subjects.forceDelete.admin",o),{preserveScroll:!0,onSuccess:()=>{k.value="Subject permanently deleted"}})}const Y=W(()=>r.ticket_subjects.filter(o=>!o.deleted_at)),te=W(()=>r.ticket_subjects.filter(o=>o.deleted_at));return(o,e)=>(i(),m(ze,{breadcrumbs:ce,tenantSlug:p.tenantSlug},{default:l(()=>[t(s(Pe),{title:"Customer Support"}),n("div",qe,[k.value?(i(),m(s(Le),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:l(()=>[t(s(Ee),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"check-circle",class:"h-5 w-5 text-green-500"}),e[24]||(e[24]=u(" Ticket Submitted Successfully! "))]),_:1}),t(s(Ie),{class:"whitespace-pre-line"},{default:l(()=>[u(v(k.value),1)]),_:1})]),_:1})):f("",!0),n("div",He,[n("div",Ke,[t(d,{name:"help-circle",class:"h-7 w-7 text-primary"}),e[25]||(e[25]=n("h1",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"Customer Support",-1))]),n("div",Re,[p.SuperAdmin?f("",!0):(i(),m(s(c),{key:0,onClick:ee,variant:"default",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"plus",class:"mr-2 h-4 w-4"}),e[26]||(e[26]=u(" Submit a Ticket "))]),_:1})),g.value.length>0?(i(),m(s(c),{key:1,onClick:e[0]||(e[0]=a=>A.value=!0),variant:"destructive",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"trash",class:"mr-2 h-4 w-4"}),u(" Delete Selected ("+v(g.value.length)+") ",1)]),_:1})):f("",!0),p.SuperAdmin?(i(),m(s(c),{key:2,onClick:e[1]||(e[1]=a=>$e()),variant:"outline"},{default:l(()=>[t(d,{name:"settings",class:"mr-2 h-4 w-4"}),e[27]||(e[27]=u(" Manage Types "))]),_:1})):f("",!0)])]),t(s(oe),{class:"shadow-sm hover:shadow transition-all duration-300"},{default:l(()=>[t(s(Oe),{class:"pb-2"}),t(s(ue),{class:"p-4 pt-2"},{default:l(()=>[n("div",Ye,[n("div",We,[n("div",null,[t(s(z),{for:"search",class:"text-sm font-medium mb-1 block"},{default:l(()=>e[28]||(e[28]=[u("Search")])),_:1}),n("div",Ge,[t(d,{name:"search",class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t(s(re),{id:"search",modelValue:b.value.search,"onUpdate:modelValue":e[2]||(e[2]=a=>b.value.search=a),placeholder:"Search type or ticket id",onKeydown:Me(O,["enter"]),class:"pl-9"},null,8,["modelValue"])])]),n("div",null,[t(s(z),{for:"status",class:"text-sm font-medium mb-1 block"},{default:l(()=>e[29]||(e[29]=[u("Status")])),_:1}),T(n("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=a=>b.value.status=a),onChange:O,class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background"},e[30]||(e[30]=[n("option",{value:""},"All Statuses",-1),n("option",{value:"open"},"Open",-1),n("option",{value:"in_progress"},"In Progress",-1),n("option",{value:"closed"},"Closed",-1)]),544),[[G,b.value.status]])]),n("div",Je,[n("label",Xe,[T(n("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=a=>b.value.unseen=a),onChange:O,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,544),[[le,b.value.unseen]]),e[31]||(e[31]=n("span",null,"Unseen Only",-1))])])]),n("div",Qe,[t(s(c),{onClick:ke,variant:"ghost",size:"sm",class:"gap-1"},{default:l(()=>[t(d,{name:"rotate-ccw",class:"h-4 w-4"}),e[32]||(e[32]=u(" Reset Filters "))]),_:1})])])]),_:1})]),_:1}),t(s(oe),{class:"shadow-sm hover:shadow transition-all duration-300"},{default:l(()=>[t(s(ue),{class:"p-0"},{default:l(()=>[n("div",Ze,[t(s(Be),{class:"relative h-[600px] overflow-auto"},{default:l(()=>[t(s(Ne),null,{default:l(()=>[t(s(X),{class:"sticky top-0 bg-background border-b z-10 hover:bg-background"},{default:l(()=>[t(s($),{class:"w-[50px]"},{default:l(()=>[n("div",et,[n("input",{type:"checkbox",onChange:me,checked:Z.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,tt)])]),_:1}),t(s($),{class:"w-[70px] cursor-pointer",onClick:e[5]||(e[5]=a=>F("id"))},{default:l(()=>[n("div",st,[e[33]||(e[33]=u(" ID ")),S.value==="id"?(i(),m(d,{key:0,name:w.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):f("",!0)])]),_:1}),p.SuperAdmin?(i(),m(s($),{key:0},{default:l(()=>e[34]||(e[34]=[u("User")])),_:1})):f("",!0),t(s($),{class:"cursor-pointer",onClick:e[6]||(e[6]=a=>F("subject"))},{default:l(()=>[n("div",lt,[e[35]||(e[35]=u(" Type ")),S.value==="subject"?(i(),m(d,{key:0,name:w.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):f("",!0)])]),_:1}),t(s($),{class:"cursor-pointer",onClick:e[7]||(e[7]=a=>F("status"))},{default:l(()=>[n("div",at,[e[36]||(e[36]=u(" Status ")),S.value==="status"?(i(),m(d,{key:0,name:w.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):f("",!0)])]),_:1}),t(s($),{class:"cursor-pointer",onClick:e[8]||(e[8]=a=>F("created_at"))},{default:l(()=>[n("div",nt,[e[37]||(e[37]=u(" Created ")),S.value==="created_at"?(i(),m(d,{key:0,name:w.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):f("",!0)])]),_:1}),t(s($),null,{default:l(()=>e[38]||(e[38]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(s(Fe),null,{default:l(()=>[p.tickets.data.length===0?(i(),m(s(X),{key:0},{default:l(()=>[t(s(C),{colspan:p.SuperAdmin?7:6,class:"py-8 text-center"},{default:l(()=>[n("div",ot,[t(d,{name:"inbox",class:"h-12 w-12 mb-2 opacity-20"}),e[40]||(e[40]=n("p",null,"No tickets found",-1)),p.SuperAdmin?f("",!0):(i(),m(s(c),{key:0,onClick:ee,variant:"link",class:"mt-2"},{default:l(()=>e[39]||(e[39]=[u("Create your first ticket")])),_:1}))])]),_:1},8,["colspan"])]),_:1})):f("",!0),(i(!0),x(U,null,P(p.tickets.data,a=>(i(),m(s(X),{key:a.id,class:ae(["hover:bg-muted/50 transition-colors",{"bg-primary/5":fe(a.id)}])},{default:l(()=>[t(s(C),{class:"text-center"},{default:l(()=>[T(n("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[9]||(e[9]=h=>g.value=h),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,ut),[[le,g.value]])]),_:2},1024),t(s(C),{class:"text-center font-mono text-sm"},{default:l(()=>[u(v(a.id),1)]),_:2},1024),p.SuperAdmin?(i(),m(s(C),{key:0},{default:l(()=>[u(v(a.user.name),1)]),_:2},1024)):f("",!0),t(s(C),null,{default:l(()=>[n("div",rt,[n("span",it,v(a.subject),1),pe(a)?(i(),m(s(ie),{key:0,variant:"destructive",class:"ml-2 animate-pulse"},{default:l(()=>e[41]||(e[41]=[u("New")])),_:1})):f("",!0)])]),_:2},1024),t(s(C),null,{default:l(()=>[t(s(ie),{variant:ge(a.status),class:"capitalize"},{default:l(()=>[u(v(a.status.replace("_"," ")),1)]),_:2},1032,["variant"])]),_:2},1024),t(s(C),null,{default:l(()=>[n("div",dt,[n("span",null,v(he(a.created_at)),1),n("span",ct,v(Ce(a.created_at)),1)])]),_:2},1024),t(s(C),null,{default:l(()=>[n("div",mt,[t(s(c),{onClick:h=>_e(a.id),size:"sm",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"eye",class:"mr-1 h-4 w-4"}),e[42]||(e[42]=u("View "))]),_:2},1032,["onClick"]),t(s(c),{onClick:h=>ve(a.id),variant:"destructive",size:"sm",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"trash",class:"mr-1 h-4 w-4"}),e[43]||(e[43]=u("Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),p.tickets.links?(i(),x("div",ft,[n("div",pt,[n("div",vt," Showing "+v(p.tickets.data.length)+" of "+v(p.tickets.total),1),n("div",gt,[n("div",bt,[t(s(z),{for:"perPage",class:"text-sm"},{default:l(()=>e[44]||(e[44]=[u("Per page:")])),_:1}),T(n("select",{id:"perPage","onUpdate:modelValue":e[10]||(e[10]=a=>V.value=a),onChange:ye,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[45]||(e[45]=[n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1),n("option",{value:"100"},"100",-1)]),544),[[G,V.value]])]),n("div",yt,[(i(!0),x(U,null,P(p.tickets.links,a=>(i(),m(s(c),{key:a.label,onClick:h=>xe(a.url),disabled:!a.url,size:"sm",variant:"ghost",class:ae(["mx-1",{"bg-primary/10 text-primary border-primary":a.active}])},{default:l(()=>[n("span",{innerHTML:a.label},null,8,kt)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):f("",!0)]),_:1})]),_:1}),t(s(L),{open:A.value,"onUpdate:open":e[13]||(e[13]=a=>A.value=a)},{default:l(()=>[t(s(E),null,{default:l(()=>[t(s(I),null,{default:l(()=>[t(s(q),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"alert-triangle",class:"h-5 w-5 text-destructive"}),e[46]||(e[46]=u(" Confirm Bulk Deletion "))]),_:1}),t(s(H),null,{default:l(()=>[u(" Are you sure you want to delete "+v(g.value.length)+" tickets? This action cannot be undone. ",1)]),_:1})]),_:1}),t(s(K),{class:"mt-4"},{default:l(()=>[t(s(c),{type:"button",onClick:e[11]||(e[11]=a=>A.value=!1),variant:"outline"},{default:l(()=>e[47]||(e[47]=[u(" Cancel ")])),_:1}),t(s(c),{type:"button",onClick:e[12]||(e[12]=a=>be()),variant:"destructive"},{default:l(()=>e[48]||(e[48]=[u(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(s(L),{open:D.value,"onUpdate:open":e[17]||(e[17]=a=>D.value=a)},{default:l(()=>[t(s(E),{class:"sm:max-w-lg w-[90vw]"},{default:l(()=>[t(s(I),null,{default:l(()=>[t(s(q),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"plus-circle",class:"h-5 w-5 text-primary"}),e[49]||(e[49]=u(" New Ticket "))]),_:1}),t(s(H),null,{default:l(()=>e[50]||(e[50]=[u(" Create your support ticket by providing the details below so a customer obsession specialist can assist you quickly and efficiently. ")])),_:1})]),_:1}),n("form",{onSubmit:ne(we,["prevent"]),class:"space-y-4 p-4"},[n("div",null,[t(s(z),{for:"subjectSelect"},{default:l(()=>e[51]||(e[51]=[u("Type")])),_:1}),n("div",xt,[T(n("select",{id:"subjectSelect","onUpdate:modelValue":e[14]||(e[14]=a=>R.value=a),onChange:de,class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background"},[(i(!0),x(U,null,P(Y.value,a=>(i(),x("option",{key:a.id,value:a.name},v(a.name),9,wt))),128))],544),[[G,R.value]])])]),n("div",null,[t(s(z),{for:"message"},{default:l(()=>e[52]||(e[52]=[u("Message")])),_:1}),T(n("textarea",{id:"message","onUpdate:modelValue":e[15]||(e[15]=a=>s(j).message=a),rows:"4",placeholder:"Describe your issue in detail...",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",required:""},null,512),[[Ue,s(j).message]])]),t(s(K),{class:"flex justify-end gap-2"},{default:l(()=>[t(s(c),{type:"button",onClick:e[16]||(e[16]=a=>D.value=!1),variant:"outline"},{default:l(()=>e[53]||(e[53]=[u(" Cancel ")])),_:1}),t(s(c),{type:"submit",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>e[54]||(e[54]=[u("Create")])),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(s(L),{open:B.value,"onUpdate:open":e[20]||(e[20]=a=>B.value=a)},{default:l(()=>[t(s(E),{class:"sm:max-w-lg"},{default:l(()=>[t(s(I),null,{default:l(()=>[t(s(q),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"list",class:"h-5 w-5 text-primary"}),e[55]||(e[55]=u(" Manage Ticket Types "))]),_:1}),t(s(H),null,{default:l(()=>e[56]||(e[56]=[u(" Create and manage predefined types for support tickets. ")])),_:1})]),_:1}),n("div",_t,[n("form",{onSubmit:ne(je,["prevent"]),class:"flex gap-2 mb-6"},[n("div",St,[t(s(re),{modelValue:s(N).name,"onUpdate:modelValue":e[18]||(e[18]=a=>s(N).name=a),placeholder:"Enter Type name...",required:"",class:"w-full"},null,8,["modelValue"])]),t(s(c),{type:"submit",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"plus",class:"mr-2 h-4 w-4"}),e[57]||(e[57]=u(" Add "))]),_:1})],32),n("div",ht,[e[58]||(e[58]=n("div",{class:"bg-muted/30 px-4 py-2 border-b"},[n("h3",{class:"font-medium"},"Available Types")],-1)),n("div",Ct,[Y.value.length===0?(i(),x("div",$t," No types found. Create your first one above. ")):f("",!0),(i(!0),x(U,null,P(Y.value,a=>(i(),x("div",{key:a.id,class:"flex items-center justify-between p-3 hover:bg-muted/30"},[n("span",null,v(a.name),1),n("div",jt,[t(s(c),{onClick:h=>Te(a.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:l(()=>[t(d,{name:"trash",class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])])]))),128))])]),te.value.length>0?(i(),x("div",Tt,[e[60]||(e[60]=n("div",{class:"bg-muted/30 px-4 py-2 border-b"},[n("h3",{class:"font-medium"},"Deleted Types")],-1)),n("div",Dt,[(i(!0),x(U,null,P(te.value,a=>(i(),x("div",{key:a.id,class:"flex items-center justify-between p-3 hover:bg-muted/30"},[n("span",At,[u(v(a.name)+" ",1),e[59]||(e[59]=n("span",{class:"ml-2 text-xs text-red-500"},"(Deleted)",-1))]),n("div",Vt,[t(s(c),{onClick:h=>De(a.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0",title:"Restore Type"},{default:l(()=>[t(d,{name:"undo",class:"h-4 w-4 text-primary"})]),_:2},1032,["onClick"]),t(s(c),{onClick:h=>Ae(a.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0",title:"Permanently Delete"},{default:l(()=>[t(d,{name:"x",class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])])]))),128))])])):f("",!0)]),t(s(K),null,{default:l(()=>[t(s(c),{onClick:e[19]||(e[19]=a=>B.value=!1),variant:"outline"},{default:l(()=>e[61]||(e[61]=[u(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(s(L),{open:M.value,"onUpdate:open":e[23]||(e[23]=a=>M.value=a)},{default:l(()=>[t(s(E),null,{default:l(()=>[t(s(I),null,{default:l(()=>[t(s(q),null,{default:l(()=>e[62]||(e[62]=[u("Confirm Deletion")])),_:1}),t(s(H),null,{default:l(()=>e[63]||(e[63]=[u(" Are you sure you want to delete this ticket? This action cannot be undone. ")])),_:1})]),_:1}),t(s(K),{class:"mt-4"},{default:l(()=>[t(s(c),{type:"button",onClick:e[21]||(e[21]=a=>M.value=!1),variant:"outline"},{default:l(()=>e[64]||(e[64]=[u(" Cancel ")])),_:1}),t(s(c),{type:"button",onClick:e[22]||(e[22]=a=>Se(Q.value)),variant:"destructive"},{default:l(()=>e[65]||(e[65]=[u(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1},8,["tenantSlug"]))}};export{Qt as default};
