import{e as et,w as ce,H as f,i as d,X as t,G as k,B as l,j as s,O as r,E as j,Y as P,u as o,J as D,K as z,P as y,I as Se,a3 as tt,r as _,A as De,aj as lt,a as V,f as F,W as at,ak as X,al as st}from"./vendor-BFuKjz45.js";import{x as Z,g as ot,W as O}from"./vendor-vue-BLQkEQ_D.js";import{_ as nt}from"./AppLayout.vue_vue_type_script_setup_true_lang-CvhbqXcl.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-BbwYdLlm.js";import{_ as oe,a as ne,b as re,c as de,d as ue}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BMgF8EFT.js";import{_ as me}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B6J1QtuW.js";import{_ as $,a as Y}from"./Label.vue_vue_type_script_setup_true_lang-B6MZTsAk.js";import{_ as rt}from"./Checkbox.vue_vue_type_script_setup_true_lang-CLgiEqQp.js";import{_ as A}from"./Icon.vue_vue_type_script_setup_true_lang-Bvtx7n_2.js";import{_ as dt,a as ut,b as pe,c as ve,d as it,e as ie}from"./TableRow.vue_vue_type_script_setup_true_lang-BYKXF4kE.js";import{_ as ye}from"./Card.vue_vue_type_script_setup_true_lang-kUJ1jh19.js";import{_ as ft,a as mt}from"./CardTitle.vue_vue_type_script_setup_true_lang-B4PiGnOE.js";import{_ as ge}from"./CardContent.vue_vue_type_script_setup_true_lang-CaXnTGJw.js";import{_ as ke,a as Ce,b as we}from"./AlertDescription.vue_vue_type_script_setup_true_lang-DfRKwC2v.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-7fX89-0C.js";import"./vendor-ui-CqNqovUm.js";import"./app-CGq9Auu4.js";import"./vendor-icons-ILJ_3fu6.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CZUnzYQk.js";const vt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ct={key:0,class:"col-span-full"},pt={class:"relative"},yt=["value"],gt={class:"col-span-full"},bt={class:"relative"},xt={class:"relative"},_t={class:"relative"},kt=["value"],Ct={class:"relative"},wt={class:"flex items-center space-x-2"},St={class:"flex-col space-y-2 sm:space-y-0 sm:flex-row sm:justify-end sm:space-x-2 pt-4 border-t flex"},Dt=et({__name:"DelayForm",props:{delay:{type:Object,default:null},delayCodes:{type:Array,default:()=>[]},tenants:{type:Array,default:()=>[]},isSuperAdmin:{type:Boolean,default:!1},tenantSlug:{type:String,default:null}},emits:["close"],setup(p,{emit:i}){var L,h,U,B,R,S,W;const b=p,T=i,v=Z({id:(L=b.delay)==null?void 0:L.id,tenant_id:b.isSuperAdmin?(h=b.delay)==null?void 0:h.tenant_id:null,date:((U=b.delay)==null?void 0:U.date)||"",driver_name:((B=b.delay)==null?void 0:B.driver_name)||"",delay_type:((R=b.delay)==null?void 0:R.delay_type)||"origin",delay_category:((S=b.delay)==null?void 0:S.delay_category)||"1_120",delay_code_id:((W=b.delay)==null?void 0:W.delay_code_id)||null,disputed:b.delay&&b.delay.disputed!==null?parseInt(b.delay.disputed)===1:!1,driver_controllable:b.delay&&b.delay.driver_controllable!==null?parseInt(b.delay.driver_controllable)===1:null});ce(()=>b.delay,C=>{C?(v.id=C.id,v.tenant_id=C.tenant_id,v.date=C.date,v.driver_name=C.driver_name,v.delay_type=C.delay_type,v.delay_category=C.delay_category,v.delay_code_id=C.delay_code_id,v.disputed=C.disputed!==null?parseInt(C.disputed)===1:!1,v.driver_controllable=C.driver_controllable!==null?parseInt(C.driver_controllable)===1:null):v.reset()},{immediate:!0});const N=()=>{const C=!!v.id,u=b.isSuperAdmin?C?"ontime.update.admin":"ontime.store.admin":C?"ontime.update":"ontime.store",g=b.isSuperAdmin?C?{delay:v.id}:{}:C?{tenantSlug:b.tenantSlug,delay:v.id}:{tenantSlug:b.tenantSlug};v[C?"put":"post"](route(u,g),{onSuccess:()=>T("close")})};return(C,u)=>(d(),f("form",{onSubmit:Se(N,["prevent"]),class:"space-y-6"},[t("div",vt,[p.isSuperAdmin?(d(),f("div",ct,[l($,null,{default:s(()=>u[9]||(u[9]=[r("Company Name")])),_:1}),t("div",pt,[j(t("select",{"onUpdate:modelValue":u[0]||(u[0]=g=>o(v).tenant_id=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},[u[10]||(u[10]=t("option",{value:null,disabled:""},"Select Company",-1)),(d(!0),f(D,null,z(p.tenants,g=>(d(),f("option",{key:g.id,value:g.id},y(g.name),9,yt))),128))],512),[[P,o(v).tenant_id]]),u[11]||(u[11]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):k("",!0),t("div",gt,[l($,null,{default:s(()=>u[12]||(u[12]=[r("Date")])),_:1}),l(Y,{type:"date",modelValue:o(v).date,"onUpdate:modelValue":u[1]||(u[1]=g=>o(v).date=g),class:"w-full"},null,8,["modelValue"])]),t("div",null,[l($,null,{default:s(()=>u[13]||(u[13]=[r("Driver Name")])),_:1}),l(Y,{modelValue:o(v).driver_name,"onUpdate:modelValue":u[2]||(u[2]=g=>o(v).driver_name=g),class:"w-full"},null,8,["modelValue"])]),t("div",null,[l($,null,{default:s(()=>u[14]||(u[14]=[r("Delay Type")])),_:1}),t("div",bt,[j(t("select",{"onUpdate:modelValue":u[3]||(u[3]=g=>o(v).delay_type=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},u[15]||(u[15]=[t("option",{value:"origin"},"Origin",-1),t("option",{value:"destination"},"Destination",-1)]),512),[[P,o(v).delay_type]]),u[16]||(u[16]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),t("div",null,[l($,null,{default:s(()=>u[17]||(u[17]=[r("Delay Category")])),_:1}),t("div",xt,[j(t("select",{"onUpdate:modelValue":u[4]||(u[4]=g=>o(v).delay_category=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},u[18]||(u[18]=[t("option",{value:"1_120"},"1–120 min",-1),t("option",{value:"121_600"},"121–600 min",-1),t("option",{value:"601_plus"},"601+ min",-1)]),512),[[P,o(v).delay_category]]),u[19]||(u[19]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),t("div",null,[l($,null,{default:s(()=>u[20]||(u[20]=[r("Delay Code")])),_:1}),t("div",_t,[j(t("select",{"onUpdate:modelValue":u[5]||(u[5]=g=>o(v).delay_code_id=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},[(d(!0),f(D,null,z(p.delayCodes,g=>(d(),f("option",{key:g.id,value:g.id},y(g.code),9,kt))),128))],512),[[P,o(v).delay_code_id]]),u[21]||(u[21]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),t("div",null,[l($,null,{default:s(()=>u[22]||(u[22]=[r("Driver Controllable")])),_:1}),t("div",Ct,[j(t("select",{"onUpdate:modelValue":u[6]||(u[6]=g=>o(v).driver_controllable=g),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none"},u[23]||(u[23]=[t("option",{value:null},"N/A",-1),t("option",{value:!0},"Yes",-1),t("option",{value:!1},"No",-1)]),512),[[P,o(v).driver_controllable]]),u[24]||(u[24]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[t("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),t("div",wt,[l(rt,{checked:o(v).disputed,"onUpdate:checked":u[7]||(u[7]=g=>o(v).disputed=g),id:"disputed"},null,8,["checked"]),l($,{for:"disputed"},{default:s(()=>u[25]||(u[25]=[r("Disputed")])),_:1})])]),t("div",St,[l(x,{type:"button",onClick:u[8]||(u[8]=g=>T("close")),variant:"outline",class:"w-full sm:w-auto"},{default:s(()=>u[26]||(u[26]=[r(" Cancel ")])),_:1}),l(x,{type:"submit",disabled:o(v).processing,class:"w-full sm:w-auto"},{default:s(()=>[r(y(o(v).id?"Update":"Create"),1)]),_:1},8,["disabled"])])],32))}}),$t={class:"bg-background rounded-lg border shadow-sm p-4 flex flex-col items-center justify-center"},ht={class:"text-base font-semibold mb-2 text-foreground"},At={class:"text-2xl font-bold text-primary"},Nt={__name:"TotalLateStops",props:{title:{type:String,required:!0},value:{type:[Number,String],required:!0}},setup(p){return(i,b)=>(d(),f("div",$t,[t("h3",ht,y(p.title),1),t("p",At,y(p.value),1)]))}},Ft={class:"bg-background rounded-lg border shadow-sm p-4"},Tt={class:"text-base font-semibold mb-4"},Mt={class:"space-y-3"},Lt={class:"text-sm"},Ut={__name:"BottomDrivers",props:{title:{type:String,default:"Bottom 5 Drivers"},drivers:{type:Array,default:()=>[]}},setup(p){const i=b=>["#ef4444","#f97316","#f59e0b","#84cc16","#10b981"][b]||"#6b7280";return(b,T)=>(d(),f("div",Ft,[t("h3",Tt,y(p.title),1),t("div",Mt,[(d(!0),f(D,null,z(p.drivers,(v,N)=>(d(),f("div",{key:N,class:"flex justify-between items-center"},[t("span",Lt,y(v.name),1),t("span",{class:"text-sm font-medium",style:tt({color:i(N)})},y(v.value),5)]))),128))])]))}},Vt={class:"bg-background rounded-lg border shadow-sm p-4"},zt={class:"text-base font-semibold mb-4"},jt={class:"h-64"},Bt={__name:"LineChart",props:{title:{type:String,default:"Line chart"},chartData:{type:Object,default:()=>({labels:[],datasets:[]})}},setup(p){const i=p,b=_(null);let T=null;const v=()=>{if(T&&T.destroy(),!b.value)return;const N=b.value.getContext("2d");T=new lt(N,{type:"line",data:i.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})};return De(()=>{v()}),ce(()=>i.chartData,()=>{v()},{deep:!0}),(N,L)=>(d(),f("div",Vt,[t("h3",zt,y(p.title),1),t("div",jt,[t("canvas",{ref_key:"chartCanvas",ref:b},null,512)])]))}},Et={class:"space-y-6"},Ot={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Pt={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},Rt={__name:"OnTimeDashboard",props:{metricsData:{type:Object,default:()=>({})},driversData:{type:Array,default:()=>[]},chartData:{type:Object,default:()=>({})}},setup(p){const i=p,b=[{title:"Total Late Stops",value:1050},{title:"1-20 Minutes Late",value:1050},{title:"121 - 600 Minutes Late",value:1050},{title:"+601 Minutes Late",value:1050}],T=[{name:"Kain",value:5},{name:"Ronny",value:4},{name:"Damen",value:3},{name:"Leo",value:2},{name:"Shawn",value:1}],v={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Late Stops",data:[65,59,80,81,56,55],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3}]},N=V(()=>i.metricsData.items||b),L=V(()=>i.driversData.length?i.driversData:T),h=V(()=>Object.keys(i.chartData).length?i.chartData:v);return(U,B)=>(d(),f("div",Et,[t("div",Ot,[(d(!0),f(D,null,z(N.value,(R,S)=>(d(),F(Nt,{key:S,title:R.title,value:R.value},null,8,["title","value"]))),128))]),t("div",Pt,[l(Ut,{title:"Bottom 5 Drivers",drivers:L.value,class:"lg:col-span-1"},null,8,["drivers"]),l(Bt,{title:"On-Time Score","chart-data":h.value,class:"lg:col-span-3"},null,8,["chart-data"])])]))}},Wt={class:"max-w-7xl mx-auto p-6 space-y-8"},It={class:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4"},Yt={class:"flex flex-wrap gap-3"},qt={class:"relative"},Jt={key:0,class:"absolute right-0 mt-1 w-48 bg-background rounded-md shadow-lg border z-10"},Ht={class:"py-1"},Kt={class:"cursor-pointer block px-4 py-2 text-sm hover:bg-muted"},Gt=["href"],Qt=["action"],Xt={class:"flex flex-col gap-2"},Zt={class:"flex flex-wrap gap-2"},el={key:0,class:"text-sm text-muted-foreground"},tl={key:0},ll={key:1},al={key:2},sl={key:3,class:"ml-1"},ol={class:"flex justify-between items-center"},nl={class:"flex items-center gap-2"},rl={key:0,class:"flex flex-wrap gap-2 ml-4"},dl={key:0,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},ul={key:1,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},il={key:2,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},fl={key:3,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},ml={key:4,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},vl={key:5,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},cl={class:"flex flex-col justify-between gap-4"},pl={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full"},yl=["value"],gl={class:"flex justify-end"},bl={class:"overflow-x-auto"},xl={class:"flex items-center justify-center"},_l=["checked"],kl={class:"flex items-center"},Cl={key:0,class:"ml-2"},wl={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Sl={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Dl={key:1,class:"ml-2 opacity-50"},$l=["value"],hl={key:0,class:"ml-1 text-xs text-red-500"},Al={class:"flex space-x-2"},Nl={key:0,class:"bg-muted/20 px-4 py-3 border-t"},Fl={class:"flex justify-between items-center"},Tl={class:"text-sm text-muted-foreground"},Ml={class:"flex items-center gap-4"},Ll={class:"flex items-center gap-2"},Ul={class:"flex"},Vl=["innerHTML"],zl={class:"mt-4 space-y-4"},jl={class:"flex items-center justify-between"},Bl={class:"max-h-[400px] overflow-y-auto"},El={key:0,class:"text-center py-8 text-muted-foreground border rounded-md"},Ol={key:1,class:"space-y-2"},Pl=["onClick"],Rl={class:"font-medium"},Wl={key:0,class:"ml-2 text-xs text-red-500"},Il={key:0,class:"text-sm text-muted-foreground mt-1"},Yl={class:"opacity-0 group-hover:opacity-100 transition-opacity"},ql={key:0,class:"border rounded-md p-4 space-y-4"},Jl={class:"text-sm font-medium"},Hl={class:"space-y-3"},Kl={class:"flex justify-end space-x-2"},ya={__name:"Index",props:{delays:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},delay_codes:Array,tenants:{type:Array,default:()=>[]},isSuperAdmin:{type:Boolean,default:!1},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null}},setup(p){const i=p,b=V(()=>(M.value==="yesterday"||M.value==="current-week")&&i.weekNumber&&i.year?`Week ${i.weekNumber}, ${i.year}`:(M.value==="6w"||M.value==="quarterly")&&i.startWeekNumber&&i.endWeekNumber&&i.year?`Weeks ${i.startWeekNumber}-${i.endWeekNumber}, ${i.year}`:""),T=[{title:i.tenantSlug?"Dashboard":"Admin Dashboard",href:i.tenantSlug?route("dashboard",{tenantSlug:i.tenantSlug}):route("admin.dashboard")},{title:"On-Time",href:i.tenantSlug?route("ontime.index",{tenantSlug:i.tenantSlug}):route("ontime.index.admin")}],v=_(!1),N=_(!1),L=_(null),h=_(""),U=_(""),B=_(!1),R=_(null),S=_([]),W=_(!1),C=_(null),u=_(!1),g=_(null),E=_({code:"",description:""}),ee=_(!1),be=_(null),q=_("date"),J=_("desc"),c=_({search:"",dateFrom:"",dateTo:"",delayCode:"",disputed:"",controllable:""}),fe=["date","delay_type","driver_name","penalty","delay_code","disputed","driver_controllable"],H=V(()=>{let n=[...i.delays.data];if(c.value.search){const e=c.value.search.toLowerCase();n=n.filter(a=>{var m,w,I,se;return((m=a.driver_name)==null?void 0:m.toLowerCase().includes(e))||((w=a.delay_type)==null?void 0:w.toLowerCase().includes(e))||((se=(I=a.delay_code)==null?void 0:I.code)==null?void 0:se.toLowerCase().includes(e))})}if(c.value.dateFrom&&(n=n.filter(e=>e.date&&e.date>=c.value.dateFrom)),c.value.dateTo&&(n=n.filter(e=>e.date&&e.date<=c.value.dateTo)),c.value.delayCode&&(n=n.filter(e=>{var a;return((a=e.delay_code)==null?void 0:a.id)===parseInt(c.value.delayCode)})),c.value.disputed!==""){const e=c.value.disputed==="true";n=n.filter(a=>a.disputed===e)}if(c.value.controllable!=="")if(c.value.controllable==="null")n=n.filter(e=>e.driver_controllable===null);else{const e=c.value.controllable==="true";n=n.filter(a=>a.driver_controllable===e)}return n.sort((e,a)=>{var I,se;let m,w;return q.value==="delay_code"?(m=((I=e.delay_code)==null?void 0:I.code)||"",w=((se=a.delay_code)==null?void 0:se.code)||""):(m=e[q.value],w=a[q.value]),m===null?1:w===null?-1:(typeof m=="string"&&(m=m.toLowerCase(),w=w.toLowerCase()),m<w?J.value==="asc"?-1:1:m>w?J.value==="asc"?1:-1:0)}),n}),$e=V(()=>i.delay_codes.filter(n=>!n.deleted_at));function he(n){q.value===n?J.value=J.value==="asc"?"desc":"asc":(q.value=n,J.value="asc")}function K(){}function Ae(){c.value={search:"",dateFrom:"",dateTo:"",delayCode:"",disputed:"",controllable:""}}const te=_(i.delays.per_page||10),M=_(i.dateFilter||"full");function Ne(){const n=i.tenantSlug?route("ontime.index",{tenantSlug:i.tenantSlug}):route("ontime.index.admin");O.get(n,{dateFilter:M.value,perPage:te.value},{preserveState:!0})}function le(n){M.value=n;const e=i.tenantSlug?route("ontime.index",{tenantSlug:i.tenantSlug}):route("ontime.index.admin");O.get(e,{dateFilter:n,perPage:te.value},{preserveState:!0})}function Fe(n){if(n){const e=new URL(n);e.searchParams.set("perPage",te.value),O.get(e.href,{},{preserveScroll:!0,preserveState:!0,only:["delays"]})}}function G(n){if(!n)return"";const e=n.split("-");if(e.length!==3)return n;const[a,m,w]=e;return`${Number(m)}/${Number(w)}/${a}`}const xe=(n=null)=>{L.value=n,v.value=!0},Te=n=>{R.value=n,B.value=!0},Me=()=>{N.value=!0,u.value=!1,g.value=null},Le=()=>{E.value={code:"",description:""},g.value=null,u.value=!0},Ue=n=>{E.value={code:n.code,description:n.description||""},g.value=n.id,u.value=!0},Ve=()=>{u.value=!1,g.value=null},_e=n=>{be.value=n,ee.value=!0},Q=_(!1),ze=V(()=>c.value.search||c.value.dateFrom||c.value.dateTo||c.value.delayCode||c.value.disputed||c.value.controllable),je=n=>{if(!n)return"";const e=i.delay_codes.find(a=>a.id===parseInt(n));return e?e.code:""},Be=async n=>{try{await O.delete(route("delay-codes.destroy",n),{onSuccess:()=>{ee.value=!1,h.value="Delay code deleted successfully"}})}catch(e){console.error("Error deleting delay code:",e)}},Ee=()=>{const n=Z({code:E.value.code,description:E.value.description}),e=g.value?i.isSuperAdmin?"delay_codes.update.admin":"delay_codes.update":i.isSuperAdmin?"delay_codes.store.admin":"delay_codes.store",a=g.value?i.isSuperAdmin?{id:g.value}:{tenantSlug:i.tenantSlug,id:g.value}:i.isSuperAdmin?{}:{tenantSlug:i.tenantSlug};(g.value?n.put:n.post).call(n,route(e,a),{onSuccess:()=>{h.value=g.value?"Delay code updated successfully.":"Delay code created successfully.",u.value=!1,g.value=null,O.reload({only:["delay_codes"]})},onError:w=>{console.error(w)}})},Oe=n=>{Z({}).post(route(i.isSuperAdmin?"delay_codes.restore.admin":"delay_codes.restore",{id:n}),{onSuccess:()=>{h.value="Delay code restored successfully.",O.reload({only:["delay_codes"]})},onError:a=>{console.error(a)}})},Pe=n=>{Z({}).delete(route(i.isSuperAdmin?"delay_codes.forceDelete.admin":"delay_codes.forceDelete",{id:n}),{onSuccess:()=>{h.value="Delay code permanently deleted successfully.",O.reload({only:["delay_codes"]})},onError:a=>{console.error(a)}})},Re=n=>{const e=Z({}),a=i.isSuperAdmin?"ontime.destroy.admin":"ontime.destroy",m=i.isSuperAdmin?{delay:n}:{tenantSlug:i.tenantSlug,delay:n};e.delete(route(a,m),{preserveScroll:!0,onSuccess:()=>{h.value="Delay record deleted successfully.",B.value=!1}})};ce(h,n=>{n&&setTimeout(()=>{h.value=""},5e3)}),i.flash&&i.flash.error&&(U.value=i.flash.error),ce(U,n=>{n&&setTimeout(()=>{U.value=""},5e3)});const We=_({items:[{title:"Total Late Stops",value:1050},{title:"1-20 Minutes Late",value:1050},{title:"121 - 600 Minutes Late",value:1050},{title:"+601 Minutes Late",value:1050}]}),Ie=_([{name:"Kain",value:5},{name:"Ronny",value:4},{name:"Damen",value:3},{name:"Leo",value:2},{name:"Shawn",value:1}]),Ye=_({labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Late Stops",data:[65,59,80,81,56,55],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3}]}),qe=V(()=>H.value.length>0&&S.value.length===H.value.length);function Je(n){n.target.checked?S.value=H.value.map(e=>e.id):S.value=[]}function He(){S.value.length>0&&(W.value=!0)}function Ke(){const n=Z({ids:S.value}),e=i.isSuperAdmin?"ontime.destroyBulk.admin":"ontime.destroyBulk",a=i.isSuperAdmin?{}:{tenantSlug:i.tenantSlug};n.delete(route(e,a),{preserveScroll:!0,onSuccess:()=>{h.value=`${S.value.length} delay records deleted successfully.`,S.value=[],W.value=!1,O.reload()},onError:m=>{console.error(m)}})}function Ge(n){const e=n.target.files[0];if(!e)return;const a=new FormData;a.append("csv_file",e);const m=i.isSuperAdmin?route("ontime.import.admin"):route("ontime.import",{tenantSlug:i.tenantSlug});O.post(m,a,{onSuccess:()=>{h.value="Delays imported successfully",n.target.value=""},onError:w=>{console.error(w),n.target.value=""}})}function Qe(){if(i.delays.data.length===0){U.value="No delay data found to export.";return}C.value&&C.value.submit()}const Xe=V(()=>i.tenantSlug?route("ontime.export",{tenantSlug:i.tenantSlug}):route("ontime.export.admin")),ae=_(!1),Ze=V(()=>"/storage/upload-data-temps/Delays Template.csv");return De(()=>{const n=e=>{ae.value&&!e.target.closest(".relative")&&(ae.value=!1)};document.addEventListener("click",n),at(()=>{document.removeEventListener("click",n)})}),(n,e)=>(d(),F(nt,{breadcrumbs:T,tenantSlug:p.tenantSlug},{default:s(()=>[l(o(ot),{title:"On-Time"}),t("div",Wt,[h.value?(d(),F(o(ke),{key:0,variant:"success"},{default:s(()=>[l(o(Ce),null,{default:s(()=>e[33]||(e[33]=[r("Success")])),_:1}),l(o(we),null,{default:s(()=>[r(y(h.value),1)]),_:1})]),_:1})):k("",!0),U.value?(d(),F(o(ke),{key:1,variant:"destructive"},{default:s(()=>[l(o(Ce),null,{default:s(()=>e[34]||(e[34]=[r("Error")])),_:1}),l(o(we),null,{default:s(()=>[r(y(U.value),1)]),_:1})]),_:1})):k("",!0),t("div",It,[e[40]||(e[40]=t("h1",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"On-Time Management",-1)),t("div",Yt,[l(x,{onClick:e[0]||(e[0]=a=>xe()),variant:"default"},{default:s(()=>[l(A,{name:"plus",class:"mr-2 h-4 w-4"}),e[35]||(e[35]=r(" Add Delay "))]),_:1}),S.value.length>0?(d(),F(x,{key:0,onClick:e[1]||(e[1]=a=>He()),variant:"destructive"},{default:s(()=>[l(A,{name:"trash",class:"mr-2 h-4 w-4"}),r(" Delete Selected ("+y(S.value.length)+") ",1)]),_:1})):k("",!0),t("div",qt,[l(x,{onClick:e[2]||(e[2]=a=>ae.value=!ae.value),variant:"secondary"},{default:s(()=>[l(A,{name:"upload",class:"mr-2 h-4 w-4"}),e[36]||(e[36]=r(" Upload CSV ")),l(A,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1}),ae.value?(d(),f("div",Jt,[t("div",Ht,[t("label",Kt,[e[37]||(e[37]=t("span",null,"Upload CSV File",-1)),t("input",{type:"file",class:"hidden",onChange:Ge,accept:".csv"},null,32)]),t("a",{href:Ze.value,download:"Delays Template.csv",class:"block px-4 py-2 text-sm hover:bg-muted"}," Download Template ",8,Gt)])])):k("",!0)]),l(x,{onClick:Se(Qe,["prevent"]),variant:"outline"},{default:s(()=>[l(A,{name:"download",class:"mr-2 h-4 w-4"}),e[38]||(e[38]=r(" Download CSV "))]),_:1}),p.isSuperAdmin?(d(),F(x,{key:1,onClick:e[3]||(e[3]=a=>Me()),variant:"outline"},{default:s(()=>[l(A,{name:"settings",class:"mr-2 h-4 w-4"}),e[39]||(e[39]=r(" Manage Delay Codes "))]),_:1})):k("",!0)])]),t("form",{ref_key:"exportForm",ref:C,action:Xe.value,method:"GET",class:"hidden"},null,8,Qt),l(o(ye),null,{default:s(()=>[l(o(ge),{class:"p-4"},{default:s(()=>[t("div",Xt,[t("div",Zt,[l(x,{onClick:e[4]||(e[4]=a=>le("yesterday")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":M.value==="yesterday"})},{default:s(()=>e[41]||(e[41]=[r(" Yesterday ")])),_:1},8,["class"]),l(x,{onClick:e[5]||(e[5]=a=>le("current-week")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":M.value==="current-week"})},{default:s(()=>e[42]||(e[42]=[r(" WtD ")])),_:1},8,["class"]),l(x,{onClick:e[6]||(e[6]=a=>le("6w")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":M.value==="6w"})},{default:s(()=>e[43]||(e[43]=[r(" 6 Weeks ")])),_:1},8,["class"]),l(x,{onClick:e[7]||(e[7]=a=>le("quarterly")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":M.value==="quarterly"})},{default:s(()=>e[44]||(e[44]=[r(" Quarterly ")])),_:1},8,["class"]),l(x,{onClick:e[8]||(e[8]=a=>le("full")),variant:"outline",size:"sm",class:X({"bg-primary/10 text-primary border-primary":M.value==="full"})},{default:s(()=>e[45]||(e[45]=[r(" Full ")])),_:1},8,["class"])]),p.dateRange?(d(),f("div",el,[M.value==="yesterday"&&p.dateRange.start?(d(),f("span",tl," Showing data from "+y(G(p.dateRange.start)),1)):p.dateRange.start&&p.dateRange.end?(d(),f("span",ll," Showing data from "+y(G(p.dateRange.start))+" to "+y(G(p.dateRange.end)),1)):(d(),f("span",al,y(p.dateRange.label),1)),b.value?(d(),f("span",sl,"("+y(b.value)+")",1)):k("",!0)])):k("",!0)])]),_:1})]),_:1}),l(o(ye),null,{default:s(()=>[l(o(ft),{class:"pb-2"},{default:s(()=>[t("div",ol,[t("div",nl,[l(o(mt),null,{default:s(()=>e[46]||(e[46]=[r("Filters")])),_:1}),!Q.value&&ze.value?(d(),f("div",rl,[c.value.search?(d(),f("div",dl," Search: "+y(c.value.search),1)):k("",!0),c.value.dateFrom?(d(),f("div",ul," From: "+y(G(c.value.dateFrom)),1)):k("",!0),c.value.dateTo?(d(),f("div",il," To: "+y(G(c.value.dateTo)),1)):k("",!0),c.value.delayCode?(d(),f("div",fl," Code: "+y(je(c.value.delayCode)),1)):k("",!0),c.value.disputed?(d(),f("div",ml," Disputed: "+y(c.value.disputed==="true"?"Yes":"No"),1)):k("",!0),c.value.controllable?(d(),f("div",vl," Driver Controllable: "+y(c.value.controllable==="true"?"Yes":c.value.controllable==="false"?"No":"N/A"),1)):k("",!0)])):k("",!0)]),l(x,{variant:"ghost",size:"sm",onClick:e[9]||(e[9]=a=>Q.value=!Q.value)},{default:s(()=>[r(y(Q.value?"Hide Filters":"Show Filters")+" ",1),l(A,{name:Q.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),Q.value?(d(),F(o(ge),{key:0,class:"pt-2"},{default:s(()=>[t("div",cl,[t("div",pl,[t("div",null,[l(o($),{for:"search"},{default:s(()=>e[47]||(e[47]=[r("Search")])),_:1}),l(o(Y),{id:"search",modelValue:c.value.search,"onUpdate:modelValue":e[10]||(e[10]=a=>c.value.search=a),type:"text",placeholder:"Search by driver or type...",onInput:K},null,8,["modelValue"])]),t("div",null,[l(o($),{for:"dateFrom"},{default:s(()=>e[48]||(e[48]=[r("Date From")])),_:1}),l(o(Y),{id:"dateFrom",modelValue:c.value.dateFrom,"onUpdate:modelValue":e[11]||(e[11]=a=>c.value.dateFrom=a),type:"date",onChange:K},null,8,["modelValue"])]),t("div",null,[l(o($),{for:"dateTo"},{default:s(()=>e[49]||(e[49]=[r("Date To")])),_:1}),l(o(Y),{id:"dateTo",modelValue:c.value.dateTo,"onUpdate:modelValue":e[12]||(e[12]=a=>c.value.dateTo=a),type:"date",onChange:K},null,8,["modelValue"])]),t("div",null,[l(o($),{for:"delayCode"},{default:s(()=>e[50]||(e[50]=[r("Delay Code")])),_:1}),j(t("select",{id:"delayCode","onUpdate:modelValue":e[13]||(e[13]=a=>c.value.delayCode=a),onChange:K,class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[e[51]||(e[51]=t("option",{value:""},"All Codes",-1)),(d(!0),f(D,null,z(p.delay_codes,a=>(d(),f("option",{key:a.id,value:a.id},y(a.code),9,yl))),128))],544),[[P,c.value.delayCode]])]),t("div",null,[l(o($),{for:"disputed"},{default:s(()=>e[52]||(e[52]=[r("Disputed Status")])),_:1}),j(t("select",{id:"disputed","onUpdate:modelValue":e[14]||(e[14]=a=>c.value.disputed=a),onChange:K,class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},e[53]||(e[53]=[t("option",{value:""},"All",-1),t("option",{value:"true"},"Disputed",-1),t("option",{value:"false"},"Not Disputed",-1)]),544),[[P,c.value.disputed]])]),t("div",null,[l(o($),{for:"controllable"},{default:s(()=>e[54]||(e[54]=[r("Driver Controllable")])),_:1}),j(t("select",{id:"controllable","onUpdate:modelValue":e[15]||(e[15]=a=>c.value.controllable=a),onChange:K,class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},e[55]||(e[55]=[t("option",{value:""},"All",-1),t("option",{value:"true"},"Yes",-1),t("option",{value:"false"},"No",-1),t("option",{value:"null"},"N/A",-1)]),544),[[P,c.value.controllable]])])]),t("div",gl,[l(x,{onClick:Ae,variant:"ghost",size:"sm"},{default:s(()=>[l(A,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),e[56]||(e[56]=r(" Reset Filters "))]),_:1})])])]),_:1})):k("",!0)]),_:1}),l(Rt,{"metrics-data":We.value,"drivers-data":Ie.value,"chart-data":Ye.value},null,8,["metrics-data","drivers-data","chart-data"]),l(o(ye),null,{default:s(()=>[l(o(ge),{class:"p-0"},{default:s(()=>[t("div",bl,[l(o(dt),{class:"relative h-[500px] overflow-auto"},{default:s(()=>[l(o(ut),null,{default:s(()=>[l(o(pe),{class:"sticky top-0 bg-background border-b z-10 hover:bg-background"},{default:s(()=>[l(o(ve),{class:"w-[50px]"},{default:s(()=>[t("div",xl,[t("input",{type:"checkbox",onChange:Je,checked:qe.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,_l)])]),_:1}),p.isSuperAdmin?(d(),F(o(ve),{key:0},{default:s(()=>e[57]||(e[57]=[r("Company Name")])),_:1})):k("",!0),(d(),f(D,null,z(fe,a=>l(o(ve),{key:a,class:"cursor-pointer",onClick:m=>he(a)},{default:s(()=>[t("div",kl,[r(y(a.replace(/_/g," ").split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" "))+" ",1),q.value===a?(d(),f("div",Cl,[J.value==="asc"?(d(),f("svg",wl,e[58]||(e[58]=[t("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(d(),f("svg",Sl,e[59]||(e[59]=[t("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(d(),f("div",Dl,e[60]||(e[60]=[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M8 10l4-4 4 4"}),t("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),l(o(ve),null,{default:s(()=>e[61]||(e[61]=[r("Actions")])),_:1})]),_:1})]),_:1}),l(o(it),null,{default:s(()=>[H.value.length===0?(d(),F(o(pe),{key:0},{default:s(()=>[l(o(ie),{colspan:p.isSuperAdmin?fe.length+2:fe.length+1,class:"text-center py-8"},{default:s(()=>e[62]||(e[62]=[r(" No delays found matching your criteria ")])),_:1},8,["colspan"])]),_:1})):k("",!0),(d(!0),f(D,null,z(H.value,a=>(d(),F(o(pe),{key:a.id,class:"hover:bg-muted/50"},{default:s(()=>[l(o(ie),{class:"text-center"},{default:s(()=>[j(t("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[16]||(e[16]=m=>S.value=m),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,$l),[[st,S.value]])]),_:2},1024),p.isSuperAdmin?(d(),F(o(ie),{key:0},{default:s(()=>{var m;return[r(y(((m=a.tenant)==null?void 0:m.name)||"—"),1)]}),_:2},1024)):k("",!0),(d(),f(D,null,z(fe,m=>l(o(ie),{key:m,class:"whitespace-nowrap"},{default:s(()=>{var w,I;return[m==="date"?(d(),f(D,{key:0},[r(y(G(a[m])),1)],64)):m==="disputed"?(d(),f(D,{key:1},[r(y(a[m]?"Yes":"No"),1)],64)):m==="driver_controllable"?(d(),f(D,{key:2},[r(y(a[m]===null?"N/A":a[m]?"Yes":"No"),1)],64)):m==="delay_code"?(d(),f(D,{key:3},[r(y(((w=a.delay_code)==null?void 0:w.code)||"—")+" ",1),(I=a.delay_code)!=null&&I.deleted_at?(d(),f("span",hl,"(Deleted Code)")):k("",!0)],64)):(d(),f(D,{key:4},[r(y(a[m]),1)],64))]}),_:2},1024)),64)),l(o(ie),null,{default:s(()=>[t("div",Al,[l(x,{onClick:m=>xe(a),variant:"warning",size:"sm"},{default:s(()=>[l(A,{name:"pencil",class:"mr-1 h-4 w-4"}),e[63]||(e[63]=r(" Edit "))]),_:2},1032,["onClick"]),l(x,{onClick:m=>Te(a.id),variant:"destructive",size:"sm"},{default:s(()=>[l(A,{name:"trash",class:"mr-1 h-4 w-4"}),e[64]||(e[64]=r(" Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),p.delays.links?(d(),f("div",Nl,[t("div",Fl,[t("div",Tl," Showing "+y(H.value.length)+" of "+y(p.delays.data.length)+" entries ",1),t("div",Ml,[t("div",Ll,[l(o($),{for:"perPage",class:"text-sm"},{default:s(()=>e[65]||(e[65]=[r("Per page:")])),_:1}),j(t("select",{id:"perPage","onUpdate:modelValue":e[17]||(e[17]=a=>te.value=a),onChange:Ne,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[66]||(e[66]=[t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1),t("option",{value:"100"},"100",-1)]),544),[[P,te.value]])]),t("div",Ul,[(d(!0),f(D,null,z(p.delays.links,a=>(d(),F(x,{key:a.label,onClick:m=>Fe(a.url),disabled:!a.url,variant:"ghost",size:"sm",class:X(["mx-1",{"bg-primary/10 text-primary border-primary":a.active}])},{default:s(()=>[t("span",{innerHTML:a.label},null,8,Vl)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):k("",!0)]),_:1})]),_:1}),l(o(oe),{open:v.value,"onUpdate:open":e[19]||(e[19]=a=>v.value=a)},{default:s(()=>[l(o(ne),{class:"sm:max-w-2xl"},{default:s(()=>[l(o(re),null,{default:s(()=>[l(o(de),null,{default:s(()=>[r(y(L.value?"Edit":"Add")+" Delay",1)]),_:1}),l(o(ue),null,{default:s(()=>[r(" Fill in the details to "+y(L.value?"update":"create")+" a delay record. ",1)]),_:1})]),_:1}),l(Dt,{delay:L.value,"delay-codes":$e.value,tenants:p.tenants,"is-super-admin":p.isSuperAdmin,"tenant-slug":p.tenantSlug,onClose:e[18]||(e[18]=a=>v.value=!1)},null,8,["delay","delay-codes","tenants","is-super-admin","tenant-slug"])]),_:1})]),_:1},8,["open"]),l(o(oe),{open:N.value,"onUpdate:open":e[23]||(e[23]=a=>N.value=a)},{default:s(()=>[l(o(ne),{class:"sm:max-w-lg"},{default:s(()=>[l(o(re),null,{default:s(()=>[l(o(de),null,{default:s(()=>e[67]||(e[67]=[r("Manage Delay Codes")])),_:1}),l(o(ue),null,{default:s(()=>e[68]||(e[68]=[r(" Create and manage delay codes for your organization. ")])),_:1})]),_:1}),t("div",zl,[t("div",jl,[e[70]||(e[70]=t("h3",{class:"text-sm font-medium"},"Current Delay Codes",-1)),l(x,{onClick:Le,size:"sm",variant:"outline"},{default:s(()=>[l(A,{name:"plus",class:"mr-2 h-4 w-4"}),e[69]||(e[69]=r(" Add New Code "))]),_:1})]),t("div",Bl,[!p.delay_codes||p.delay_codes.length===0?(d(),f("div",El," No delay codes found ")):(d(),f("div",Ol,[(d(!0),f(D,null,z(p.delay_codes,a=>(d(),f("div",{key:a.id,class:"flex items-center justify-between p-3 border rounded-md hover:bg-muted/50 group"},[t("div",{class:"flex-1 cursor-pointer",onClick:m=>Ue(a)},[t("div",Rl,[r(y(a.code)+" ",1),a.deleted_at?(d(),f("span",Wl,"(Deleted)")):k("",!0)]),a.description?(d(),f("div",Il,y(a.description),1)):k("",!0)],8,Pl),t("div",Yl,[p.isSuperAdmin?(d(),f(D,{key:0},[a.deleted_at?(d(),f(D,{key:0},[l(x,{onClick:m=>Oe(a.id),size:"sm",variant:"outline"},{default:s(()=>[l(A,{name:"refresh",class:"mr-2 h-4 w-4"}),e[71]||(e[71]=r(" Restore "))]),_:2},1032,["onClick"]),l(x,{onClick:m=>Pe(a.id),size:"sm",variant:"destructive"},{default:s(()=>[l(A,{name:"trash",class:"mr-2 h-4 w-4"}),e[72]||(e[72]=r(" Permanently Delete "))]),_:2},1032,["onClick"])],64)):(d(),F(x,{key:1,onClick:m=>_e(a.id),size:"sm",variant:"destructive"},{default:s(()=>[l(A,{name:"trash",class:"mr-2 h-4 w-4"}),e[73]||(e[73]=r(" Delete "))]),_:2},1032,["onClick"]))],64)):(d(),F(x,{key:1,onClick:m=>_e(a.id),size:"sm",variant:"destructive"},{default:s(()=>[l(A,{name:"trash",class:"mr-2 h-4 w-4"}),e[74]||(e[74]=r(" Delete "))]),_:2},1032,["onClick"]))])]))),128))]))]),u.value?(d(),f("div",ql,[t("h3",Jl,y(g.value?"Edit":"Add")+" Delay Code",1),t("div",Hl,[t("div",null,[l(o($),{for:"code"},{default:s(()=>e[75]||(e[75]=[r("Code")])),_:1}),l(o(Y),{id:"code",modelValue:E.value.code,"onUpdate:modelValue":e[20]||(e[20]=a=>E.value.code=a),placeholder:"Enter code"},null,8,["modelValue"])]),t("div",null,[l(o($),{for:"description"},{default:s(()=>e[76]||(e[76]=[r("Description")])),_:1}),l(o(Y),{id:"description",modelValue:E.value.description,"onUpdate:modelValue":e[21]||(e[21]=a=>E.value.description=a),placeholder:"Enter description"},null,8,["modelValue"])]),t("div",Kl,[l(x,{onClick:Ve,variant:"ghost",size:"sm"},{default:s(()=>e[77]||(e[77]=[r("Cancel")])),_:1}),l(x,{onClick:Ee,variant:"default",size:"sm"},{default:s(()=>e[78]||(e[78]=[r("Save")])),_:1})])])])):k("",!0)]),l(o(me),{class:"mt-6"},{default:s(()=>[l(x,{onClick:e[22]||(e[22]=a=>N.value=!1),variant:"outline"},{default:s(()=>e[79]||(e[79]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l(o(oe),{open:ee.value,"onUpdate:open":e[26]||(e[26]=a=>ee.value=a)},{default:s(()=>[l(o(ne),null,{default:s(()=>[l(o(re),null,{default:s(()=>[l(o(de),null,{default:s(()=>e[80]||(e[80]=[r("Confirm Deletion")])),_:1}),l(o(ue),null,{default:s(()=>e[81]||(e[81]=[r(" Are you sure you want to delete this delay code? This action cannot be undone. ")])),_:1})]),_:1}),l(o(me),{class:"mt-4"},{default:s(()=>[l(x,{type:"button",onClick:e[24]||(e[24]=a=>ee.value=!1),variant:"outline"},{default:s(()=>e[82]||(e[82]=[r(" Cancel ")])),_:1}),l(x,{type:"button",onClick:e[25]||(e[25]=a=>Be(be.value)),variant:"destructive"},{default:s(()=>e[83]||(e[83]=[r(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l(o(oe),{open:B.value,"onUpdate:open":e[29]||(e[29]=a=>B.value=a)},{default:s(()=>[l(o(ne),null,{default:s(()=>[l(o(re),null,{default:s(()=>[l(o(de),null,{default:s(()=>e[84]||(e[84]=[r("Confirm Deletion")])),_:1}),l(o(ue),null,{default:s(()=>e[85]||(e[85]=[r(" Are you sure you want to delete this delay record? This action cannot be undone. ")])),_:1})]),_:1}),l(o(me),{class:"mt-4"},{default:s(()=>[l(x,{type:"button",onClick:e[27]||(e[27]=a=>B.value=!1),variant:"outline"},{default:s(()=>e[86]||(e[86]=[r(" Cancel ")])),_:1}),l(x,{type:"button",onClick:e[28]||(e[28]=a=>Re(R.value)),variant:"destructive"},{default:s(()=>e[87]||(e[87]=[r(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l(o(oe),{open:W.value,"onUpdate:open":e[32]||(e[32]=a=>W.value=a)},{default:s(()=>[l(o(ne),null,{default:s(()=>[l(o(re),null,{default:s(()=>[l(o(de),null,{default:s(()=>e[88]||(e[88]=[r("Confirm Bulk Deletion")])),_:1}),l(o(ue),null,{default:s(()=>[r(" Are you sure you want to delete "+y(S.value.length)+" delay records? This action cannot be undone. ",1)]),_:1})]),_:1}),l(o(me),{class:"mt-4"},{default:s(()=>[l(x,{type:"button",onClick:e[30]||(e[30]=a=>W.value=!1),variant:"outline"},{default:s(()=>e[89]||(e[89]=[r(" Cancel ")])),_:1}),l(x,{type:"button",onClick:e[31]||(e[31]=a=>Ke()),variant:"destructive"},{default:s(()=>e[90]||(e[90]=[r(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1},8,["tenantSlug"]))}};export{ya as default};
