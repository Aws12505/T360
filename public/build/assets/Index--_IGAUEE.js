import{c as W,r as g,w as Be,y as Ee,N as Re,b as v,e as d,f as s,z as n,X as r,u as t,E as p,S as o,U as m,F as x,G as de,aj as q,H as j,O as z,C as Y,ai as me,Y as ce}from"./vendor--q1ey8Ib.js";import{_ as P}from"./Icon.vue_vue_type_script_setup_true_lang-Cf3euL4G.js";import{_ as We,a as qe,b as ee,c as H,d as je,e as y}from"./TableRow.vue_vue_type_script_setup_true_lang-CyEhCbZI.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-CURKxeic.js";import{_ as pe}from"./Card.vue_vue_type_script_setup_true_lang-D6lnctxv.js";import{_ as fe}from"./CardContent.vue_vue_type_script_setup_true_lang-Bg8Ud8NP.js";import{d as te,_ as ae,a as se,b as ne,c as le}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DBOy1nGk.js";import{_ as re}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DB4EnxcN.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-DXVzP2wd.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-D2siHqHg.js";import{b as ve,_ as xe,a as _e}from"./AlertDescription.vue_vue_type_script_setup_true_lang-mn1DMMqr.js";import{_ as ze}from"./AppLayout.vue_vue_type_script_setup_true_lang-BoIL_WFt.js";import{x as Q,g as Le,W as oe}from"./vendor-vue-BsCVk3W_.js";import"./utils-tTsIgFyK.js";import"./vendor-icons-Cd5utPp1.js";import"./vendor-ui-VCcvGdtT.js";import"./useInitials-DzeGKvtI.js";import"./app-B2y9RWIe.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dc8NxSZT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ie={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},Ge={class:"w-full md:max-w-xl lg:max-w-2xl xl:max-w-6xl m-auto pt-2 space-y-2 md:space-y-4 lg:space-y-6"},Ye={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},He={class:"flex flex-wrap gap-3"},Qe={class:"relative"},Xe={key:1,class:"absolute right-0 z-10 mt-1 w-48 rounded-md border bg-background shadow-lg"},Je={class:"py-1"},Ke={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},Ze=["href"],et={class:"flex flex-col items-center md:items-start gap-2"},tt={class:"flex flex-wrap gap-1 md:gap-2"},at={key:0,class:"text-sm text-muted-foreground"},st={key:0},nt={key:1},lt={key:2},rt={key:3,class:"ml-1"},ot={class:"overflow-x-auto"},it={class:"flex items-center justify-center"},ut=["checked"],dt={class:"flex items-center"},mt=["title"],ct={key:0,class:"ml-2"},pt={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ft={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},vt={key:1,class:"ml-2 opacity-50"},xt=["value"],_t={class:"text-xs italic text-gray-500 whitespace-normal"},gt={class:"text-xs italic text-gray-500 whitespace-normal"},yt={class:"text-xs italic text-gray-500 whitespace-normal"},bt={class:"text-xs italic text-gray-500 whitespace-normal"},wt={class:"text-xs italic text-gray-500 whitespace-normal"},kt={class:"text-xs italic text-gray-500 whitespace-normal"},ht={class:"text-xs italic text-gray-500 whitespace-normal"},Ct={class:"flex space-x-2"},St={key:0,class:"border-t bg-muted/20 px-4 py-3"},Vt={class:"flex flex-col sm:flex-row justify-between items-center gap-2"},$t={class:"flex items-center gap-4 text-sm text-muted-foreground"},Nt={class:"flex flex-col sm:flex-row items-center gap-2 sm:gap-4 w-full sm:w-auto"},Pt=["value"],Dt={class:"flex flex-wrap"},At=["innerHTML"],Mt={key:0,class:"col-span-2"},Ft={class:"relative mt-1"},Tt=["value"],Ut={class:"col-span-2 sm:col-span-1"},Ot={class:"col-span-2 sm:col-span-1"},Bt={class:"col-span-2 sm:col-span-1"},Et={class:"col-span-2 sm:col-span-1"},Rt={class:"col-span-2 sm:col-span-1"},Wt={class:"col-span-2 sm:col-span-1"},qt={class:"col-span-2 sm:col-span-1"},jt={class:"col-span-2 sm:col-span-1"},zt={class:"col-span-2 flex items-center gap-2"},ma={__name:"Index",props:{performances:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},dateFilter:{type:String,default:"yesterday"},dateRange:{type:Object,default:()=>({label:"All Time"})},perPage:{type:Number,default:10},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},permissions:Array},setup(f){const u=f,ie=W(()=>(b.value==="yesterday"||b.value==="current-week")&&u.weekNumber&&u.year?`Week ${u.weekNumber}, ${u.year}`:(b.value==="6w"||b.value==="quarterly")&&u.startWeekNumber&&u.endWeekNumber&&u.year?`Weeks ${u.startWeekNumber}-${u.endWeekNumber}, ${u.year}`:""),L=g(""),C=g(""),A=g(!1),X=g("Create Performance"),M=g("Create"),b=g(u.dateFilter||"full"),F=g(u.perPage||10),w=g([]),T=g(!1),U=g(!1),O=g(null),J=g(null);function ge(l){if(l){const e=new URL(l);e.searchParams.set("perPage",F.value),e.searchParams.set("dateFilter",b.value),oe.get(e.href,{},{only:["performances"]})}}const B=g("date"),D=g("desc");g({search:"",dateFrom:"",dateTo:""});const ye=[{title:u.tenantSlug?"Dashboard":"Admin Dashboard",href:u.tenantSlug?route("dashboard",{tenantSlug:u.tenantSlug}):route("admin.dashboard")},{title:"Performance",href:u.tenantSlug?route("performance.index",{tenantSlug:u.tenantSlug}):route("performance.index.admin")}],K=["date","acceptance","on_time_to_origin","on_time_to_destination","on_time","maintenance_variance_to_spend","open_boc","meets_safety_bonus_criteria","vcr_preventable","vmcr_p"],i=Q({tenant_id:null,date:"",acceptance:"",on_time_to_origin:"",on_time_to_destination:"",maintenance_variance_to_spend:"",open_boc:"",meets_safety_bonus_criteria:!1,vcr_preventable:"",vmcr_p:"",id:null}),be=Q({}),Z=Q({csv_file:null}),V=W(()=>{let l=[...u.performances.data];return l.sort((e,a)=>{let c=e[B.value],N=a[B.value];return c===null?1:N===null?-1:(typeof c=="string"&&(c=c.toLowerCase(),N=N.toLowerCase()),c<N?D.value==="asc"?-1:1:c>N?D.value==="asc"?1:-1:0)}),l});function we(l){B.value===l?D.value=D.value==="asc"?"desc":"asc":(B.value=l,D.value="asc")}function I(l){b.value=l;const e=u.tenantSlug?route("performance.index",{tenantSlug:u.tenantSlug}):route("performance.index.admin");oe.get(e,{dateFilter:l,perPage:F.value},{preserveState:!0})}function ke(){const l=M.value==="Create",e=l?u.SuperAdmin?route("performance.store.admin"):route("performance.store",u.tenantSlug):u.SuperAdmin?route("performance.update.admin",[i.id]):route("performance.update",[u.tenantSlug,i.id]);i[l?"post":"put"](e,{onSuccess:()=>{C.value=l?"Performance created successfully.":"Performance updated successfully.",ue()},onError:()=>{alert("Something went wrong.")}})}function he(l){var c;const e=(c=l.target.files)==null?void 0:c[0];if(!e)return;Z.csv_file=e;const a=u.SuperAdmin?route("performance.import.admin"):route("performance.import",u.tenantSlug);Z.post(a,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{Z.reset(),C.value="CSV Imported successfully."},onError:()=>{alert("Import failed.")}})}function Ce(){var e,a;if(V.value.length===0){L.value="No data available to export",setTimeout(()=>{L.value=""},3e3);return}const l=u.SuperAdmin?route("performance.export.admin"):route("performance.export",u.tenantSlug);(e=J.value)==null||e.setAttribute("action",l),(a=J.value)==null||a.submit()}Be(C,l=>{l&&setTimeout(()=>{C.value=""},5e3)});function G(l){if(!l)return"";const e=new Date(l+"T12:00:00"),a=e.getMonth()+1,c=e.getDate(),N=e.getFullYear();return`${a}/${c}/${N}`}function Se(){X.value="Create Performance",M.value="Create",i.reset(),i.clearErrors(),u.SuperAdmin&&u.tenants.length>0&&(i.tenant_id=""),A.value=!0}function Ve(l){X.value="Edit Performance",M.value="Update",i.reset(),i.clearErrors(),i.id=l.id,i.tenant_id=l.tenant_id,i.date=l.date,i.acceptance=l.acceptance,i.on_time_to_origin=l.on_time_to_origin,i.on_time_to_destination=l.on_time_to_destination,i.maintenance_variance_to_spend=l.maintenance_variance_to_spend,i.open_boc=l.open_boc,i.meets_safety_bonus_criteria=l.meets_safety_bonus_criteria,i.vcr_preventable=l.vcr_preventable,i.vmcr_p=l.vmcr_p,A.value=!0}function ue(){A.value=!1,i.reset(),i.clearErrors()}function $e(l){O.value=l,U.value=!0}function Ne(){if(!O.value)return;const l=u.SuperAdmin?route("performance.destroy.admin",[O.value]):route("performance.destroy",[u.tenantSlug,O.value]);be.delete(l,{onSuccess:()=>{C.value="Performance deleted successfully.",U.value=!1,O.value=null},onError:()=>{alert("Failed to delete performance record.")}})}const Pe=W(()=>V.value.length>0&&w.value.length===V.value.length);function De(l){l.target.checked?w.value=V.value.map(e=>e.id):w.value=[]}function Ae(){w.value.length>0&&(T.value=!0)}function Me(){const l=Q({ids:w.value}),e=u.SuperAdmin?"performance.destroyBulk.admin":"performance.destroyBulk",a=u.SuperAdmin?{}:{tenantSlug:u.tenantSlug};l.delete(route(e,a),{preserveScroll:!0,onSuccess:()=>{C.value=`${w.value.length} performance records deleted successfully.`,w.value=[],T.value=!1},onError:c=>{console.error(c)}})}const $=l=>{if(!l)return"Not Available";switch(l){case"gold":return"Gold Tier";case"silver":return"Silver Tier";case"not_eligible":return"Not Eligible";case"fantastic_plus":return"Fantastic +";case"fantastic":return"Fantastic";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return l}},E=g(!1),Fe=W(()=>"/storage/upload-data-temps/Performances Template.csv");Ee(()=>{const l=e=>{E.value&&!e.target.closest(".relative")&&(E.value=!1)};document.addEventListener("click",l),Re(()=>{document.removeEventListener("click",l)})});const Te=l=>({on_time_to_origin:"OTO",on_time_to_destination:"OTD",maintenance_variance_to_spend:"MVtS",open_boc:"Open BOC",vcr_preventable:"VCR-P",vmcr_p:"VMCR-P"})[l]||l.replace(/_/g," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),Ue=l=>({on_time_to_origin:"On Time to Origin",on_time_to_destination:"On Time to Destination",maintenance_variance_to_spend:"Maintenance Variance to Spend",open_boc:"Open BOC",vcr_preventable:"VCR Preventable",vmcr_p:"VMCR P"})[l]||l.replace(/_/g," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ");function Oe(){const l=u.tenantSlug?route("performance.index",{tenantSlug:u.tenantSlug}):route("performance.index.admin");oe.get(l,{dateFilter:b.value,perPage:F.value},{preserveState:!0})}const R=l=>{if(l==null)return"—";const e=typeof l=="string"?parseFloat(l):l;return Number.isInteger(e)||e.toFixed(2).endsWith(".00")?Math.floor(e):e.toFixed(2).endsWith("0")?e.toFixed(1):e.toFixed(2)},k=W(()=>u.permissions.map(l=>l.name));return(l,e)=>(d(),v(ze,{breadcrumbs:ye,tenantSlug:f.tenantSlug,permissions:u.permissions},{default:s(()=>[n(t(Le),{title:"Performance"}),r("div",Ie,[C.value?(d(),v(t(ve),{key:0,variant:"success"},{default:s(()=>[n(t(xe),null,{default:s(()=>e[24]||(e[24]=[o("Success")])),_:1}),n(t(_e),null,{default:s(()=>[o(m(C.value),1)]),_:1})]),_:1})):p("",!0),L.value?(d(),v(t(ve),{key:1,variant:"destructive"},{default:s(()=>[n(t(xe),null,{default:s(()=>e[25]||(e[25]=[o("Error")])),_:1}),n(t(_e),null,{default:s(()=>[o(m(L.value),1)]),_:1})]),_:1})):p("",!0),r("div",Ge,[r("div",Ye,[e[30]||(e[30]=r("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Performance Management",-1)),r("div",He,[k.value.includes("performance.create")?(d(),v(t(_),{key:0,class:"px-2 py-0 md:px-4 md:py-2",onClick:Se,variant:"default"},{default:s(()=>[n(P,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),e[26]||(e[26]=o(" Create New Performance "))]),_:1})):p("",!0),w.value.length>0&&k.value.includes("performance.delete")?(d(),v(t(_),{key:1,class:"px-2 py-0 md:px-4 md:py-2",onClick:e[0]||(e[0]=a=>Ae()),variant:"destructive"},{default:s(()=>[n(P,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),o(" Delete Selected ("+m(w.value.length)+") ",1)]),_:1})):p("",!0),r("div",Qe,[k.value.includes("performance.import")?(d(),v(t(_),{key:0,class:"px-2 py-0 md:px-4 md:py-2",onClick:e[1]||(e[1]=a=>E.value=!E.value),variant:"secondary"},{default:s(()=>[n(P,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),e[27]||(e[27]=o(" Upload CSV ")),n(P,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1})):p("",!0),E.value?(d(),x("div",Xe,[r("div",Je,[r("label",Ke,[e[28]||(e[28]=r("span",null,"Upload CSV File",-1)),r("input",{type:"file",class:"hidden",onChange:he,accept:".csv"},null,32)]),r("a",{href:Fe.value,download:"Performances Template.csv",class:"block px-4 py-2 text-sm hover:bg-muted"}," Download Template ",8,Ze)])])):p("",!0)]),k.value.includes("performance.export")?(d(),v(t(_),{key:2,class:"px-2 py-0 md:px-4 md:py-2",onClick:de(Ce,["prevent"]),variant:"outline"},{default:s(()=>[n(P,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),e[29]||(e[29]=o(" Download CSV "))]),_:1})):p("",!0)])])]),n(t(pe),null,{default:s(()=>[n(t(fe),{class:"p-2 md:p-4 lg:p-6"},{default:s(()=>[r("div",et,[r("div",tt,[n(t(_),{onClick:e[2]||(e[2]=a=>I("yesterday")),variant:"outline",size:"sm",class:q({"border-primary bg-primary/10 text-primary":b.value==="yesterday"})},{default:s(()=>e[31]||(e[31]=[o(" Yesterday ")])),_:1},8,["class"]),n(t(_),{onClick:e[3]||(e[3]=a=>I("current-week")),variant:"outline",size:"sm",class:q({"border-primary bg-primary/10 text-primary":b.value==="current-week"})},{default:s(()=>e[32]||(e[32]=[o(" WTD ")])),_:1},8,["class"]),n(t(_),{onClick:e[4]||(e[4]=a=>I("6w")),variant:"outline",size:"sm",class:q({"border-primary bg-primary/10 text-primary":b.value==="6w"})},{default:s(()=>e[33]||(e[33]=[o(" T6W ")])),_:1},8,["class"]),n(t(_),{onClick:e[5]||(e[5]=a=>I("quarterly")),variant:"outline",size:"sm",class:q({"border-primary bg-primary/10 text-primary":b.value==="quarterly"})},{default:s(()=>e[34]||(e[34]=[o(" Quarterly ")])),_:1},8,["class"])]),f.dateRange?(d(),x("div",at,[b.value==="yesterday"&&f.dateRange.start?(d(),x("span",st," Showing data from "+m(G(f.dateRange.start)),1)):f.dateRange.start&&f.dateRange.end?(d(),x("span",nt," Showing data from "+m(G(f.dateRange.start))+" to "+m(G(f.dateRange.end)),1)):(d(),x("span",lt,m(f.dateRange.label),1)),ie.value?(d(),x("span",rt,"("+m(ie.value)+")",1)):p("",!0)])):p("",!0)])]),_:1})]),_:1}),n(t(pe),{class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto"},{default:s(()=>[n(t(fe),{class:"p-0"},{default:s(()=>[r("div",ot,[n(t(We),{class:"relative h-[600px] overflow-auto"},{default:s(()=>[n(t(qe),null,{default:s(()=>[n(t(ee),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:s(()=>[k.value.includes("performance.delete")?(d(),v(t(H),{key:0,class:"w-[50px]"},{default:s(()=>[r("div",it,[r("input",{type:"checkbox",onChange:De,checked:Pe.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,ut)])]),_:1})):p("",!0),f.SuperAdmin?(d(),v(t(H),{key:1},{default:s(()=>e[35]||(e[35]=[o("Company Name")])),_:1})):p("",!0),(d(),x(j,null,z(K,a=>n(t(H),{key:a,class:"cursor-pointer",onClick:c=>we(a)},{default:s(()=>[r("div",dt,[r("span",{title:Ue(a)},m(Te(a)),9,mt),B.value===a?(d(),x("div",ct,[D.value==="asc"?(d(),x("svg",pt,e[36]||(e[36]=[r("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(d(),x("svg",ft,e[37]||(e[37]=[r("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(d(),x("div",vt,e[38]||(e[38]=[r("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[r("path",{d:"M8 10l4-4 4 4"}),r("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),k.value.includes("performance.update")||k.value.includes("performance.delete")?(d(),v(t(H),{key:2},{default:s(()=>e[39]||(e[39]=[o("Actions")])),_:1})):p("",!0)]),_:1})]),_:1}),n(t(je),null,{default:s(()=>[V.value.length===0?(d(),v(t(ee),{key:0},{default:s(()=>[n(t(y),{colspan:f.SuperAdmin?K.length+3:K.length+2,class:"py-8 text-center"},{default:s(()=>e[40]||(e[40]=[o(" No performance records found matching your criteria ")])),_:1},8,["colspan"])]),_:1})):p("",!0),(d(!0),x(j,null,z(V.value,a=>(d(),v(t(ee),{key:a.id,class:"hover:bg-muted/50"},{default:s(()=>[k.value.includes("performance.delete")?(d(),v(t(y),{key:0,class:"text-center"},{default:s(()=>[Y(r("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[6]||(e[6]=c=>w.value=c),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,xt),[[me,w.value]])]),_:2},1024)):p("",!0),f.SuperAdmin?(d(),v(t(y),{key:1,class:"min-w-[120px]"},{default:s(()=>{var c;return[o(m(((c=a.tenant)==null?void 0:c.name)??"—"),1)]}),_:2},1024)):p("",!0),n(t(y),{class:"min-w-[100px]"},{default:s(()=>[o(m(G(a.date)),1)]),_:2},1024),n(t(y),{class:"min-w-[120px]"},{default:s(()=>[r("div",null,m(R(a.acceptance))+"%",1),r("div",_t,"("+m($(a.acceptance_rating))+")",1)]),_:2},1024),n(t(y),{class:"min-w-[120px]"},{default:s(()=>[o(m(R(a.on_time_to_origin))+"%",1)]),_:2},1024),n(t(y),{class:"min-w-[120px]"},{default:s(()=>[o(m(R(a.on_time_to_destination))+"%",1)]),_:2},1024),n(t(y),{class:"min-w-[120px]"},{default:s(()=>[r("div",null,m(R(a.on_time))+"%",1),r("div",gt,"("+m($(a.on_time_rating))+")",1)]),_:2},1024),n(t(y),{class:"min-w-[140px]"},{default:s(()=>[r("div",null,m(R(a.maintenance_variance_to_spend))+"%",1),r("div",yt," ("+m($(a.maintenance_variance_to_spend_rating))+") ",1)]),_:2},1024),n(t(y),{class:"min-w-[120px]"},{default:s(()=>[r("div",null,m(a.open_boc),1),r("div",bt,"("+m($(a.open_boc_rating))+")",1)]),_:2},1024),n(t(y),{class:"min-w-[140px]"},{default:s(()=>[r("div",null,m(a.meets_safety_bonus_criteria?"Yes":"No"),1),r("div",wt,"("+m($(a.meets_safety_bonus_criteria_rating))+")",1)]),_:2},1024),n(t(y),{class:"min-w-[120px]"},{default:s(()=>[r("div",null,m(a.vcr_preventable),1),r("div",kt,"("+m($(a.vcr_preventable_rating))+")",1)]),_:2},1024),n(t(y),{class:"min-w-[120px]"},{default:s(()=>[r("div",null,m(a.vmcr_p),1),r("div",ht,"("+m($(a.vmcr_p_rating))+")",1)]),_:2},1024),k.value.includes("performance.update")||k.value.includes("performance.delete")?(d(),v(t(y),{key:2,class:"min-w-[120px]"},{default:s(()=>[r("div",Ct,[k.value.includes("performance.update")?(d(),v(t(_),{key:0,onClick:c=>Ve(a),variant:"warning",size:"sm"},{default:s(()=>[n(P,{name:"pencil",class:"mr-1 h-4 w-4"}),e[41]||(e[41]=o(" Edit "))]),_:2},1032,["onClick"])):p("",!0),k.value.includes("performance.delete")?(d(),v(t(_),{key:1,onClick:c=>$e(a.id),variant:"destructive",size:"sm"},{default:s(()=>[n(P,{name:"trash",class:"mr-1 h-4 w-4"}),e[42]||(e[42]=o(" Delete "))]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)):p("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),f.performances.links?(d(),x("div",St,[r("div",Vt,[r("div",$t,[r("span",null,"Showing "+m(V.value.length)+" of "+m(f.performances.data.length)+" entries",1),r("div",Nt,[e[43]||(e[43]=r("span",{class:"text-sm"},"Show:",-1)),Y(r("select",{"onUpdate:modelValue":e[7]||(e[7]=a=>F.value=a),onChange:Oe,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},[(d(),x(j,null,z([10,25,50,100],a=>r("option",{key:a,value:a},m(a),9,Pt)),64))],544),[[ce,F.value]])])]),r("div",Dt,[(d(!0),x(j,null,z(f.performances.links,a=>(d(),v(t(_),{key:a.label,onClick:c=>ge(a.url),disabled:!a.url,variant:"ghost",size:"sm",class:q(["mx-1",{"border-primary bg-primary/10 text-primary":a.active}])},{default:s(()=>[r("span",{innerHTML:a.label},null,8,At)]),_:2},1032,["onClick","disabled","class"]))),128))])])])):p("",!0)]),_:1})]),_:1}),n(t(te),{open:A.value,"onUpdate:open":e[18]||(e[18]=a=>A.value=a)},{default:s(()=>[n(t(ae),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:s(()=>[n(t(se),{class:"px-4 sm:px-6"},{default:s(()=>[n(t(ne),{class:"text-lg sm:text-xl"},{default:s(()=>[o(m(X.value),1)]),_:1}),n(t(le),{class:"text-xs sm:text-sm"},{default:s(()=>[o(" Fill in the details to "+m(M.value.toLowerCase())+" a performance record. ",1)]),_:1})]),_:1}),r("form",{onSubmit:de(ke,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-2 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-3 sm:p-6"},[f.SuperAdmin?(d(),x("div",Mt,[n(t(h),{for:"tenant",class:"text-xs sm:text-sm"},{default:s(()=>e[44]||(e[44]=[o("Company Name")])),_:1}),r("div",Ft,[Y(r("select",{id:"tenant","onUpdate:modelValue":e[8]||(e[8]=a=>t(i).tenant_id=a),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[45]||(e[45]=r("option",{disabled:"",value:""},"Select a Company",-1)),(d(!0),x(j,null,z(f.tenants,a=>(d(),x("option",{key:a.id,value:a.id},m(a.name),9,Tt))),128))],512),[[ce,t(i).tenant_id]]),e[46]||(e[46]=r("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[r("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):p("",!0),r("div",Ut,[n(t(h),{for:"date",class:"text-xs sm:text-sm"},{default:s(()=>e[47]||(e[47]=[o("Date")])),_:1}),n(t(S),{id:"date",modelValue:t(i).date,"onUpdate:modelValue":e[9]||(e[9]=a=>t(i).date=a),type:"date",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),r("div",Ot,[n(t(h),{for:"acceptance",class:"text-xs sm:text-sm"},{default:s(()=>e[48]||(e[48]=[o("Acceptance")])),_:1}),n(t(S),{id:"acceptance",modelValue:t(i).acceptance,"onUpdate:modelValue":e[10]||(e[10]=a=>t(i).acceptance=a),type:"number",step:"0.01",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),r("div",Bt,[n(t(h),{for:"on_time_to_origin",class:"text-xs sm:text-sm"},{default:s(()=>e[49]||(e[49]=[o("On Time to Origin")])),_:1}),n(t(S),{id:"on_time_to_origin",modelValue:t(i).on_time_to_origin,"onUpdate:modelValue":e[11]||(e[11]=a=>t(i).on_time_to_origin=a),type:"number",step:"0.01",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),r("div",Et,[n(t(h),{for:"on_time_to_destination",class:"text-xs sm:text-sm"},{default:s(()=>e[50]||(e[50]=[o("On Time to Destination")])),_:1}),n(t(S),{id:"on_time_to_destination",modelValue:t(i).on_time_to_destination,"onUpdate:modelValue":e[12]||(e[12]=a=>t(i).on_time_to_destination=a),type:"number",step:"0.01",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),r("div",Rt,[n(t(h),{for:"maintenance_variance_to_spend",class:"text-xs sm:text-sm"},{default:s(()=>e[51]||(e[51]=[o("Maintenance Variance to Spend")])),_:1}),n(t(S),{id:"maintenance_variance_to_spend",modelValue:t(i).maintenance_variance_to_spend,"onUpdate:modelValue":e[13]||(e[13]=a=>t(i).maintenance_variance_to_spend=a),type:"number",step:"0.001",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),r("div",Wt,[n(t(h),{for:"open_boc",class:"text-xs sm:text-sm"},{default:s(()=>e[52]||(e[52]=[o("Open BOC")])),_:1}),n(t(S),{id:"open_boc",modelValue:t(i).open_boc,"onUpdate:modelValue":e[14]||(e[14]=a=>t(i).open_boc=a),type:"number",step:"1",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),r("div",qt,[n(t(h),{for:"vcr_preventable",class:"text-xs sm:text-sm"},{default:s(()=>e[53]||(e[53]=[o("VCR Preventable")])),_:1}),n(t(S),{id:"vcr_preventable",modelValue:t(i).vcr_preventable,"onUpdate:modelValue":e[15]||(e[15]=a=>t(i).vcr_preventable=a),type:"number",step:"1",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),r("div",jt,[n(t(h),{for:"vmcr_p",class:"text-xs sm:text-sm"},{default:s(()=>e[54]||(e[54]=[o("VMCR P")])),_:1}),n(t(S),{id:"vmcr_p",modelValue:t(i).vmcr_p,"onUpdate:modelValue":e[16]||(e[16]=a=>t(i).vmcr_p=a),type:"number",step:"1",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),r("div",zt,[Y(r("input",{id:"meets_safety_bonus_criteria","onUpdate:modelValue":e[17]||(e[17]=a=>t(i).meets_safety_bonus_criteria=a),type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary sm:h-4 sm:w-4"},null,512),[[me,t(i).meets_safety_bonus_criteria]]),n(t(h),{for:"meets_safety_bonus_criteria",class:"text-xs sm:text-sm"},{default:s(()=>e[55]||(e[55]=[o("Meets Safety Bonus Criteria")])),_:1})]),n(t(re),{class:"col-span-2 mt-3 flex flex-col gap-2 sm:flex-row sm:gap-3"},{default:s(()=>[n(t(_),{type:"button",onClick:ue,variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:s(()=>e[56]||(e[56]=[o(" Cancel ")])),_:1}),n(t(_),{type:"submit",variant:"default",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:s(()=>[o(m(M.value),1)]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),n(t(te),{open:U.value,"onUpdate:open":e[20]||(e[20]=a=>U.value=a)},{default:s(()=>[n(t(ae),{class:"max-w-[95vw] sm:max-w-md"},{default:s(()=>[n(t(se),{class:"px-4 sm:px-6"},{default:s(()=>[n(t(ne),{class:"text-lg sm:text-xl"},{default:s(()=>e[57]||(e[57]=[o("Confirm Deletion")])),_:1}),n(t(le),{class:"text-xs sm:text-sm"},{default:s(()=>e[58]||(e[58]=[o(" Are you sure you want to delete this performance record? This action cannot be undone. ")])),_:1})]),_:1}),n(t(re),{class:"px-4 sm:px-6"},{default:s(()=>[n(t(_),{type:"button",onClick:e[19]||(e[19]=a=>U.value=!1),variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:s(()=>e[59]||(e[59]=[o(" Cancel ")])),_:1}),n(t(_),{type:"button",onClick:Ne,variant:"destructive",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:s(()=>e[60]||(e[60]=[o(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),n(t(te),{open:T.value,"onUpdate:open":e[23]||(e[23]=a=>T.value=a)},{default:s(()=>[n(t(ae),{class:"max-w-[95vw] sm:max-w-md"},{default:s(()=>[n(t(se),{class:"px-4 sm:px-6"},{default:s(()=>[n(t(ne),{class:"text-lg sm:text-xl"},{default:s(()=>e[61]||(e[61]=[o("Confirm Bulk Deletion")])),_:1}),n(t(le),{class:"text-xs sm:text-sm"},{default:s(()=>[o(" Are you sure you want to delete "+m(w.value.length)+" performance records? This action cannot be undone. ",1)]),_:1})]),_:1}),n(t(re),{class:"px-4 sm:px-6"},{default:s(()=>[n(t(_),{type:"button",onClick:e[21]||(e[21]=a=>T.value=!1),variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:s(()=>e[62]||(e[62]=[o(" Cancel ")])),_:1}),n(t(_),{type:"button",onClick:e[22]||(e[22]=a=>Me()),variant:"destructive",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:s(()=>e[63]||(e[63]=[o(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),r("form",{ref_key:"exportForm",ref:J,method:"GET",class:"hidden"},null,512)])]),_:1},8,["tenantSlug","permissions"]))}};export{ma as default};
