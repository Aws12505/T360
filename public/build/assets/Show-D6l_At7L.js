import{g as M,S as u,W as C}from"./vendor-vue-BsCVk3W_.js";import{_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-CJZ5EYEi.js";import{_ as D}from"./Layout.vue_vue_type_script_setup_true_lang-Ky4BYGJn.js";import{_ as A}from"./Card.vue_vue_type_script_setup_true_lang-D6lnctxv.js";import{_ as f}from"./Badge.vue_vue_type_script_setup_true_lang-MdQcxSLl.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-DXVzP2wd.js";import{D as B}from"./DeleteConfirmation-BRa-XlWz.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as H,c as V,b as $,e as x,f as s,z as n,u as o,X as t,U as m,S as l,F as O,H as j,O as N}from"./vendor--q1ey8Ib.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-tTsIgFyK.js";import"./vendor-ui-VCcvGdtT.js";import"./Icon.vue_vue_type_script_setup_true_lang-Cf3euL4G.js";import"./vendor-icons-Cd5utPp1.js";import"./useInitials-DzeGKvtI.js";import"./app-BiYzm0h6.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dc8NxSZT.js";import"./Button.vue_vue_type_script_setup_true_lang-CURKxeic.js";import"./Separator.vue_vue_type_script_setup_true_lang-lkFrsBLM.js";const F={class:"space-y-8"},W={class:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4"},G={class:"text-gray-700 dark:text-gray-300 font-medium line-clamp-2"},U={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 p-6"},Z={class:"lg:col-span-2 space-y-5"},E={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},P={class:"font-mono"},I={class:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 bg-white dark:bg-gray-800 min-h-[200px]"},X=["innerHTML"],q={class:"flex items-center pt-3"},J={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},K={class:"space-y-5"},Q={class:"space-y-4 bg-gray-50 dark:bg-gray-800/40 rounded-xl p-5 border border-gray-200 dark:border-gray-700"},R={class:"bg-gray-50 dark:bg-gray-800/40 px-6 py-5 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-4 justify-between"},Y={class:"flex gap-3 flex-wrap"},ee={__name:"Show",props:{template:Object,tenantSlug:String,permissions:Array},setup(r){const i=r,c=H(!1),v={acceptance:"Acceptance",ontime:"On-Time",greenzone:"Green Zone",severe_alerts:"Severe Alerts"},b=V(()=>[{title:"Dashboard",href:route("dashboard",{tenantSlug:i.tenantSlug})},{title:"Templates",href:route("sms-coaching-templates.index",{tenantSlug:i.tenantSlug})},{title:"Template Details",href:route("sms-coaching-templates.show",{tenantSlug:i.tenantSlug,id:i.template.id})}]),h=a=>(a==null?void 0:a.split("_").map(e=>e[0].toUpperCase()+e.slice(1)).join(" "))??"",y=a=>a==="good"?"success":a==="bad"?"destructive":a==="minor_improvement"?"warning":"default",w=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_={"{driver_first_name}":"First Name","{driver_last_name}":"Last Name","{driver_ontime_score}":"On-Time %","{driver_acceptance_score}":"Acceptance %","{driver_greenzone_score}":"Green Zone","{driver_severe_alerts}":"Severe Alerts","{company_avg_ontime}":"Avg On-Time %","{company_avg_acceptance}":"Avg Acceptance %","{company_avg_greenzone}":"Avg Green Zone"},k=a=>(a==null?void 0:a.replace(/{[^}]+}/g,e=>`<span class="inline-block bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 rounded px-1.5 py-0.5 text-xs font-mono mr-1 mb-1 align-middle whitespace-nowrap">&lt;${_[e]||e}&gt;</span>`))??"",S=()=>{C.delete(route("sms-coaching-templates.destroy",{tenantSlug:i.tenantSlug,id:i.template.id}),{preserveScroll:!0,onSuccess:()=>{c.value=!1}})},T=a=>{if(!a)return 0;const d=(a.match(/{[^}]+}/g)||[]).length;return a.replace(/{[^}]+}/g,"").length+d*5};return(a,e)=>(x(),$(z,{breadcrumbs:b.value,tenantSlug:r.tenantSlug,permissions:r.permissions},{default:s(()=>[n(o(M),{title:"Template Details"}),n(D,{permissions:r.permissions},{default:s(()=>[t("div",F,[n(B,{show:c.value,template:r.template,onClose:e[0]||(e[0]=d=>c.value=!1),onConfirm:S},{title:s(()=>e[2]||(e[2]=[l("Delete Template")])),content:s(()=>[e[3]||(e[3]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," Are you sure you want to delete this template? This action cannot be undone. ",-1)),t("div",W,[t("p",G,' "'+m(r.template.coaching_message.substring(0,100))+'..." ',1)])]),_:1},8,["show","template"]),e[11]||(e[11]=t("div",{class:"flex flex-col"},[t("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100"},"Template Details"),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400 max-w-3xl"}," Full details of the coaching template with message preview and performance metrics. ")],-1)),n(o(A),{class:"overflow-hidden rounded-xl shadow-md border border-gray-200 dark:border-gray-700"},{default:s(()=>[t("div",U,[t("div",Z,[t("div",E,[n(o(p),{class:"text-lg font-bold text-gray-800 dark:text-gray-200"},{default:s(()=>e[4]||(e[4]=[l("Message Preview")])),_:1}),n(o(f),{variant:"outline",class:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1.5 font-medium"},{default:s(()=>[t("span",P,m(T(r.template.coaching_message)),1),e[5]||(e[5]=l(" characters "))]),_:1})]),t("div",I,[t("div",{class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300 leading-relaxed font-sans text-base",innerHTML:k(r.template.coaching_message)},null,8,X)]),t("div",q,[e[6]||(e[6]=t("div",{class:"mr-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500 dark:text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})])],-1)),t("div",null,[t("p",J,"Created: "+m(w(r.template.created_at)),1)])])]),t("div",K,[n(o(p),{class:"text-lg font-bold text-gray-800 dark:text-gray-200"},{default:s(()=>e[7]||(e[7]=[l("Performance Metrics")])),_:1}),t("div",Q,[(x(),O(j,null,N(v,(d,g)=>t("div",{key:g,class:"flex items-center justify-between pb-3 border-b border-gray-200 dark:border-gray-700"},[n(o(p),{class:"text-gray-700 dark:text-gray-300 font-medium"},{default:s(()=>[l(m(d),1)]),_:2},1024),n(o(f),{variant:y(r.template[g]),class:"capitalize px-3 py-1.5 text-sm font-medium"},{default:s(()=>[l(m(h(r.template[g])),1)]),_:2},1032,["variant"])])),64))])])]),t("div",R,[t("div",null,[n(o(u),{href:a.route("sms-coaching-templates.index",{tenantSlug:r.tenantSlug}),class:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg border border-input bg-background hover:bg-accent hover:text-accent-foreground text-sm font-medium shadow-sm transition-colors"},{default:s(()=>e[8]||(e[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),l(" Back to Templates ")])),_:1},8,["href"])]),t("div",Y,[n(o(u),{href:a.route("sms-coaching-templates.edit",{tenantSlug:r.tenantSlug,id:r.template.id}),class:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg bg-primary hover:bg-primary/90 text-primary-foreground font-medium text-sm shadow-sm transition-colors"},{default:s(()=>e[9]||(e[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),l(" Edit Template ")])),_:1},8,["href"]),t("button",{onClick:e[1]||(e[1]=d=>c.value=!0),class:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg bg-destructive hover:bg-destructive/90 text-destructive-foreground font-medium text-sm shadow-sm transition-colors"},e[10]||(e[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),l(" Delete Template ")]))])])]),_:1})])]),_:1},8,["permissions"])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}},ye=L(ee,[["__scopeId","data-v-0298cd2f"]]);export{ye as default};
