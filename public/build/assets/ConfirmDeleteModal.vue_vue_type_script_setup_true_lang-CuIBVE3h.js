import{_ as b}from"./Button.vue_vue_type_script_setup_true_lang-CACqrpJk.js";import{S as F,W as R,x as O}from"./vendor-vue-B19pMx_k.js";import{F as c,e as d,X as t,E as y,H as w,O as C,U as x,z as l,b as S,f as u,S as g,u as s,d as T,r as M,c as D,w as B,ak as E,G as H,C as W,Y as q}from"./vendor-BpT-r7Ja.js";import{_ as L}from"./Input.vue_vue_type_script_setup_true_lang-BjJf4-TG.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-Kvpd3EIc.js";import{_ as N}from"./Checkbox.vue_vue_type_script_setup_true_lang-bPT6IWzp.js";import{_ as z}from"./InputError.vue_vue_type_script_setup_true_lang-h2cAZsoZ.js";import{L as G}from"./vendor-icons-Dww4C8Xv.js";const Y={class:"w-full overflow-x-auto"},I={class:"rounded-md border"},J={class:"w-full caption-bottom text-sm"},K={class:"[&_tr:last-child]:border-0"},Q={class:"p-4 align-middle font-medium"},Z={class:"p-4 align-middle"},ee={class:"p-4 align-middle text-right"},se={class:"flex justify-end space-x-2"},te={key:0,class:"mt-6 flex justify-center"},ne={class:"flex flex-wrap items-center gap-1 justify-center"},Cs={__name:"UserList",props:{users:Object,isSuperAdmin:{type:Boolean,default:!1}},setup(p){const _=n=>{n&&R.get(n,{},{only:["users"]})};return(n,a)=>(d(),c("div",Y,[t("div",I,[t("table",J,[a[3]||(a[3]=t("thead",{class:"[&_tr]:border-b"},[t("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Name"),t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Email"),t("th",{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),t("tbody",K,[(d(!0),c(w,null,C(p.users.data,e=>(d(),c("tr",{key:e.id,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("td",Q,x(e.name),1),t("td",Z,x(e.email),1),t("td",ee,[t("div",se,[l(s(b),{onClick:r=>n.$emit("edit",e),variant:"outline",size:"sm"},{default:u(()=>a[0]||(a[0]=[g(" Edit ")])),_:2},1032,["onClick"]),l(s(b),{onClick:r=>n.$emit("delete",e),variant:"destructive",size:"sm"},{default:u(()=>a[1]||(a[1]=[g(" Delete ")])),_:2},1032,["onClick"]),p.isSuperAdmin?(d(),S(s(F),{key:0,href:n.route("impersonate.start",e.id),as:"button"},{default:u(()=>[l(s(b),{variant:"secondary",size:"sm"},{default:u(()=>a[2]||(a[2]=[g(" Impersonate ")])),_:1})]),_:2},1032,["href"])):y("",!0)])])]))),128))])])]),p.users.links?(d(),c("div",te,[t("nav",ne,[(d(!0),c(w,null,C(p.users.links,e=>(d(),S(s(b),{key:e.label,onClick:r=>_(e.url),disabled:!e.url,variant:e.active?"default":"outline",size:"sm",class:"min-w-[40px]",innerHTML:e.label},null,8,["onClick","disabled","variant","innerHTML"]))),128))])])):y("",!0)]))}},oe={class:"w-full overflow-x-auto"},le={class:"rounded-md border"},ie={class:"w-full caption-bottom text-sm"},ae={class:"[&_tr:last-child]:border-0"},re={class:"p-4 align-middle font-medium"},de={class:"p-4 align-middle"},ue={class:"flex flex-wrap gap-1"},me={class:"p-4 align-middle text-right"},ce={class:"flex justify-end space-x-2"},fe={key:0,class:"mt-6 flex justify-center"},pe={class:"flex flex-wrap items-center gap-1 justify-center"},Ss={__name:"RoleList",props:{roles:Object},setup(p){const _=n=>{n&&R.get(n,{},{only:["roles"]})};return(n,a)=>(d(),c("div",oe,[t("div",le,[t("table",ie,[a[2]||(a[2]=t("thead",{class:"[&_tr]:border-b"},[t("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Role Name"),t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Permissions"),t("th",{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),t("tbody",ae,[(d(!0),c(w,null,C(p.roles.data,e=>(d(),c("tr",{key:e.id,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("td",re,x(e.name),1),t("td",de,[t("div",ue,[(d(!0),c(w,null,C(e.permissions,r=>(d(),c("span",{key:r.id,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground"},x(r.name),1))),128))])]),t("td",me,[t("div",ce,[l(s(b),{onClick:r=>n.$emit("edit",e),variant:"outline",size:"sm"},{default:u(()=>a[0]||(a[0]=[g(" Edit ")])),_:2},1032,["onClick"]),l(s(b),{onClick:r=>n.$emit("delete",e),variant:"destructive",size:"sm"},{default:u(()=>a[1]||(a[1]=[g(" Delete ")])),_:2},1032,["onClick"])])])]))),128))])])]),p.roles.links?(d(),c("div",fe,[t("nav",pe,[(d(!0),c(w,null,C(p.roles.links,e=>(d(),S(s(b),{key:e.label,onClick:r=>_(e.url),disabled:!e.url,variant:e.active?"default":"outline",size:"sm",class:"min-w-[40px]",innerHTML:e.label},null,8,["onClick","disabled","variant","innerHTML"]))),128))])])):y("",!0)]))}},ge={class:"fixed inset-0 z-[100]"},ve={class:"absolute inset-0 flex items-center justify-center p-2 sm:p-4"},be={class:"bg-background p-4 sm:p-6 rounded-lg shadow-xl w-full sm:max-w-lg md:max-w-2xl lg:max-w-4xl overflow-y-auto max-h-[95vh] animate-in fade-in zoom-in-95 duration-200 border border-border"},xe={class:"flex justify-between items-center mb-4"},_e={class:"text-xl sm:text-2xl font-bold text-foreground"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"space-y-2"},$e={class:"space-y-2"},ke={key:0,class:"space-y-2 md:col-span-2"},we={key:1,class:"space-y-2 md:col-span-2"},Ce=["value"],Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2"},je={class:"space-y-2"},ze={class:"relative"},Le={class:"flex items-center space-x-2"},Ue={class:"h-60 border rounded-md p-2 overflow-y-auto"},Ve={class:"space-y-2"},Ae={class:"relative"},Ee={class:"flex items-center space-x-2"},Pe={class:"h-60 border rounded-md p-2 overflow-y-auto"},De={key:0,class:"ml-2 text-xs px-2 py-0.5 rounded-full border border-gray-200 bg-gray-100 dark:border-gray-700 dark:bg-gray-800 text-gray-600 dark:text-gray-300"},Oe={class:"flex justify-end space-x-3 pt-4"},js=T({__name:"UserForm",props:{user:{type:Object,default:null},tenants:{type:Array,default:()=>[]},roles:{type:Array,default:()=>[]},permissions:{type:Array,default:()=>[]},isSuperAdmin:{type:Boolean,default:!1},tenantSlug:{type:String,default:null}},emits:["close","saved"],setup(p,{emit:_}){const n=p,a=_,e=O({name:n.user?n.user.name:"",email:n.user?n.user.email:"",password:"",tenant_id:n.user?n.user.tenant_id:n.tenants.length?n.tenants[0].id:null,roles:n.user&&n.user.roles?n.user.roles.map(i=>i.id):[],user_permissions:n.user&&n.user.permissions?n.user.permissions.map(i=>i.name):[]}),r=M(""),f=M(""),v=D(()=>{if(!r.value.trim())return n.roles;const i=r.value.toLowerCase();return n.roles.filter(o=>o.name.toLowerCase().includes(i))}),j=D(()=>{if(!f.value.trim())return n.permissions;const i=f.value.toLowerCase();return n.permissions.filter(o=>o.name.toLowerCase().includes(i))}),V=D(()=>{const i=new Set;return n.roles.forEach(o=>{e.roles.includes(o.id)&&o.permissions&&o.permissions.forEach(A=>{i.add(A.name)})}),Array.from(i)});B(()=>n.user,i=>{i?(e.name=i.name,e.email=i.email,e.tenant_id=i.tenant_id,e.roles=i.roles?i.roles.map(o=>o.id):[],e.user_permissions=i.permissions?i.permissions.map(o=>o.name):[]):(e.name="",e.email="",e.password="",e.tenant_id=n.tenants.length?n.tenants[0].id:null,e.roles=[],e.user_permissions=[])},{immediate:!0});const U=()=>{n.user?n.isSuperAdmin?e.put(route("admin.users.update",n.user),{onSuccess:()=>{a("saved")}}):e.put(route("users.update",[n.tenantSlug,n.user]),{onSuccess:()=>{a("saved")}}):n.isSuperAdmin?e.post(route("admin.users.store"),{onSuccess:()=>{a("saved")}}):e.post(route("users.store",n.tenantSlug),{onSuccess:()=>{a("saved")}})},P=i=>{const o=e.roles.indexOf(i);o===-1?e.roles.push(i):e.roles.splice(o,1)},h=i=>{if(V.value.includes(i))return;const o=e.user_permissions.indexOf(i);o===-1?e.user_permissions.push(i):e.user_permissions.splice(o,1)};return(i,o)=>{const A=E("X"),$=E("Loader2");return d(),c("div",ge,[t("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:o[0]||(o[0]=()=>a("close"))}),t("div",ve,[t("div",be,[t("div",xe,[t("h2",_e,x(p.user?"Edit User":"Create User"),1),l(s(b),{variant:"ghost",size:"icon",onClick:o[1]||(o[1]=()=>a("close"))},{default:u(()=>[l(A,{class:"h-5 w-5"})]),_:1})]),t("form",{onSubmit:H(U,["prevent"]),class:"space-y-4"},[t("div",ye,[t("div",he,[l(s(k),{for:"name"},{default:u(()=>o[11]||(o[11]=[g("Name")])),_:1}),l(s(L),{id:"name",modelValue:s(e).name,"onUpdate:modelValue":o[2]||(o[2]=m=>s(e).name=m),placeholder:"Enter name",class:"w-full"},null,8,["modelValue"]),l(z,{message:s(e).errors.name},null,8,["message"])]),t("div",$e,[l(s(k),{for:"email"},{default:u(()=>o[12]||(o[12]=[g("Email")])),_:1}),l(s(L),{id:"email",modelValue:s(e).email,"onUpdate:modelValue":o[3]||(o[3]=m=>s(e).email=m),type:"email",placeholder:"Enter email",class:"w-full"},null,8,["modelValue"]),l(z,{message:s(e).errors.email},null,8,["message"])]),p.user?y("",!0):(d(),c("div",ke,[l(s(k),{for:"password"},{default:u(()=>o[13]||(o[13]=[g("Password")])),_:1}),l(s(L),{id:"password",modelValue:s(e).password,"onUpdate:modelValue":o[4]||(o[4]=m=>s(e).password=m),type:"password",placeholder:"Enter password",class:"w-full"},null,8,["modelValue"]),l(z,{message:s(e).errors.password},null,8,["message"])])),p.isSuperAdmin?(d(),c("div",we,[l(s(k),{for:"tenant"},{default:u(()=>o[14]||(o[14]=[g("Company Name")])),_:1}),W(t("select",{id:"tenant","onUpdate:modelValue":o[5]||(o[5]=m=>s(e).tenant_id=m),class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[o[15]||(o[15]=t("option",{value:null},"None",-1)),(d(!0),c(w,null,C(p.tenants,m=>(d(),c("option",{value:m.id,key:m.id},x(m.name),9,Ce))),128))],512),[[q,s(e).tenant_id]]),l(z,{message:s(e).errors.tenant_id},null,8,["message"])])):y("",!0)]),t("div",Se,[t("div",je,[l(s(k),null,{default:u(()=>o[16]||(o[16]=[g("Roles")])),_:1}),t("div",ze,[t("div",Le,[l(s(L),{modelValue:r.value,"onUpdate:modelValue":o[6]||(o[6]=m=>r.value=m),placeholder:"Search roles...",class:"w-full"},null,8,["modelValue"]),r.value?(d(),S(s(b),{key:0,type:"button",variant:"ghost",size:"icon",onClick:o[7]||(o[7]=m=>r.value=""),class:"absolute right-2"},{default:u(()=>[l(A,{class:"h-4 w-4"})]),_:1})):y("",!0)])]),t("div",Ue,[(d(!0),c(w,null,C(v.value,m=>(d(),c("div",{key:m.id,class:"flex items-center py-1 px-2 hover:bg-muted/50 rounded transition-colors"},[l(s(N),{id:`role-${m.id}`,checked:s(e).roles.includes(m.id),"onUpdate:checked":X=>P(m.id),class:"mr-2"},null,8,["id","checked","onUpdate:checked"]),l(s(k),{for:`role-${m.id}`,class:"cursor-pointer"},{default:u(()=>[g(x(m.name),1)]),_:2},1032,["for"])]))),128))]),l(z,{message:s(e).errors.roles},null,8,["message"])]),t("div",Ve,[l(s(k),null,{default:u(()=>o[17]||(o[17]=[g("Permissions")])),_:1}),t("div",Ae,[t("div",Ee,[l(s(L),{modelValue:f.value,"onUpdate:modelValue":o[8]||(o[8]=m=>f.value=m),placeholder:"Search permissions...",class:"w-full"},null,8,["modelValue"]),f.value?(d(),S(s(b),{key:0,type:"button",variant:"ghost",size:"icon",onClick:o[9]||(o[9]=m=>f.value=""),class:"absolute right-2"},{default:u(()=>[l(A,{class:"h-4 w-4"})]),_:1})):y("",!0)])]),t("div",Pe,[(d(!0),c(w,null,C(j.value,m=>(d(),c("div",{key:m.id,class:"flex items-center py-1 px-2 hover:bg-muted/50 rounded transition-colors"},[l(s(N),{id:`permission-${m.name}`,checked:s(e).user_permissions.includes(m.name),"onUpdate:checked":X=>h(m.name),disabled:V.value.includes(m.name),class:"mr-2"},null,8,["id","checked","onUpdate:checked","disabled"]),l(s(k),{for:`permission-${m.name}`,class:"cursor-pointer"},{default:u(()=>[g(x(m.name)+" ",1),V.value.includes(m.name)?(d(),c("span",De," inherited ")):y("",!0)]),_:2},1032,["for"])]))),128))]),l(z,{message:s(e).errors.user_permissions},null,8,["message"])])]),t("div",Oe,[l(s(b),{type:"button",onClick:o[10]||(o[10]=()=>a("close")),variant:"outline"},{default:u(()=>o[18]||(o[18]=[g(" Cancel ")])),_:1}),l(s(b),{type:"submit",disabled:s(e).processing},{default:u(()=>[s(e).processing?(d(),S($,{key:0,class:"mr-2 h-4 w-4 animate-spin"})):y("",!0),g(" "+x(s(e).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)])])])}}}),Te={class:"w-full overflow-x-auto"},Me={class:"rounded-md border"},Ne={class:"w-full caption-bottom text-sm"},Re={class:"[&_tr:last-child]:border-0"},Be={class:"p-4 align-middle font-medium"},He={class:"p-4 align-middle"},Xe={class:"p-4 align-middle text-right"},Fe={class:"flex justify-end space-x-2"},We={key:0,class:"mt-6 flex justify-center"},qe={class:"flex flex-wrap items-center gap-1 justify-center"},zs={__name:"TenantList",props:{tenants:{type:Object,default:()=>({data:[],links:[]})}},setup(p){const _=p,n=Array.isArray(_.tenants)?_.tenants:_.tenants.data||[],a=e=>{e&&R.get(e,{},{only:["tenants"]})};return(e,r)=>(d(),c("div",Te,[t("div",Me,[t("table",Ne,[r[2]||(r[2]=t("thead",{class:"[&_tr]:border-b"},[t("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Company Name"),t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Slug"),t("th",{class:"h-12 px-4 text-right pr-16 align-middle font-medium text-muted-foreground"},"Actions")])],-1)),t("tbody",Re,[(d(!0),c(w,null,C(s(n),f=>(d(),c("tr",{key:f.id,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("td",Be,x(f.name),1),t("td",He,x(f.slug),1),t("td",Xe,[t("div",Fe,[l(s(b),{onClick:v=>e.$emit("edit",f),variant:"outline",size:"sm"},{default:u(()=>r[0]||(r[0]=[g(" Edit ")])),_:2},1032,["onClick"]),l(s(b),{onClick:v=>e.$emit("delete",f),variant:"destructive",size:"sm"},{default:u(()=>r[1]||(r[1]=[g(" Delete ")])),_:2},1032,["onClick"])])])]))),128))])])]),p.tenants.links?(d(),c("div",We,[t("nav",qe,[(d(!0),c(w,null,C(p.tenants.links,f=>(d(),S(s(b),{key:f.label,onClick:v=>a(f.url),disabled:!f.url,variant:f.active?"default":"outline",size:"sm",class:"min-w-[40px]",innerHTML:f.label},null,8,["onClick","disabled","variant","innerHTML"]))),128))])])):y("",!0)]))}},Ge={class:"fixed inset-0 z-50"},Ye={class:"absolute inset-0 flex items-center justify-center p-2 sm:p-4"},Ie={class:"bg-background p-6 rounded-lg shadow-xl w-full max-w-md overflow-y-auto max-h-[90vh] animate-in fade-in zoom-in-95 duration-200 border border-border"},Je={class:"flex justify-between items-center mb-4"},Ke={class:"text-2xl font-bold text-foreground"},Qe={class:"space-y-2"},Ze={key:0,class:"space-y-2"},es={class:"flex justify-end space-x-3 pt-4"},Ls=T({__name:"TenantForm",props:{tenant:{type:Object,default:null}},emits:["close","saved"],setup(p,{emit:_}){const n=p,a=_,e=O({name:n.tenant?n.tenant.name:"",slug:n.tenant?n.tenant.slug:""});B(()=>n.tenant,f=>{f?(e.name=f.name,e.slug=f.slug):(e.name="",e.slug="")},{immediate:!0});const r=()=>{n.tenant?e.put(route("admin.tenants.update",n.tenant),{onSuccess:()=>{a("saved")}}):e.post(route("admin.tenants.store"),{onSuccess:()=>{a("saved")}})};return(f,v)=>{const j=E("X"),V=E("Loader2");return d(),c("div",Ge,[v[7]||(v[7]=t("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm"},null,-1)),t("div",Ye,[t("div",Ie,[t("div",Je,[t("h2",Ke,x(p.tenant?"Edit Company":"Create Company"),1),l(s(b),{variant:"ghost",size:"icon",onClick:v[0]||(v[0]=()=>a("close"))},{default:u(()=>[l(j,{class:"h-5 w-5"})]),_:1})]),t("form",{onSubmit:H(r,["prevent"]),class:"space-y-4"},[t("div",Qe,[l(s(k),{for:"name"},{default:u(()=>v[4]||(v[4]=[g("Company Name")])),_:1}),l(s(L),{id:"name",modelValue:s(e).name,"onUpdate:modelValue":v[1]||(v[1]=U=>s(e).name=U),placeholder:"Enter company name",class:"w-full"},null,8,["modelValue"]),l(z,{message:s(e).errors.name},null,8,["message"])]),p.tenant?(d(),c("div",Ze,[l(s(k),{for:"slug"},{default:u(()=>v[5]||(v[5]=[g("Slug")])),_:1}),l(s(L),{id:"slug",modelValue:s(e).slug,"onUpdate:modelValue":v[2]||(v[2]=U=>s(e).slug=U),placeholder:"Enter company slug",class:"w-full"},null,8,["modelValue"]),l(z,{message:s(e).errors.slug},null,8,["message"])])):y("",!0),t("div",es,[l(s(b),{type:"button",onClick:v[3]||(v[3]=()=>a("close")),variant:"outline"},{default:u(()=>v[6]||(v[6]=[g(" Cancel ")])),_:1}),l(s(b),{type:"submit",disabled:s(e).processing},{default:u(()=>[s(e).processing?(d(),S(V,{key:0,class:"mr-2 h-4 w-4 animate-spin"})):y("",!0),g(" "+x(s(e).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)])])])}}}),ss={class:"fixed inset-0 z-50"},ts={class:"absolute inset-0 flex items-center justify-center p-2 sm:p-4"},ns={class:"bg-background p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-sm sm:max-w-md md:max-w-lg overflow-y-auto max-h-[95vh] animate-in fade-in zoom-in-95 duration-200 border border-border"},os={class:"flex justify-between items-center mb-4"},ls={class:"text-xl sm:text-2xl font-bold text-foreground"},is={class:"space-y-2"},as={class:"space-y-2"},rs={class:"relative"},ds={class:"flex items-center space-x-2"},us={class:"h-48 sm:h-56 md:h-64 border rounded-md p-2 overflow-y-auto"},ms={class:"flex justify-end space-x-3 pt-4"},Us=T({__name:"RoleForm",props:{role:{type:Object,default:null},permissions:{type:Array,default:()=>[]},isSuperAdmin:{type:Boolean,default:!1},tenantSlug:{type:String,default:null}},emits:["saved","close"],setup(p,{emit:_}){var U,P;const n=_,a=p,{tenantSlug:e}=a,r=O({name:a.role?a.role.name:"",permissions:((P=(U=a.role)==null?void 0:U.permissions)==null?void 0:P.map(h=>h.name))||[]}),f=M(""),v=D(()=>{if(!f.value.trim())return a.permissions;const h=f.value.toLowerCase();return a.permissions.filter(i=>i.name.toLowerCase().includes(h))});B(()=>a.role,h=>{var i;h?(r.name=h.name,r.permissions=((i=h.permissions)==null?void 0:i.map(o=>o.name))||[]):(r.name="",r.permissions=[])},{immediate:!0});const j=()=>{a.role?a.isSuperAdmin?r.put(route("admin.roles.update",a.role.id),{onSuccess:()=>{n("saved")}}):r.put(route("roles.update",[e,a.role.id]),{onSuccess:()=>{n("saved")}}):a.isSuperAdmin?r.post(route("admin.roles.store"),{onSuccess:()=>{n("saved")}}):r.post(route("roles.store",e),{onSuccess:()=>{n("saved")}})},V=h=>{const i=r.permissions.indexOf(h);i===-1?r.permissions.push(h):r.permissions.splice(i,1)};return(h,i)=>{const o=E("X"),A=E("Loader2");return d(),c("div",ss,[i[8]||(i[8]=t("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm"},null,-1)),t("div",ts,[t("div",ns,[t("div",os,[t("h2",ls,x(p.role?"Edit Role":"Create Role"),1),l(s(b),{variant:"ghost",size:"icon",onClick:i[0]||(i[0]=()=>n("close"))},{default:u(()=>[l(o,{class:"h-5 w-5"})]),_:1})]),t("form",{onSubmit:H(j,["prevent"]),class:"space-y-4"},[t("div",is,[l(s(k),{for:"name"},{default:u(()=>i[5]||(i[5]=[g("Role Name")])),_:1}),l(s(L),{id:"name",modelValue:s(r).name,"onUpdate:modelValue":i[1]||(i[1]=$=>s(r).name=$),placeholder:"Enter role name",class:"w-full"},null,8,["modelValue"]),l(z,{message:s(r).errors.name},null,8,["message"])]),t("div",as,[l(s(k),null,{default:u(()=>i[6]||(i[6]=[g("Permissions")])),_:1}),t("div",rs,[t("div",ds,[l(s(L),{modelValue:f.value,"onUpdate:modelValue":i[2]||(i[2]=$=>f.value=$),placeholder:"Search permissions...",class:"w-full"},null,8,["modelValue"]),f.value?(d(),S(s(b),{key:0,type:"button",variant:"ghost",size:"icon",onClick:i[3]||(i[3]=$=>f.value=""),class:"absolute right-2"},{default:u(()=>[l(o,{class:"h-4 w-4"})]),_:1})):y("",!0)])]),t("div",us,[(d(!0),c(w,null,C(v.value,$=>(d(),c("div",{key:$.id,class:"flex items-center py-1 px-2 hover:bg-muted/50 rounded transition-colors"},[l(s(N),{id:`permission-${$.name}`,checked:s(r).permissions.includes($.name),"onUpdate:checked":m=>V($.name),class:"mr-2"},null,8,["id","checked","onUpdate:checked"]),l(s(k),{for:`permission-${$.name}`,class:"cursor-pointer"},{default:u(()=>[g(x($.name),1)]),_:2},1032,["for"])]))),128))]),l(z,{message:s(r).errors.permissions},null,8,["message"])]),t("div",ms,[l(s(b),{type:"button",onClick:i[4]||(i[4]=()=>n("close")),variant:"outline"},{default:u(()=>i[7]||(i[7]=[g(" Cancel ")])),_:1}),l(s(b),{type:"submit",disabled:s(r).processing},{default:u(()=>[s(r).processing?(d(),S(A,{key:0,class:"mr-2 h-4 w-4 animate-spin"})):y("",!0),g(" "+x(s(r).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)])])])}}}),cs={class:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50 p-4"},fs={class:"bg-background p-6 rounded-lg shadow-xl w-full max-w-md animate-in fade-in zoom-in-95 duration-200 border border-border"},ps={class:"flex flex-col space-y-4"},gs={class:"text-muted-foreground"},vs={class:"flex justify-end space-x-3 pt-2"},Vs=T({__name:"ConfirmDeleteModal",props:{message:{type:String,default:"Are you sure you want to delete this item?"},deleteUrl:{type:String,required:!0},tenantSlug:{type:String,default:null}},emits:["cancel","confirmed"],setup(p,{emit:_}){const n=p,a=_,e=O({}),r=()=>{e.delete(n.deleteUrl,{onSuccess:()=>{a("confirmed")}})},f=()=>{a("cancel")};return(v,j)=>(d(),c("div",cs,[t("div",fs,[t("div",ps,[j[1]||(j[1]=t("h2",{class:"text-xl font-bold text-foreground"},"Confirm Deletion",-1)),t("p",gs,x(p.message),1),t("div",vs,[l(s(b),{type:"button",onClick:f,variant:"outline"},{default:u(()=>j[0]||(j[0]=[g(" Cancel ")])),_:1}),l(s(b),{type:"button",variant:"destructive",onClick:r,disabled:s(e).processing},{default:u(()=>[s(e).processing?(d(),S(s(G),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):y("",!0),g(" "+x(s(e).processing?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])])])])]))}});export{Cs as _,Ss as a,zs as b,js as c,Ls as d,Us as e,Vs as f};
