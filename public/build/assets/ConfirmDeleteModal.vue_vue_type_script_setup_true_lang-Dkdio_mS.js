import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-CIs7Gh-v.js";import{S as W,W as M,x as D}from"./vendor-vue-C5ukOnUx.js";import{v as f,e as d,V as t,z as y,F as C,C as S,y as b,l as n,b as w,f as u,x as p,u as e,d as N,r as O,c as T,w as B,am as E,p as H}from"./vendor-vrnjLp2f.js";import{_ as k,a as L}from"./Label.vue_vue_type_script_setup_true_lang-DFFa_aCR.js";import{_ as R}from"./Checkbox.vue_vue_type_script_setup_true_lang-CYdYo-Qw.js";import{a as q,b as G,c as I,d as X,_ as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-DlfZjz7l.js";import{_ as z}from"./InputError.vue_vue_type_script_setup_true_lang-DMCFG9wY.js";import{L as K}from"./vendor-icons-DTRPR4Ue.js";const Q={class:"w-full overflow-x-auto"},Y={class:"rounded-md border"},Z={class:"w-full caption-bottom text-sm"},ee={class:"[&_tr:last-child]:border-0"},se={class:"p-4 align-middle font-medium"},te={class:"p-4 align-middle"},ne={class:"p-4 align-middle text-right"},le={class:"flex justify-end space-x-2"},oe={key:0,class:"mt-6 flex justify-center"},ae={class:"flex flex-wrap items-center gap-1 justify-center"},Cs={__name:"UserList",props:{users:Object,isSuperAdmin:{type:Boolean,default:!1}},setup(g){const x=l=>{l&&M.get(l,{},{only:["users"]})};return(l,r)=>(d(),f("div",Q,[t("div",Y,[t("table",Z,[r[3]||(r[3]=t("thead",{class:"[&_tr]:border-b"},[t("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Name"),t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Email"),t("th",{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),t("tbody",ee,[(d(!0),f(C,null,S(g.users.data,s=>(d(),f("tr",{key:s.id,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("td",se,b(s.name),1),t("td",te,b(s.email),1),t("td",ne,[t("div",le,[n(e(v),{onClick:i=>l.$emit("edit",s),variant:"outline",size:"sm"},{default:u(()=>r[0]||(r[0]=[p(" Edit ")])),_:2},1032,["onClick"]),n(e(v),{onClick:i=>l.$emit("delete",s),variant:"destructive",size:"sm"},{default:u(()=>r[1]||(r[1]=[p(" Delete ")])),_:2},1032,["onClick"]),g.isSuperAdmin?(d(),w(e(W),{key:0,href:l.route("impersonate.start",s.id),as:"button"},{default:u(()=>[n(e(v),{variant:"secondary",size:"sm"},{default:u(()=>r[2]||(r[2]=[p(" Impersonate ")])),_:1})]),_:2},1032,["href"])):y("",!0)])])]))),128))])])]),g.users.links?(d(),f("div",oe,[t("nav",ae,[(d(!0),f(C,null,S(g.users.links,s=>(d(),w(e(v),{key:s.label,onClick:i=>x(s.url),disabled:!s.url,variant:s.active?"default":"outline",size:"sm",class:"min-w-[40px]",innerHTML:s.label},null,8,["onClick","disabled","variant","innerHTML"]))),128))])])):y("",!0)]))}},ie={class:"w-full overflow-x-auto"},re={class:"rounded-md border"},de={class:"w-full caption-bottom text-sm"},ue={class:"[&_tr:last-child]:border-0"},me={class:"p-4 align-middle font-medium"},ce={class:"p-4 align-middle"},fe={class:"flex flex-wrap gap-1"},pe={class:"p-4 align-middle text-right"},ge={class:"flex justify-end space-x-2"},ve={key:0,class:"mt-6 flex justify-center"},_e={class:"flex flex-wrap items-center gap-1 justify-center"},Ss={__name:"RoleList",props:{roles:Object},setup(g){const x=l=>{l&&M.get(l,{},{only:["roles"]})};return(l,r)=>(d(),f("div",ie,[t("div",re,[t("table",de,[r[2]||(r[2]=t("thead",{class:"[&_tr]:border-b"},[t("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Role Name"),t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Permissions"),t("th",{class:"h-12 px-4 text-right align-middle font-medium text-muted-foreground"},"Actions")])],-1)),t("tbody",ue,[(d(!0),f(C,null,S(g.roles.data,s=>(d(),f("tr",{key:s.id,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("td",me,b(s.name),1),t("td",ce,[t("div",fe,[(d(!0),f(C,null,S(s.permissions,i=>(d(),f("span",{key:i.id,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground"},b(i.name),1))),128))])]),t("td",pe,[t("div",ge,[n(e(v),{onClick:i=>l.$emit("edit",s),variant:"outline",size:"sm"},{default:u(()=>r[0]||(r[0]=[p(" Edit ")])),_:2},1032,["onClick"]),n(e(v),{onClick:i=>l.$emit("delete",s),variant:"destructive",size:"sm"},{default:u(()=>r[1]||(r[1]=[p(" Delete ")])),_:2},1032,["onClick"])])])]))),128))])])]),g.roles.links?(d(),f("div",ve,[t("nav",_e,[(d(!0),f(C,null,S(g.roles.links,s=>(d(),w(e(v),{key:s.label,onClick:i=>x(s.url),disabled:!s.url,variant:s.active?"default":"outline",size:"sm",class:"min-w-[40px]",innerHTML:s.label},null,8,["onClick","disabled","variant","innerHTML"]))),128))])])):y("",!0)]))}},be={class:"fixed inset-0 z-50"},xe={class:"absolute inset-0 flex items-center justify-center p-2 sm:p-4"},ye={class:"bg-background p-4 sm:p-6 rounded-lg shadow-xl w-full sm:max-w-lg md:max-w-2xl lg:max-w-4xl overflow-y-auto max-h-[95vh] animate-in fade-in zoom-in-95 duration-200 border border-border"},he={class:"flex justify-between items-center mb-4"},$e={class:"text-xl sm:text-2xl font-bold text-foreground"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},we={class:"space-y-2"},Ce={class:"space-y-2"},Se={key:0,class:"space-y-2 md:col-span-2"},je={key:1,class:"space-y-2 md:col-span-2"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2"},Le={class:"space-y-2"},Ve={class:"relative"},Ue={class:"flex items-center space-x-2"},Ae={class:"h-60 border rounded-md p-2 overflow-y-auto"},Ee={class:"space-y-2"},Pe={class:"relative"},Te={class:"flex items-center space-x-2"},De={class:"h-60 border rounded-md p-2 overflow-y-auto"},Ne={key:0,class:"ml-2 text-xs px-2 py-0.5 rounded-full border border-gray-200 bg-gray-100 dark:border-gray-700 dark:bg-gray-800 text-gray-600 dark:text-gray-300"},Oe={class:"flex justify-end space-x-3 pt-4"},js=N({__name:"UserForm",props:{user:{type:Object,default:null},tenants:{type:Array,default:()=>[]},roles:{type:Array,default:()=>[]},permissions:{type:Array,default:()=>[]},isSuperAdmin:{type:Boolean,default:!1},tenantSlug:{type:String,default:null}},emits:["close","saved"],setup(g,{emit:x}){const l=g,r=x,s=D({name:l.user?l.user.name:"",email:l.user?l.user.email:"",password:"",tenant_id:l.user?l.user.tenant_id:l.tenants.length?l.tenants[0].id:null,roles:l.user&&l.user.roles?l.user.roles.map(a=>a.id):[],user_permissions:l.user&&l.user.permissions?l.user.permissions.map(a=>a.name):[]}),i=O(""),c=O(""),_=T(()=>{if(!i.value.trim())return l.roles;const a=i.value.toLowerCase();return l.roles.filter(o=>o.name.toLowerCase().includes(a))}),j=T(()=>{if(!c.value.trim())return l.permissions;const a=c.value.toLowerCase();return l.permissions.filter(o=>o.name.toLowerCase().includes(a))}),U=T(()=>{const a=new Set;return l.roles.forEach(o=>{s.roles.includes(o.id)&&o.permissions&&o.permissions.forEach(A=>{a.add(A.name)})}),Array.from(a)});B(()=>l.user,a=>{a?(s.name=a.name,s.email=a.email,s.tenant_id=a.tenant_id,s.roles=a.roles?a.roles.map(o=>o.id):[],s.user_permissions=a.permissions?a.permissions.map(o=>o.name):[]):(s.name="",s.email="",s.password="",s.tenant_id=l.tenants.length?l.tenants[0].id:null,s.roles=[],s.user_permissions=[])},{immediate:!0});const V=()=>{l.user?l.isSuperAdmin?s.put(route("admin.users.update",l.user),{onSuccess:()=>{r("saved")}}):s.put(route("users.update",[l.tenantSlug,l.user]),{onSuccess:()=>{r("saved")}}):l.isSuperAdmin?s.post(route("admin.users.store"),{onSuccess:()=>{r("saved")}}):s.post(route("users.store",l.tenantSlug),{onSuccess:()=>{r("saved")}})},P=a=>{const o=s.roles.indexOf(a);o===-1?s.roles.push(a):s.roles.splice(o,1)},h=a=>{if(U.value.includes(a))return;const o=s.user_permissions.indexOf(a);o===-1?s.user_permissions.push(a):s.user_permissions.splice(o,1)};return(a,o)=>{const A=E("X"),$=E("Loader2");return d(),f("div",be,[t("div",xe,[t("div",ye,[t("div",he,[t("h2",$e,b(g.user?"Edit User":"Create User"),1),n(e(v),{variant:"ghost",size:"icon",onClick:o[0]||(o[0]=()=>r("close"))},{default:u(()=>[n(A,{class:"h-5 w-5"})]),_:1})]),t("form",{onSubmit:H(V,["prevent"]),class:"space-y-4"},[t("div",ke,[t("div",we,[n(e(k),{for:"name"},{default:u(()=>o[10]||(o[10]=[p("Name")])),_:1}),n(e(L),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":o[1]||(o[1]=m=>e(s).name=m),placeholder:"Enter name",class:"w-full"},null,8,["modelValue"]),n(z,{message:e(s).errors.name},null,8,["message"])]),t("div",Ce,[n(e(k),{for:"email"},{default:u(()=>o[11]||(o[11]=[p("Email")])),_:1}),n(e(L),{id:"email",modelValue:e(s).email,"onUpdate:modelValue":o[2]||(o[2]=m=>e(s).email=m),type:"email",placeholder:"Enter email",class:"w-full"},null,8,["modelValue"]),n(z,{message:e(s).errors.email},null,8,["message"])]),g.user?y("",!0):(d(),f("div",Se,[n(e(k),{for:"password"},{default:u(()=>o[12]||(o[12]=[p("Password")])),_:1}),n(e(L),{id:"password",modelValue:e(s).password,"onUpdate:modelValue":o[3]||(o[3]=m=>e(s).password=m),type:"password",placeholder:"Enter password",class:"w-full"},null,8,["modelValue"]),n(z,{message:e(s).errors.password},null,8,["message"])])),g.isSuperAdmin?(d(),f("div",je,[n(e(k),{for:"tenant"},{default:u(()=>o[13]||(o[13]=[p("Company Name")])),_:1}),n(e(J),{modelValue:e(s).tenant_id,"onUpdate:modelValue":o[4]||(o[4]=m=>e(s).tenant_id=m)},{default:u(()=>[n(e(q),null,{default:u(()=>[n(e(G),{placeholder:"Select a company"})]),_:1}),n(e(I),null,{default:u(()=>[n(e(X),{value:null},{default:u(()=>o[14]||(o[14]=[p("None")])),_:1}),(d(!0),f(C,null,S(g.tenants,m=>(d(),w(e(X),{value:m.id,key:m.id},{default:u(()=>[p(b(m.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),n(z,{message:e(s).errors.tenant_id},null,8,["message"])])):y("",!0)]),t("div",ze,[t("div",Le,[n(e(k),null,{default:u(()=>o[15]||(o[15]=[p("Roles")])),_:1}),t("div",Ve,[t("div",Ue,[n(e(L),{modelValue:i.value,"onUpdate:modelValue":o[5]||(o[5]=m=>i.value=m),placeholder:"Search roles...",class:"w-full"},null,8,["modelValue"]),i.value?(d(),w(e(v),{key:0,type:"button",variant:"ghost",size:"icon",onClick:o[6]||(o[6]=m=>i.value=""),class:"absolute right-2"},{default:u(()=>[n(A,{class:"h-4 w-4"})]),_:1})):y("",!0)])]),t("div",Ae,[(d(!0),f(C,null,S(_.value,m=>(d(),f("div",{key:m.id,class:"flex items-center py-1 px-2 hover:bg-muted/50 rounded transition-colors"},[n(e(R),{id:`role-${m.id}`,checked:e(s).roles.includes(m.id),"onUpdate:checked":F=>P(m.id),class:"mr-2"},null,8,["id","checked","onUpdate:checked"]),n(e(k),{for:`role-${m.id}`,class:"cursor-pointer"},{default:u(()=>[p(b(m.name),1)]),_:2},1032,["for"])]))),128))]),n(z,{message:e(s).errors.roles},null,8,["message"])]),t("div",Ee,[n(e(k),null,{default:u(()=>o[16]||(o[16]=[p("Permissions")])),_:1}),t("div",Pe,[t("div",Te,[n(e(L),{modelValue:c.value,"onUpdate:modelValue":o[7]||(o[7]=m=>c.value=m),placeholder:"Search permissions...",class:"w-full"},null,8,["modelValue"]),c.value?(d(),w(e(v),{key:0,type:"button",variant:"ghost",size:"icon",onClick:o[8]||(o[8]=m=>c.value=""),class:"absolute right-2"},{default:u(()=>[n(A,{class:"h-4 w-4"})]),_:1})):y("",!0)])]),t("div",De,[(d(!0),f(C,null,S(j.value,m=>(d(),f("div",{key:m.id,class:"flex items-center py-1 px-2 hover:bg-muted/50 rounded transition-colors"},[n(e(R),{id:`permission-${m.name}`,checked:e(s).user_permissions.includes(m.name),"onUpdate:checked":F=>h(m.name),disabled:U.value.includes(m.name),class:"mr-2"},null,8,["id","checked","onUpdate:checked","disabled"]),n(e(k),{for:`permission-${m.name}`,class:"cursor-pointer"},{default:u(()=>[p(b(m.name)+" ",1),U.value.includes(m.name)?(d(),f("span",Ne," inherited ")):y("",!0)]),_:2},1032,["for"])]))),128))]),n(z,{message:e(s).errors.user_permissions},null,8,["message"])])]),t("div",Oe,[n(e(v),{type:"button",onClick:o[9]||(o[9]=()=>r("close")),variant:"outline"},{default:u(()=>o[17]||(o[17]=[p(" Cancel ")])),_:1}),n(e(v),{type:"submit",disabled:e(s).processing},{default:u(()=>[e(s).processing?(d(),w($,{key:0,class:"mr-2 h-4 w-4 animate-spin"})):y("",!0),p(" "+b(e(s).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)])])])}}}),Re={class:"w-full overflow-x-auto"},Me={class:"rounded-md border"},Be={class:"w-full caption-bottom text-sm"},He={class:"[&_tr:last-child]:border-0"},Xe={class:"p-4 align-middle font-medium"},Fe={class:"p-4 align-middle"},We={class:"p-4 align-middle text-right"},qe={class:"flex justify-end space-x-2"},Ge={key:0,class:"mt-6 flex justify-center"},Ie={class:"flex flex-wrap items-center gap-1 justify-center"},zs={__name:"TenantList",props:{tenants:{type:Object,default:()=>({data:[],links:[]})}},setup(g){const x=g,l=Array.isArray(x.tenants)?x.tenants:x.tenants.data||[],r=s=>{s&&M.get(s,{},{only:["tenants"]})};return(s,i)=>(d(),f("div",Re,[t("div",Me,[t("table",Be,[i[2]||(i[2]=t("thead",{class:"[&_tr]:border-b"},[t("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Company Name"),t("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground"},"Slug"),t("th",{class:"h-12 px-4 text-right pr-16 align-middle font-medium text-muted-foreground"},"Actions")])],-1)),t("tbody",He,[(d(!0),f(C,null,S(e(l),c=>(d(),f("tr",{key:c.id,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[t("td",Xe,b(c.name),1),t("td",Fe,b(c.slug),1),t("td",We,[t("div",qe,[n(e(v),{onClick:_=>s.$emit("edit",c),variant:"outline",size:"sm"},{default:u(()=>i[0]||(i[0]=[p(" Edit ")])),_:2},1032,["onClick"]),n(e(v),{onClick:_=>s.$emit("delete",c),variant:"destructive",size:"sm"},{default:u(()=>i[1]||(i[1]=[p(" Delete ")])),_:2},1032,["onClick"])])])]))),128))])])]),g.tenants.links?(d(),f("div",Ge,[t("nav",Ie,[(d(!0),f(C,null,S(g.tenants.links,c=>(d(),w(e(v),{key:c.label,onClick:_=>r(c.url),disabled:!c.url,variant:c.active?"default":"outline",size:"sm",class:"min-w-[40px]",innerHTML:c.label},null,8,["onClick","disabled","variant","innerHTML"]))),128))])])):y("",!0)]))}},Je={class:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50 p-4"},Ke={class:"bg-background p-6 rounded-lg shadow-xl w-full max-w-md overflow-y-auto max-h-[90vh] animate-in fade-in zoom-in-95 duration-200 border border-border"},Qe={class:"flex justify-between items-center mb-4"},Ye={class:"text-2xl font-bold text-foreground"},Ze={class:"space-y-2"},es={key:0,class:"space-y-2"},ss={class:"flex justify-end space-x-3 pt-4"},Ls=N({__name:"TenantForm",props:{tenant:{type:Object,default:null}},emits:["close","saved"],setup(g,{emit:x}){const l=g,r=x,s=D({name:l.tenant?l.tenant.name:"",slug:l.tenant?l.tenant.slug:""});B(()=>l.tenant,c=>{c?(s.name=c.name,s.slug=c.slug):(s.name="",s.slug="")},{immediate:!0});const i=()=>{l.tenant?s.put(route("admin.tenants.update",l.tenant),{onSuccess:()=>{r("saved")}}):s.post(route("admin.tenants.store"),{onSuccess:()=>{r("saved")}})};return(c,_)=>{const j=E("X"),U=E("Loader2");return d(),f("div",Je,[t("div",Ke,[t("div",Qe,[t("h2",Ye,b(g.tenant?"Edit Company":"Create Company"),1),n(e(v),{variant:"ghost",size:"icon",onClick:_[0]||(_[0]=()=>r("close"))},{default:u(()=>[n(j,{class:"h-5 w-5"})]),_:1})]),t("form",{onSubmit:H(i,["prevent"]),class:"space-y-4"},[t("div",Ze,[n(e(k),{for:"name"},{default:u(()=>_[4]||(_[4]=[p("Company Name")])),_:1}),n(e(L),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":_[1]||(_[1]=V=>e(s).name=V),placeholder:"Enter company name",class:"w-full"},null,8,["modelValue"]),n(z,{message:e(s).errors.name},null,8,["message"])]),g.tenant?(d(),f("div",es,[n(e(k),{for:"slug"},{default:u(()=>_[5]||(_[5]=[p("Slug")])),_:1}),n(e(L),{id:"slug",modelValue:e(s).slug,"onUpdate:modelValue":_[2]||(_[2]=V=>e(s).slug=V),placeholder:"Enter company slug",class:"w-full"},null,8,["modelValue"]),n(z,{message:e(s).errors.slug},null,8,["message"])])):y("",!0),t("div",ss,[n(e(v),{type:"button",onClick:_[3]||(_[3]=()=>r("close")),variant:"outline"},{default:u(()=>_[6]||(_[6]=[p(" Cancel ")])),_:1}),n(e(v),{type:"submit",disabled:e(s).processing},{default:u(()=>[e(s).processing?(d(),w(U,{key:0,class:"mr-2 h-4 w-4 animate-spin"})):y("",!0),p(" "+b(e(s).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)])])}}}),ts={class:"fixed inset-0 flex items-center justify-center z-50"},ns={class:"bg-background p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-sm sm:max-w-md md:max-w-lg overflow-y-auto max-h-[95vh] animate-in fade-in zoom-in-95 duration-200 border border-border"},ls={class:"flex justify-between items-center mb-4"},os={class:"text-xl sm:text-2xl font-bold text-foreground"},as={class:"space-y-2"},is={class:"space-y-2"},rs={class:"relative"},ds={class:"flex items-center space-x-2"},us={class:"h-48 sm:h-56 md:h-64 border rounded-md p-2 overflow-y-auto"},ms={class:"flex justify-end space-x-3 pt-4"},Vs=N({__name:"RoleForm",props:{role:{type:Object,default:null},permissions:{type:Array,default:()=>[]},isSuperAdmin:{type:Boolean,default:!1},tenantSlug:{type:String,default:null}},emits:["saved","close"],setup(g,{emit:x}){var V,P;const l=x,r=g,{tenantSlug:s}=r,i=D({name:r.role?r.role.name:"",permissions:((P=(V=r.role)==null?void 0:V.permissions)==null?void 0:P.map(h=>h.name))||[]}),c=O(""),_=T(()=>{if(!c.value.trim())return r.permissions;const h=c.value.toLowerCase();return r.permissions.filter(a=>a.name.toLowerCase().includes(h))});B(()=>r.role,h=>{var a;h?(i.name=h.name,i.permissions=((a=h.permissions)==null?void 0:a.map(o=>o.name))||[]):(i.name="",i.permissions=[])},{immediate:!0});const j=()=>{r.role?r.isSuperAdmin?i.put(route("admin.roles.update",r.role.id),{onSuccess:()=>{l("saved")}}):i.put(route("roles.update",[s,r.role.id]),{onSuccess:()=>{l("saved")}}):r.isSuperAdmin?i.post(route("admin.roles.store"),{onSuccess:()=>{l("saved")}}):i.post(route("roles.store",s),{onSuccess:()=>{l("saved")}})},U=h=>{const a=i.permissions.indexOf(h);a===-1?i.permissions.push(h):i.permissions.splice(a,1)};return(h,a)=>{const o=E("X"),A=E("Loader2");return d(),f("div",ts,[t("div",ns,[t("div",ls,[t("h2",os,b(g.role?"Edit Role":"Create Role"),1),n(e(v),{variant:"ghost",size:"icon",onClick:a[0]||(a[0]=()=>l("close"))},{default:u(()=>[n(o,{class:"h-5 w-5"})]),_:1})]),t("form",{onSubmit:H(j,["prevent"]),class:"space-y-4"},[t("div",as,[n(e(k),{for:"name"},{default:u(()=>a[5]||(a[5]=[p("Role Name")])),_:1}),n(e(L),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":a[1]||(a[1]=$=>e(i).name=$),placeholder:"Enter role name",class:"w-full"},null,8,["modelValue"]),n(z,{message:e(i).errors.name},null,8,["message"])]),t("div",is,[n(e(k),null,{default:u(()=>a[6]||(a[6]=[p("Permissions")])),_:1}),t("div",rs,[t("div",ds,[n(e(L),{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=$=>c.value=$),placeholder:"Search permissions...",class:"w-full"},null,8,["modelValue"]),c.value?(d(),w(e(v),{key:0,type:"button",variant:"ghost",size:"icon",onClick:a[3]||(a[3]=$=>c.value=""),class:"absolute right-2"},{default:u(()=>[n(o,{class:"h-4 w-4"})]),_:1})):y("",!0)])]),t("div",us,[(d(!0),f(C,null,S(_.value,$=>(d(),f("div",{key:$.id,class:"flex items-center py-1 px-2 hover:bg-muted/50 rounded transition-colors"},[n(e(R),{id:`permission-${$.name}`,checked:e(i).permissions.includes($.name),"onUpdate:checked":m=>U($.name),class:"mr-2"},null,8,["id","checked","onUpdate:checked"]),n(e(k),{for:`permission-${$.name}`,class:"cursor-pointer"},{default:u(()=>[p(b($.name),1)]),_:2},1032,["for"])]))),128))]),n(z,{message:e(i).errors.permissions},null,8,["message"])]),t("div",ms,[n(e(v),{type:"button",onClick:a[4]||(a[4]=()=>l("close")),variant:"outline"},{default:u(()=>a[7]||(a[7]=[p(" Cancel ")])),_:1}),n(e(v),{type:"submit",disabled:e(i).processing},{default:u(()=>[e(i).processing?(d(),w(A,{key:0,class:"mr-2 h-4 w-4 animate-spin"})):y("",!0),p(" "+b(e(i).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)])])}}}),cs={class:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50 p-4"},fs={class:"bg-background p-6 rounded-lg shadow-xl w-full max-w-md animate-in fade-in zoom-in-95 duration-200 border border-border"},ps={class:"flex flex-col space-y-4"},gs={class:"text-muted-foreground"},vs={class:"flex justify-end space-x-3 pt-2"},Us=N({__name:"ConfirmDeleteModal",props:{message:{type:String,default:"Are you sure you want to delete this item?"},deleteUrl:{type:String,required:!0},tenantSlug:{type:String,default:null}},emits:["cancel","confirmed"],setup(g,{emit:x}){const l=g,r=x,s=D({}),i=()=>{s.delete(l.deleteUrl,{onSuccess:()=>{r("confirmed")}})},c=()=>{r("cancel")};return(_,j)=>(d(),f("div",cs,[t("div",fs,[t("div",ps,[j[1]||(j[1]=t("h2",{class:"text-xl font-bold text-foreground"},"Confirm Deletion",-1)),t("p",gs,b(g.message),1),t("div",vs,[n(e(v),{type:"button",onClick:c,variant:"outline"},{default:u(()=>j[0]||(j[0]=[p(" Cancel ")])),_:1}),n(e(v),{type:"button",variant:"destructive",onClick:i,disabled:e(s).processing},{default:u(()=>[e(s).processing?(d(),w(e(K),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):y("",!0),p(" "+b(e(s).processing?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])])])])]))}});export{Cs as _,Ss as a,zs as b,js as c,Ls as d,Vs as e,Us as f};
