import{x as Me,a as St,W as xe,g as Bt}from"./vendor-vue-o4TX1eGc.js";import{_ as Et}from"./AppLayout.vue_vue_type_script_setup_true_lang-D9jrdhXX.js";import{d as Ze,r as S,c as R,w as Ge,A as $t,K as Vt,L as u,e as o,b as w,k as g,X as s,l as t,f as l,u as e,S as r,U as m,P as Ie,ak as At,D as Q,Y as J,M as D,N as I,bF as Ke,b2 as Ne,bg as Rt,bI as ht,O as Pt,n as qt,j as jt}from"./vendor-C-CW143M.js";import{_ as i}from"./Icon.vue_vue_type_script_setup_true_lang-B7IfTNIf.js";import{_ as ye,a as ke,b as q,c as $,d as _e,e as C}from"./TableRow.vue_vue_type_script_setup_true_lang-D19AmMrD.js";import{_ as b}from"./Button.vue_vue_type_script_setup_true_lang-B-CPTRto.js";import{_ as he}from"./Card.vue_vue_type_script_setup_true_lang-Cp4wUgFE.js";import{_ as Dt}from"./CardHeader.vue_vue_type_script_setup_true_lang-CNgbOXgy.js";import{_ as Ot}from"./CardTitle.vue_vue_type_script_setup_true_lang-BcA2pWrU.js";import{_ as Ce}from"./CardContent.vue_vue_type_script_setup_true_lang-DxPj8Tg7.js";import{_ as de,a as ie,b as ue}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DjSCH9m8.js";import{_ as me,a as fe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BSj40beh.js";import{_ as Ve}from"./DialogFooter.vue_vue_type_script_setup_true_lang-RSN6g_4k.js";import{_ as O}from"./Label.vue_vue_type_script_setup_true_lang-CZjK18aI.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-taOxs2kk.js";import{_ as Ue,a as Te,b as Fe}from"./AlertDescription.vue_vue_type_script_setup_true_lang-Bni7FoRm.js";import{_ as gt}from"./SortIndicator-DCv-tJVv.js";import{_ as Lt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{D as Ct}from"./app-ChvJRkE5.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-CmSxFldp.js";import"./vendor-ui-DUlj4Wsf.js";import"./useInitials-DzeGKvtI.js";import"./vendor-icons-Dyo-jBRF.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C-8K70bD.js";const Wt={class:"w-full pt-6 md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-1 space-y-6"},Qt={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},Yt={class:"flex items-center gap-3"},Ht={class:"flex flex-wrap gap-3"},Gt={class:"flex justify-between items-center"},Kt={class:"text-sm hidden sm:inline"},Zt={class:"flex flex-col gap-6"},Xt={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},Jt={class:"relative"},es={class:"relative"},ts={class:"overflow-x-auto"},ss={class:"flex items-center justify-center"},ls=["checked"],as={class:"flex items-center space-x-1"},ns={key:4,class:"ml-2"},rs={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},os={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ds={key:5,class:"ml-2 opacity-50"},is={class:"flex flex-col items-center justify-center text-muted-foreground"},us=["value"],ms={class:"flex space-x-2"},fs={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},ps={class:"flex items-center gap-4 text-sm text-muted-foreground"},vs={class:"flex items-center gap-1"},cs={class:"flex items-center gap-1"},xs={class:"relative"},gs=["value"],ws={class:"flex space-x-1"},bs={class:"flex items-center gap-2"},ys={key:0,class:"col-span-2 sm:col-span-1"},ks={class:"relative"},_s=["value"],hs={class:"col-span-2 sm:col-span-1"},Cs={class:"col-span-2 sm:col-span-1"},Ss={class:"relative"},$s={class:"col-span-2 sm:col-span-1"},Vs={class:"relative"},As={class:"col-span-2 sm:col-span-1"},Ds={class:"relative"},Os={class:"col-span-2 sm:col-span-1"},Ms={class:"col-span-2 sm:col-span-1"},Ns={class:"col-span-2 sm:col-span-1"},Is={class:"relative"},Us={class:"col-span-2 sm:col-span-1"},Ts={class:"relative"},Fs={class:"col-span-2 sm:col-span-1"},zs={class:"relative"},Bs={class:"col-span-2 sm:col-span-1"},Es={class:"relative"},Rs={class:"col-span-2 sm:col-span-1"},Ps={class:"col-span-2 sm:col-span-1"},qs={class:"col-span-2 sm:col-span-1"},js={class:"relative"},Ls={class:"col-span-2 mt-4 flex justify-end gap-3"},Ws={class:"flex items-center gap-2"},Qs={class:"flex-1 overflow-y-auto px-4 sm:px-6 py-4"},Ys={key:0},Hs={class:"space-y-4"},Gs={class:"flex flex-col items-center justify-center border-2 border-dashed rounded-lg p-8 bg-muted/20"},Ks={class:"cursor-pointer"},Zs=["disabled"],Xs={class:"flex items-center gap-2 text-sm text-muted-foreground"},Js=["href"],el={key:0,class:"flex items-center justify-center gap-2 p-4"},tl={key:1,class:"space-y-4"},sl={key:0,class:"rounded-lg border p-3"},ll={class:"flex items-center justify-between"},al={class:"text-xs text-muted-foreground"},nl={class:"mt-2 flex flex-wrap gap-2"},rl={class:"grid grid-cols-3 gap-4"},ol={class:"text-2xl font-bold"},dl={class:"text-2xl font-bold text-green-600"},il={class:"text-2xl font-bold text-red-600"},ul={key:2},ml={class:"flex items-center justify-between mb-3"},fl={class:"text-lg font-semibold text-red-600 flex items-center gap-2"},pl={class:"border rounded-lg overflow-hidden"},vl={class:"max-h-96 overflow-y-auto"},cl={class:"flex flex-wrap gap-x-3 gap-y-1"},xl={class:"font-medium text-foreground"},gl={key:0,class:"italic text-muted-foreground"},wl={class:"space-y-1"},bl={key:0,class:"text-xs text-muted-foreground"},yl={key:3},kl={class:"text-lg font-semibold text-green-600 flex items-center gap-2 mb-3"},_l={class:"border rounded-lg overflow-hidden"},hl={class:"flex flex-wrap gap-x-3 gap-y-1"},Cl={class:"font-medium"},Sl={key:0,class:"italic text-muted-foreground"},$l={class:"border-t p-4 flex justify-end gap-3"},Vl={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},Al=Ze({__name:"TrucksComponent",props:{entries:{},tenantSlug:{},SuperAdmin:{type:Boolean},tenants:{},perPage:{},permissions:{}},emits:["update:perPage"],setup(N,{emit:v}){const A=N,B=S({search:"",type:"",make:""}),P=S("truckid"),E=S("asc"),L=S(1),G=S(10),M=S(10),W=S([]),K=S(!1),Y=S(""),F=S(""),te=S(!1),ne=S(!1),re=S(!1),z=S(null),ge=S(!1),ee=S(!1),k=Me({id:null,truckid:null,type:"daycab",make:"international",fuel:"diesel",license:null,vin:"",tenant_id:A.SuperAdmin?"":null,status:"active",inspection_status:"good",inspection_expiry_date:new Date().toISOString().split("T")[0]});Me({csv_file:null});const y=S(null),we=St(),pe=S(!1),U=S(null),_=S(!1),c=S(!1),h=R(()=>A.entries.filter(x=>{var n,f;return!(B.value.search&&!String(x.truckid).includes(B.value.search)&&!(x.vin||"").toLowerCase().includes(B.value.search.toLowerCase())||B.value.type&&((n=x.type)==null?void 0:n.toLowerCase())!=B.value.type||B.value.make&&((f=x.make)==null?void 0:f.toLowerCase())!=B.value.make)})),Z=R(()=>[...h.value].sort((x,n)=>{let f=x[P.value],T=n[P.value];return f==null?1:T==null?-1:(typeof f=="string"&&(f=f.toLowerCase(),T=T.toLowerCase()),f<T?E.value==="asc"?-1:1:f>T?E.value==="asc"?1:-1:0)})),j=R(()=>Math.ceil(Z.value.length/G.value)),le=R(()=>{const x=(L.value-1)*G.value,n=x+G.value;return Z.value.slice(x,n)}),Xe=R(()=>le.value.length>0&&le.value.every(x=>W.value.includes(x.id))),ze=["truckid","type","make","fuel","license","vin","inspection_status","inspection_expiry_date","status"];Ge(Y,x=>x&&setTimeout(()=>Y.value="",5e3)),Ge(G,x=>{M.value=x});function Be(x){return x.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function Je(x){return x?new Date(x+"T00:00:00").toLocaleDateString():"—"}function Ae(x,n){if(n==="inspection_status")return x.inspection_status==="good"?"Good":"Expired";if(n==="inspection_expiry_date")return Je(x[n]);if(n==="fuel"&&x.fuel==="cng")return"CNG";const f=x[n];return typeof f=="string"?f.charAt(0).toUpperCase()+f.slice(1):f}const De=()=>{L.value=1};function et(){B.value={search:"",type:"",make:""},De()}function Re(x){P.value===x?E.value=E.value==="asc"?"desc":"asc":(P.value=x,E.value="asc")}const tt=()=>{G.value=M.value,De()},Pe=x=>{x>=1&&x<=j.value&&(L.value=x)};function st(x){x.target.checked?le.value.forEach(f=>{W.value.includes(f.id)||W.value.push(f.id)}):W.value=W.value.filter(f=>!le.value.some(T=>T.id===f))}function lt(){k.reset(),k.clearErrors(),k.id=null,te.value=!0}function at(x){k.reset(),k.clearErrors(),k.id=x.id,k.truckid=x.truckid,k.type=x.type?x.type.toLowerCase():"",k.make=x.make?x.make.toLowerCase():"",k.fuel=x.fuel,k.license=x.license,k.vin=x.vin,k.status=x.status,k.tenant_id=x.tenant_id,k.inspection_status=x.inspection_status||"good",k.inspection_expiry_date=x.inspection_expiry_date||new Date().toISOString().split("T")[0],te.value=!0}function nt(){te.value=!1}function We(){const x={...k.data(),truckid:Number(k.truckid),license:Number(k.license)},n=k.id?"put":"post",f=k.id?A.SuperAdmin?route("truck.update.admin",[k.id]):route("truck.update",[A.tenantSlug,k.id]):route(A.SuperAdmin?"truck.store.admin":"truck.store",{tenantSlug:A.tenantSlug});ge.value=!0,k[n](f,{data:x,onSuccess:()=>{Y.value=k.id?"Truck updated.":"Truck created.",nt()},onError:()=>F.value="Save failed",onFinish:()=>ge.value=!1})}function Ee(x){z.value=x,ne.value=!0}function rt(){if(!z.value)return;const x=A.SuperAdmin?route("truck.destroy.admin",[z.value.id]):route("truck.destroy",[A.tenantSlug,z.value.id]);k.delete(x,{onSuccess:()=>{Y.value="Deleted successfully",ne.value=!1}})}function ot(){W.value.length&&(re.value=!0)}function dt(){const x=route(A.SuperAdmin?"truck.destroyBulk.admin":"truck.destroyBulk",{tenantSlug:A.tenantSlug});Me({ids:W.value}).delete(x,{onSuccess:()=>{Y.value=`${W.value.length} deleted`,W.value=[],re.value=!1}})}function it(){var x,n;if(!le.value.length){F.value="No data to export";return}(x=y.value)==null||x.setAttribute("action",route(A.SuperAdmin?"truck.export.admin":"truck.export",{tenantSlug:A.tenantSlug})),(n=y.value)==null||n.submit()}const ut=R(()=>"/storage/upload-data-temps/Trucks Template.csv");$t(()=>{const x=n=>{K.value&&!n.target.closest(".relative")&&(K.value=!1)};document.addEventListener("click",x),Vt(()=>document.removeEventListener("click",x))});const mt=R(()=>{if(j.value<=7)return Array.from({length:j.value},(T,Oe)=>Oe+1);const x=[];x.push(1),L.value>3&&x.push("...");const n=Math.max(2,L.value-1),f=Math.min(j.value-1,L.value+1);for(let T=n;T<=f;T++)x.push(T);return L.value<j.value-2&&x.push("..."),j.value>1&&x.push(j.value),x}),oe=R(()=>A.permissions.map(x=>x.name));function ft(x){var Oe;const n=(Oe=x.target.files)==null?void 0:Oe[0];if(!n)return;_.value=!0;const f=new FormData;f.append("file",n);const T=A.SuperAdmin?route("truck.validateImport.admin"):route("truck.validateImport",{tenantSlug:A.tenantSlug});xe.post(T,f,{forceFormData:!0,preserveScroll:!0,onFinish:()=>{_.value=!1,x.target.value=""},onError:()=>{_.value=!1,F.value="Failed to validate CSV file",x.target.value=""}})}function pt(){var n;if(!U.value||U.value.header_error||(((n=U.value.summary)==null?void 0:n.invalid)??0)>0)return;c.value=!0;const x=A.SuperAdmin?route("truck.confirmImport.admin"):route("truck.confirmImport",{tenantSlug:A.tenantSlug});xe.post(x,{},{preserveScroll:!0,onSuccess:()=>{var f;Y.value=`Successfully imported ${((f=U.value.summary)==null?void 0:f.valid)??0} rows`,Qe()},onError:()=>{F.value="Import failed"},onFinish:()=>{c.value=!1}})}function vt(){const x=A.SuperAdmin?route("truck.downloadErrorReport.admin"):route("truck.downloadErrorReport",{tenantSlug:A.tenantSlug});window.location.href=x}function Qe(){pe.value=!1,U.value=null,_.value=!1,c.value=!1}return Ge(()=>{var x;return(x=we.props.flash)==null?void 0:x.importValidation},x=>{x&&(x.results&&(U.value=x.results,x.header_error&&(U.value.header_error=x.header_error),pe.value=!0),x.message&&(F.value=x.message))},{immediate:!0}),(x,n)=>(o(),u("div",Wt,[Y.value?(o(),w(e(Fe),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:l(()=>[t(e(Ue),{class:"flex items-center gap-2"},{default:l(()=>[t(i,{name:"check_circle",class:"h-5 w-5 text-green-500"}),n[30]||(n[30]=r(" Success "))]),_:1}),t(e(Te),null,{default:l(()=>[r(m(Y.value),1)]),_:1})]),_:1})):g("",!0),F.value?(o(),w(e(Fe),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:l(()=>[t(e(Ue),{class:"flex items-center gap-2"},{default:l(()=>[t(i,{name:"alert_circle",class:"h-5 w-5"}),n[31]||(n[31]=r(" Error "))]),_:1}),t(e(Te),null,{default:l(()=>[r(m(F.value),1)]),_:1})]),_:1})):g("",!0),s("div",Qt,[s("div",Yt,[t(i,{name:"truck",class:"h-6 w-6 text-primary hidden sm:block"}),n[32]||(n[32]=s("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"}," Truck Management ",-1))]),s("div",Ht,[oe.value.includes("trucks.create")?(o(),w(e(b),{key:0,onClick:lt,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),n[33]||(n[33]=r(" Create New Truck "))]),_:1})):g("",!0),W.value.length&&oe.value.includes("trucks.delete")?(o(),w(e(b),{key:1,onClick:ot,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),r(" Delete Selected ("+m(W.value.length)+") ",1)]),_:1})):g("",!0),oe.value.includes("trucks.import")?(o(),w(e(b),{key:2,onClick:n[0]||(n[0]=f=>pe.value=!0),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),n[34]||(n[34]=r(" Import CSV "))]),_:1})):g("",!0),oe.value.includes("trucks.export")?(o(),w(e(b),{key:3,onClick:Ie(it,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),n[35]||(n[35]=r(" Download CSV "))]),_:1})):g("",!0)])]),t(e(he),{class:"shadow-sm border"},{default:l(()=>[t(e(Dt),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:l(()=>[s("div",Gt,[t(e(Ot),{class:"text-lg md:text-xl lg:text-2xl flex items-center gap-2"},{default:l(()=>[t(i,{name:"filter",class:"h-5 w-5 text-muted-foreground"}),n[36]||(n[36]=r(" Filters "))]),_:1}),t(e(b),{variant:"ghost",size:"sm",onClick:n[1]||(n[1]=f=>ee.value=!ee.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:l(()=>[s("span",Kt,m(ee.value?"Hide Filters":"Show Filters"),1),t(i,{name:ee.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(At,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:l(()=>[ee.value?(o(),w(e(Ce),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:l(()=>[s("div",Zt,[s("div",Xt,[s("div",null,[t(e(O),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:l(()=>[t(i,{name:"search",class:"h-4 w-4 text-muted-foreground"}),n[37]||(n[37]=r(" Search "))]),_:1}),t(e(H),{id:"search",type:"text",modelValue:B.value.search,"onUpdate:modelValue":n[2]||(n[2]=f=>B.value.search=f),placeholder:"Search by truck ID or VIN...",onInput:De,class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),s("div",null,[t(e(O),{for:"type",class:"flex items-center gap-1.5 mb-2"},{default:l(()=>[t(i,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[38]||(n[38]=r(" Type "))]),_:1}),s("div",Jt,[Q(s("select",{id:"type","onUpdate:modelValue":n[3]||(n[3]=f=>B.value.type=f),onChange:De,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[39]||(n[39]=[s("option",{value:""},"All Types",-1),s("option",{value:"daycab"},"Daycab",-1),s("option",{value:"sleepercab"},"Sleepercab",-1)]),544),[[J,B.value.type]]),n[40]||(n[40]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",null,[t(e(O),{for:"make",class:"flex items-center gap-1.5 mb-2"},{default:l(()=>[t(i,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[41]||(n[41]=r(" Make "))]),_:1}),s("div",es,[Q(s("select",{id:"make","onUpdate:modelValue":n[4]||(n[4]=f=>B.value.make=f),onChange:De,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[42]||(n[42]=[s("option",{value:""},"All Makes",-1),s("option",{value:"international"},"International",-1),s("option",{value:"kenworth"},"Kenworth",-1),s("option",{value:"peterbilt"},"Peterbilt",-1),s("option",{value:"volvo"},"Volvo",-1),s("option",{value:"freightliner"},"Freightliner",-1)]),544),[[J,B.value.make]]),n[43]||(n[43]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),t(e(b),{onClick:et,variant:"ghost",size:"sm",class:"self-start"},{default:l(()=>[t(i,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),n[44]||(n[44]=r(" Reset Filters "))]),_:1})])]),_:1})):g("",!0)]),_:1})]),_:1}),t(e(he),{class:"mx-auto max-w-[90vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:l(()=>[t(e(Ce),{class:"p-0"},{default:l(()=>[s("div",ts,[t(e(ye),{class:"relative h-[500px] overflow-auto"},{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(q),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:l(()=>[oe.value.includes("trucks.delete")?(o(),w(e($),{key:0,class:"w-12"},{default:l(()=>[s("div",ss,[s("input",{type:"checkbox",checked:Xe.value,onChange:st,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,ls)])]),_:1})):g("",!0),x.SuperAdmin?(o(),w(e($),{key:1,class:"font-semibold"},{default:l(()=>n[45]||(n[45]=[r("Company")])),_:1})):g("",!0),(o(),u(D,null,I(ze,f=>t(e($),{key:f,onClick:T=>Re(f),class:"cursor-pointer font-semibold"},{default:l(()=>[s("div",as,[f==="inspection_status"?(o(),u(D,{key:0},[r("Annual Inspection Status")],64)):f==="inspection_expiry_date"?(o(),u(D,{key:1},[r("Annual Inspection Expiration Date")],64)):f==="status"?(o(),u(D,{key:2},[r("Status")],64)):(o(),u(D,{key:3},[r(m(Be(f)),1)],64)),P.value===f?(o(),u("div",ns,[E.value==="asc"?(o(),u("svg",rs,n[46]||(n[46]=[s("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(o(),u("svg",os,n[47]||(n[47]=[s("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(o(),u("div",ds,n[48]||(n[48]=[s("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M8 10l4-4 4 4"}),s("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),oe.value.includes("trucks.update")||oe.value.includes("trucks.delete")?(o(),w(e($),{key:2,class:"font-semibold"},{default:l(()=>n[49]||(n[49]=[r("Actions")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[le.value.length?g("",!0):(o(),w(e(q),{key:0},{default:l(()=>[t(e(C),{colspan:x.SuperAdmin?ze.length+3:ze.length+2,class:"py-8 text-center"},{default:l(()=>[s("div",is,[t(i,{name:"search_x",class:"h-12 w-12 mb-2 opacity-30"}),n[50]||(n[50]=s("p",null,"No trucks found matching your criteria.",-1))])]),_:1},8,["colspan"])]),_:1})),(o(!0),u(D,null,I(le.value,f=>(o(),w(e(q),{key:f.id,class:"hover:bg-muted/50"},{default:l(()=>[oe.value.includes("trucks.delete")?(o(),w(e(C),{key:0,class:"text-center"},{default:l(()=>[Q(s("input",{type:"checkbox",value:f.id,"onUpdate:modelValue":n[5]||(n[5]=T=>W.value=T),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,us),[[Ke,W.value]])]),_:2},1024)):g("",!0),x.SuperAdmin?(o(),w(e(C),{key:1},{default:l(()=>{var T;return[r(m(((T=f.tenant)==null?void 0:T.name)||"—"),1)]}),_:2},1024)):g("",!0),(o(),u(D,null,I(ze,T=>t(e(C),{key:T,class:"whitespace-nowrap"},{default:l(()=>[T==="status"?(o(),u("span",{key:0,class:Ne({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":f[T]==="active","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":f[T]==="inactive","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":f[T]==="Returned to AMZ"})},m(Ae(f,T)),3)):T==="inspection_status"?(o(),u("span",{key:1,class:Ne({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":f[T]==="good","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":f[T]==="expired"})},m(f[T]==="good"?"Good":"Expired"),3)):(o(),u(D,{key:2},[r(m(Ae(f,T)),1)],64))]),_:2},1024)),64)),oe.value.includes("trucks.delete")||oe.value.includes("trucks.update")?(o(),w(e(C),{key:2},{default:l(()=>[s("div",ms,[oe.value.includes("trucks.update")?(o(),w(e(b),{key:0,variant:"warning",size:"sm",onClick:T=>at(f),class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"pencil",class:"mr-1 h-4 w-4"}),n[51]||(n[51]=r(" Edit "))]),_:2},1032,["onClick"])):g("",!0),oe.value.includes("trucks.delete")?(o(),w(e(b),{key:1,variant:"destructive",size:"sm",onClick:T=>Ee(f),class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"trash",class:"mr-1 h-4 w-4"}),n[52]||(n[52]=r(" Delete "))]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),s("div",fs,[s("div",ps,[s("span",vs,[t(i,{name:"list",class:"h-4 w-4"}),r(" Showing "+m(le.value.length)+" of "+m(Z.value.length)+" entries ",1)]),s("span",cs,[t(i,{name:"layout-grid",class:"h-4 w-4"}),n[53]||(n[53]=r(" Per page: "))]),s("div",xs,[Q(s("select",{"onUpdate:modelValue":n[6]||(n[6]=f=>M.value=f),onChange:tt,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(o(),u(D,null,I([10,25,50,100],f=>s("option",{key:f,value:f},m(f),9,gs)),64))],544),[[J,M.value,void 0,{number:!0}]]),n[54]||(n[54]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",ws,[t(e(b),{size:"sm",variant:"ghost",onClick:n[7]||(n[7]=f=>Pe(L.value-1)),disabled:L.value===1,class:"flex items-center gap-1"},{default:l(()=>[t(i,{name:"chevron-left",class:"h-4 w-4"}),n[55]||(n[55]=r(" Prev "))]),_:1},8,["disabled"]),(o(!0),u(D,null,I(mt.value,f=>(o(),w(e(b),{key:f,size:"sm",variant:"ghost",onClick:T=>Pe(f),class:Ne({"border-primary bg-primary/10 text-primary font-medium":f===L.value})},{default:l(()=>[r(m(f),1)]),_:2},1032,["onClick","class"]))),128)),t(e(b),{size:"sm",variant:"ghost",onClick:n[8]||(n[8]=f=>Pe(L.value+1)),disabled:L.value===j.value,class:"flex items-center gap-1"},{default:l(()=>[n[56]||(n[56]=r(" Next ")),t(i,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})]),_:1}),t(e(ue),{open:te.value,"onUpdate:open":n[24]||(n[24]=f=>te.value=f)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:l(()=>[t(e(me),{class:"px-4 sm:px-6 border-b pb-4"},{default:l(()=>[s("div",bs,[t(i,{name:e(k).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(fe),{class:"text-lg sm:text-xl"},{default:l(()=>[r(m(e(k).id?"Edit Truck":"Create Truck"),1)]),_:1})]),t(e(ie),{class:"text-xs sm:text-sm mt-1"},{default:l(()=>[r("Fill in the details to "+m(e(k).id?"update":"create")+" a truck.",1)]),_:1})]),_:1}),s("form",{onSubmit:Ie(We,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-4 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-5 sm:p-6"},[n[90]||(n[90]=s("div",{class:"col-span-2 mb-2 border-b pb-2"},[s("h3",{class:"text-sm font-medium text-muted-foreground"},"Basic Information")],-1)),x.SuperAdmin?(o(),u("div",ys,[t(e(O),{for:"tenant",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"building",class:"h-4 w-4 text-muted-foreground"}),n[57]||(n[57]=r(" Company Name "))]),_:1}),s("div",ks,[Q(s("select",{id:"tenant","onUpdate:modelValue":n[9]||(n[9]=f=>e(k).tenant_id=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[n[58]||(n[58]=s("option",{value:""},"Select Company",-1)),(o(!0),u(D,null,I(x.tenants,f=>(o(),u("option",{key:f.id,value:f.id},m(f.name),9,_s))),128))],512),[[J,e(k).tenant_id]]),n[59]||(n[59]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):g("",!0),s("div",hs,[t(e(O),{for:"truckid",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),n[60]||(n[60]=r(" Truck ID "))]),_:1}),t(e(H),{id:"truckid",modelValue:e(k).truckid,"onUpdate:modelValue":n[10]||(n[10]=f=>e(k).truckid=f),modelModifiers:{number:!0},type:"number",required:"",placeholder:"Enter truck ID number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),s("div",Cs,[t(e(O),{for:"type",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[61]||(n[61]=r(" Type "))]),_:1}),s("div",Ss,[Q(s("select",{id:"type","onUpdate:modelValue":n[11]||(n[11]=f=>e(k).type=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[62]||(n[62]=[s("option",{value:"daycab"},"Daycab",-1),s("option",{value:"sleepercab"},"Sleepercab",-1)]),512),[[J,e(k).type]]),n[63]||(n[63]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",$s,[t(e(O),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[64]||(n[64]=r(" Make "))]),_:1}),s("div",Vs,[Q(s("select",{id:"make","onUpdate:modelValue":n[12]||(n[12]=f=>e(k).make=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[65]||(n[65]=[s("option",{value:"international"},"International",-1),s("option",{value:"kenworth"},"Kenworth",-1),s("option",{value:"peterbilt"},"Peterbilt",-1),s("option",{value:"volvo"},"Volvo",-1),s("option",{value:"freightliner"},"Freightliner",-1)]),512),[[J,e(k).make]]),n[66]||(n[66]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[91]||(n[91]=s("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[s("h3",{class:"text-sm font-medium text-muted-foreground"}," Additional Information ")],-1)),s("div",As,[t(e(O),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[67]||(n[67]=r(" Fuel "))]),_:1}),s("div",Ds,[Q(s("select",{id:"fuel","onUpdate:modelValue":n[13]||(n[13]=f=>e(k).fuel=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[68]||(n[68]=[s("option",{value:"diesel"},"Diesel",-1),s("option",{value:"cng"},"CNG",-1)]),512),[[J,e(k).fuel]]),n[69]||(n[69]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",Os,[t(e(O),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[70]||(n[70]=r(" License "))]),_:1}),t(e(H),{id:"license",modelValue:e(k).license,"onUpdate:modelValue":n[14]||(n[14]=f=>e(k).license=f),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),s("div",Ms,[t(e(O),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[71]||(n[71]=r(" VIN "))]),_:1}),t(e(H),{id:"vin",modelValue:e(k).vin,"onUpdate:modelValue":n[15]||(n[15]=f=>e(k).vin=f),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[92]||(n[92]=s("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[s("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),s("div",Ns,[t(e(O),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[72]||(n[72]=r(" Annual Inspection Status "))]),_:1}),s("div",Is,[Q(s("select",{id:"inspection_status","onUpdate:modelValue":n[16]||(n[16]=f=>e(k).inspection_status=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[73]||(n[73]=[s("option",{value:"good"},"Good",-1),s("option",{value:"expired"},"Expired",-1)]),512),[[J,e(k).inspection_status]]),n[74]||(n[74]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",Us,[t(e(O),{for:"status",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),n[75]||(n[75]=r(" Status "))]),_:1}),s("div",Ts,[Q(s("select",{id:"status","onUpdate:modelValue":n[17]||(n[17]=f=>e(k).status=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[76]||(n[76]=[s("option",{value:"active"},"Active",-1),s("option",{value:"inactive"},"Inactive",-1),s("option",{value:"Returned to AMZ"},"Returned to AMZ",-1)]),512),[[J,e(k).status]]),n[77]||(n[77]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",Fs,[t(e(O),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[78]||(n[78]=r(" Make "))]),_:1}),s("div",zs,[Q(s("select",{id:"make","onUpdate:modelValue":n[18]||(n[18]=f=>e(k).make=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[79]||(n[79]=[s("option",{value:"international"},"International",-1),s("option",{value:"kenworth"},"Kenworth",-1),s("option",{value:"peterbilt"},"Peterbilt",-1),s("option",{value:"volvo"},"Volvo",-1),s("option",{value:"freightliner"},"Freightliner",-1)]),512),[[J,e(k).make]]),n[80]||(n[80]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[93]||(n[93]=s("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[s("h3",{class:"text-sm font-medium text-muted-foreground"}," Additional Information ")],-1)),s("div",Bs,[t(e(O),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[81]||(n[81]=r(" Fuel "))]),_:1}),s("div",Es,[Q(s("select",{id:"fuel","onUpdate:modelValue":n[19]||(n[19]=f=>e(k).fuel=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[82]||(n[82]=[s("option",{value:"diesel"},"Diesel",-1),s("option",{value:"cng"},"CNG",-1)]),512),[[J,e(k).fuel]]),n[83]||(n[83]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",Rs,[t(e(O),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[84]||(n[84]=r(" License "))]),_:1}),t(e(H),{id:"license",modelValue:e(k).license,"onUpdate:modelValue":n[20]||(n[20]=f=>e(k).license=f),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),s("div",Ps,[t(e(O),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[85]||(n[85]=r(" VIN "))]),_:1}),t(e(H),{id:"vin",modelValue:e(k).vin,"onUpdate:modelValue":n[21]||(n[21]=f=>e(k).vin=f),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[94]||(n[94]=s("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[s("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),s("div",qs,[t(e(O),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:l(()=>[t(i,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[86]||(n[86]=r(" Annual Inspection Status "))]),_:1}),s("div",js,[Q(s("select",{id:"inspection_status","onUpdate:modelValue":n[22]||(n[22]=f=>e(k).inspection_status=f),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[87]||(n[87]=[s("option",{value:"good"},"Good",-1),s("option",{value:"expired"},"Expired",-1)]),512),[[J,e(k).inspection_status]]),n[88]||(n[88]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",Ls,[t(e(b),{type:"button",variant:"outline",onClick:n[23]||(n[23]=f=>te.value=!1),class:"transition-all hover:shadow-sm"},{default:l(()=>[t(i,{name:"x",class:"mr-2 h-4 w-4"}),n[89]||(n[89]=r(" Cancel "))]),_:1}),t(e(b),{type:"submit",variant:"default",class:"transition-all hover:shadow-sm"},{default:l(()=>[t(i,{name:e(k).id?"pencil":"plus",class:"mr-2 h-4 w-4"},null,8,["name"]),r(" "+m(e(k).id?"Update":"Create"),1)]),_:1})])],32)]),_:1})]),_:1},8,["open"]),t(e(ue),{open:ne.value,"onUpdate:open":n[26]||(n[26]=f=>ne.value=f)},{default:l(()=>[t(e(de),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(e(fe),null,{default:l(()=>n[95]||(n[95]=[r("Confirm Deletion")])),_:1}),t(e(ie),null,{default:l(()=>n[96]||(n[96]=[r("Are you sure you want to delete this truck? This action cannot be undone.")])),_:1})]),_:1}),t(e(Ve),{class:"mt-4"},{default:l(()=>[t(e(b),{variant:"outline",onClick:n[25]||(n[25]=f=>ne.value=!1)},{default:l(()=>n[97]||(n[97]=[r("Cancel")])),_:1}),t(e(b),{variant:"destructive",onClick:rt},{default:l(()=>n[98]||(n[98]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:re.value,"onUpdate:open":n[28]||(n[28]=f=>re.value=f)},{default:l(()=>[t(e(de),null,{default:l(()=>[t(e(me),null,{default:l(()=>[t(e(fe),null,{default:l(()=>n[99]||(n[99]=[r("Confirm Bulk Deletion")])),_:1}),t(e(ie),null,{default:l(()=>[r("Are you sure you want to delete "+m(W.value.length)+" trucks? This action cannot be undone.",1)]),_:1})]),_:1}),t(e(Ve),{class:"mt-4"},{default:l(()=>[t(e(b),{variant:"outline",onClick:n[27]||(n[27]=f=>re.value=!1)},{default:l(()=>n[100]||(n[100]=[r("Cancel")])),_:1}),t(e(b),{variant:"destructive",onClick:dt},{default:l(()=>n[101]||(n[101]=[r("Delete Selected")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:pe.value,"onUpdate:open":n[29]||(n[29]=f=>pe.value=f)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-5xl max-h-[90vh] overflow-hidden flex flex-col"},{default:l(()=>{var f,T,Oe;return[t(e(me),{class:"px-4 sm:px-6 border-b pb-3"},{default:l(()=>[s("div",Ws,[t(i,{name:"upload",class:"h-5 w-5 text-primary"}),t(e(fe),{class:"text-lg sm:text-xl font-semibold"},{default:l(()=>n[102]||(n[102]=[r(" Import Trucks ")])),_:1})]),t(e(ie),{class:"text-xs sm:text-sm mt-1 text-muted-foreground"},{default:l(()=>n[103]||(n[103]=[r(" Upload a CSV file to import trucks. The file will be validated before import. ")])),_:1})]),_:1}),s("div",Qs,[U.value?(o(),u("div",tl,[(f=U.value.headers)!=null&&f.length?(o(),u("div",sl,[s("div",ll,[n[107]||(n[107]=s("div",{class:"text-sm font-semibold"},"CSV Headers",-1)),s("div",al,m(U.value.headers.length)+" columns ",1)]),s("div",nl,[(o(!0),u(D,null,I(U.value.headers,se=>(o(),u("span",{key:se,class:"rounded-full bg-muted px-2 py-0.5 text-xs"},m(se),1))),128))])])):g("",!0),s("div",rl,[t(e(he),{class:"border-2"},{default:l(()=>[t(e(Ce),{class:"p-4 text-center"},{default:l(()=>[s("div",ol,m(U.value.summary.total),1),n[108]||(n[108]=s("div",{class:"text-sm text-muted-foreground"},"Total Rows",-1))]),_:1})]),_:1}),t(e(he),{class:"border-2 border-green-500/50 bg-green-50 dark:bg-green-900/10"},{default:l(()=>[t(e(Ce),{class:"p-4 text-center"},{default:l(()=>[s("div",dl,m(U.value.summary.valid),1),n[109]||(n[109]=s("div",{class:"text-sm text-muted-foreground"},"Valid",-1))]),_:1})]),_:1}),t(e(he),{class:"border-2 border-red-500/50 bg-red-50 dark:bg-red-900/10"},{default:l(()=>[t(e(Ce),{class:"p-4 text-center"},{default:l(()=>[s("div",il,m(U.value.summary.invalid),1),n[110]||(n[110]=s("div",{class:"text-sm text-muted-foreground"},"Invalid",-1))]),_:1})]),_:1})]),U.value.header_error?(o(),w(e(Fe),{key:1,variant:"destructive"},{default:l(()=>[t(e(Ue),{class:"flex items-center gap-2"},{default:l(()=>[t(i,{name:"alert_circle",class:"h-5 w-5"}),n[111]||(n[111]=r(" Header Error "))]),_:1}),t(e(Te),null,{default:l(()=>[r(m(U.value.header_error),1)]),_:1})]),_:1})):g("",!0),(T=U.value.invalid)!=null&&T.length?(o(),u("div",ul,[s("div",ml,[s("h3",fl,[t(i,{name:"alert-triangle",class:"h-5 w-5"}),r(" Validation Errors ("+m(U.value.invalid.length)+") ",1)]),t(e(b),{onClick:vt,variant:"outline",size:"sm",class:"flex items-center gap-2"},{default:l(()=>[t(i,{name:"download",class:"h-4 w-4"}),n[112]||(n[112]=r(" Download Error Report "))]),_:1})]),s("div",pl,[s("div",vl,[t(e(ye),null,{default:l(()=>[t(e(ke),{class:"sticky top-0 bg-background"},{default:l(()=>[t(e(q),null,{default:l(()=>[t(e($),{class:"w-20"},{default:l(()=>n[113]||(n[113]=[r("Row #")])),_:1}),t(e($),null,{default:l(()=>n[114]||(n[114]=[r("Preview")])),_:1}),t(e($),null,{default:l(()=>n[115]||(n[115]=[r("Errors")])),_:1})]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[(o(!0),u(D,null,I(U.value.invalid,se=>(o(),w(e(q),{key:se.rowNumber,class:"hover:bg-muted/50"},{default:l(()=>[t(e(C),{class:"font-medium"},{default:l(()=>[r(m(se.rowNumber),1)]),_:2},1024),t(e(C),{class:"text-sm text-muted-foreground"},{default:l(()=>{var ve;return[s("div",cl,[(o(!0),u(D,null,I(se.preview||[],Se=>(o(),u("span",{key:Se.key,class:"whitespace-nowrap"},[s("span",xl,m(Se.label)+":",1),r(" "+m(Se.value),1)]))),128)),(ve=se.preview)!=null&&ve.length?g("",!0):(o(),u("span",gl,"—"))])]}),_:2},1024),t(e(C),null,{default:l(()=>{var ve;return[s("div",wl,[(o(!0),u(D,null,I(se.errors||[],(Se,ct)=>(o(),u("div",{key:ct,class:"text-xs text-red-600 flex items-start gap-1"},[t(i,{name:"x-circle",class:"h-3 w-3 mt-0.5 flex-shrink-0"}),s("span",null,m(Se),1)]))),128)),(ve=se.errors)!=null&&ve.length?g("",!0):(o(),u("div",bl," — "))])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):g("",!0),(Oe=U.value.valid)!=null&&Oe.length?(o(),u("div",yl,[s("h3",kl,[t(i,{name:"check-circle",class:"h-5 w-5"}),r(" Valid Rows ("+m(U.value.valid.length)+") ",1)]),n[118]||(n[118]=s("div",{class:"text-sm text-muted-foreground mb-2"}," Showing first 5 valid rows ",-1)),s("div",_l,[t(e(ye),null,{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(q),null,{default:l(()=>[t(e($),null,{default:l(()=>n[116]||(n[116]=[r("Row #")])),_:1}),t(e($),null,{default:l(()=>n[117]||(n[117]=[r("Preview")])),_:1})]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[(o(!0),u(D,null,I(U.value.valid.slice(0,5),se=>(o(),w(e(q),{key:se.rowNumber},{default:l(()=>[t(e(C),{class:"font-medium"},{default:l(()=>[r(m(se.rowNumber),1)]),_:2},1024),t(e(C),{class:"text-sm"},{default:l(()=>{var ve;return[s("div",hl,[(o(!0),u(D,null,I(se.preview||[],Se=>(o(),u("span",{key:Se.key,class:"whitespace-nowrap"},[s("span",Cl,m(Se.label)+":",1),r(" "+m(Se.value),1)]))),128)),(ve=se.preview)!=null&&ve.length?g("",!0):(o(),u("span",Sl,"—"))])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])):g("",!0)])):(o(),u("div",Ys,[s("div",Hs,[s("div",Gs,[t(i,{name:"file-spreadsheet",class:"h-12 w-12 text-muted-foreground mb-3"}),s("label",Ks,[n[104]||(n[104]=s("span",{class:"text-sm font-medium text-primary hover:underline"},"Choose CSV file",-1)),s("input",{type:"file",class:"hidden",onChange:ft,accept:".csv,.txt",disabled:_.value},null,40,Zs)]),n[105]||(n[105]=s("p",{class:"text-xs text-muted-foreground mt-2"},"or drag and drop",-1))]),s("div",Xs,[t(i,{name:"info",class:"h-4 w-4"}),s("a",{href:ut.value,download:"",class:"text-primary hover:underline"}," Download CSV Template ",8,Js)]),_.value?(o(),u("div",el,n[106]||(n[106]=[s("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"},null,-1),s("span",{class:"text-sm text-muted-foreground"},"Validating CSV file...",-1)]))):g("",!0)])]))]),s("div",$l,[t(e(b),{onClick:Qe,variant:"outline",disabled:c.value},{default:l(()=>n[119]||(n[119]=[r("Close")])),_:1},8,["disabled"]),U.value&&U.value.summary.valid>0?(o(),w(e(b),{key:0,onClick:pt,variant:"default",disabled:c.value||U.value.summary.invalid>0||!!U.value.header_error,class:"flex items-center gap-2"},{default:l(()=>[c.value?(o(),u("div",Vl)):(o(),w(i,{key:1,name:"check",class:"h-4 w-4"})),r(" "+m(c.value?"Importing...":`Import ${U.value.summary.valid} Rows`),1)]),_:1},8,["disabled"])):g("",!0)])]}),_:1})]),_:1},8,["open"]),s("form",{ref_key:"exportForm",ref:y,method:"GET",class:"hidden"},null,512)]))}}),Dl={class:"w-full pt-6 md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-1 space-y-6"},Ol={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},Ml={class:"flex items-center gap-3"},Nl={class:"flex flex-wrap gap-3"},Il={key:2,class:"mb-6"},Ul={class:"rounded-md border-l-4 border-red-500 bg-red-50 p-4 shadow-sm dark:border-red-400 dark:bg-red-900/30"},Tl={class:"flex items-center"},Fl={class:"flex-shrink-0"},zl={class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-800"},Bl={class:"ml-3"},El={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Rl={class:"mt-2"},Pl={class:"flex flex-wrap gap-2"},ql={key:0,class:"text-sm text-muted-foreground mt-2"},jl={key:0},Ll={key:1},Wl={key:2},Ql={key:3,class:"ml-1"},Yl={key:3,class:"mx-auto mb-6 grid max-w-[95vw] grid-cols-1 gap-4 md:max-w-[64vw] md:grid-cols-2 lg:max-w-full"},Hl={class:"rounded-lg border bg-card shadow-sm"},Gl={class:"p-4"},Kl={class:"space-y-3"},Zl={class:"text-sm"},Xl={key:0,class:"text-center text-muted-foreground"},Jl={class:"rounded-lg border bg-card shadow-sm"},ea={class:"p-4"},ta={class:"space-y-3"},sa={class:"text-sm"},la={key:0,class:"text-center text-muted-foreground"},aa={key:4,class:"mx-auto mb-6 max-w-[90vw] overflow-x-auto rounded-lg border bg-card p-4 shadow-sm md:max-w-[64vw] lg:max-w-full"},na={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},ra={key:5,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card shadow-sm md:max-w-[64vw] lg:max-w-full"},oa={class:"flex items-center justify-between border-b p-4"},da={class:"flex items-start justify-between"},ia={class:"flex flex-col items-center space-y-1"},ua={key:0,class:"mb-6 rounded-lg border bg-card shadow-sm"},ma={class:"overflow-x-auto"},fa={class:"max-h-60 overflow-y-auto sm:max-h-80 md:max-h-96"},pa={key:6,class:"mb-6 rounded-lg border bg-card shadow-sm"},va={class:"flex justify-between items-center"},ca={class:"flex items-center gap-2"},xa={key:0,class:"ml-4 flex flex-wrap gap-2"},ga={class:"text-sm hidden sm:inline"},wa={class:"flex flex-col gap-6"},ba={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},ya={class:"relative"},ka=["value"],_a={class:"relative"},ha=["value"],Ca={class:"flex justify-end space-x-2"},Sa={class:"overflow-x-auto"},$a={class:"flex items-center justify-center"},Va=["checked"],Aa={class:"flex items-center space-x-1"},Da={class:"flex items-center space-x-1"},Oa={class:"flex items-center space-x-1"},Ma={class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},Na=["value"],Ia={key:0},Ua={key:0},Ta={key:1},Fa={class:"flex space-x-2"},za={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},Ba={class:"flex items-center gap-4 text-sm text-muted-foreground"},Ea={class:"flex items-center gap-1"},Ra={class:"flex items-center gap-1"},Pa={class:"relative"},qa=["value"],ja={class:"flex space-x-1"},La=["innerHTML"],Wa={key:8,class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},Qa={class:"flex items-center gap-2"},Ya={class:"max-h-[70vh] overflow-y-auto px-4 sm:px-6"},Ha={key:0,class:"col-span-2 mb-1"},Ga={class:"relative"},Ka=["value"],Za={class:"col-span-2 border-b pb-1 mb-2 flex items-center gap-2"},Xa={class:"grid grid-cols-2 gap-3 col-span-2"},Ja={class:"relative"},en=["value"],tn={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},sn={class:"col-span-2"},ln={class:"flex flex-wrap gap-1 mb-2 bg-muted/30 p-2 rounded-md min-h-[40px]"},an=["onClick"],nn={key:0,class:"text-muted-foreground text-sm italic"},rn={class:"relative"},on=["value"],dn={class:"col-span-2"},un={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},mn={class:"grid grid-cols-2 gap-3 col-span-2"},fn={class:"relative"},pn=["value"],vn={class:"relative"},cn=["value"],xn={class:"relative"},gn={class:"grid grid-cols-2 gap-3 col-span-2"},wn={class:"relative"},bn={class:"flex items-center space-x-2"},yn={key:1,class:"col-span-2"},kn={class:"border-b pb-1 mb-2 mt-1 flex items-center gap-2"},_n={class:"flex items-center space-x-2"},hn={key:0,class:"mt-2"},Cn={class:"space-y-4 sm:space-y-6"},Sn={class:"space-y-1 sm:space-y-2"},$n={class:"rounded-md border"},Vn={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},An={key:0,class:"ml-1 text-xs text-red-500"},Dn={class:"flex space-x-1 sm:space-x-2"},On={class:"space-y-4 sm:space-y-6"},Mn={class:"space-y-1 sm:space-y-2"},Nn={class:"overflow-hidden rounded-md border"},In={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Un={key:0,class:"ml-1 text-xs text-red-500"},Tn={class:"flex space-x-1 sm:space-x-2"},Fn={class:"space-y-4 sm:space-y-6"},zn={class:"space-y-1 sm:space-y-2"},Bn={class:"overflow-hidden rounded-md border"},En={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Rn={key:0,class:"ml-1 text-xs text-red-500"},Pn={class:"flex space-x-1 sm:space-x-2"},qn={class:"max-h-[60vh] overflow-x-auto overflow-y-auto"},jn={class:"flex items-center gap-2"},Ln={key:1,class:"py-8 text-center text-muted-foreground"},Wn={class:"flex items-center gap-2"},Qn={class:"flex-1 overflow-y-auto px-4 sm:px-6 py-4"},Yn={key:0},Hn={class:"space-y-4"},Gn={class:"flex flex-col items-center justify-center border-2 border-dashed rounded-lg p-8 bg-muted/20"},Kn={class:"cursor-pointer"},Zn=["disabled"],Xn={class:"flex items-center gap-2 text-sm text-muted-foreground"},Jn={key:0,class:"flex items-center justify-center gap-2 p-4"},er={key:1,class:"space-y-4"},tr={key:0,class:"rounded-lg border p-3"},sr={class:"flex items-center justify-between"},lr={class:"text-xs text-muted-foreground"},ar={class:"mt-2 flex flex-wrap gap-2"},nr={class:"grid grid-cols-3 gap-4"},rr={class:"text-2xl font-bold"},or={class:"text-2xl font-bold text-green-600"},dr={class:"text-2xl font-bold text-red-600"},ir={key:2},ur={class:"flex items-center justify-between mb-3"},mr={class:"text-lg font-semibold text-red-600 flex items-center gap-2"},fr={class:"border rounded-lg overflow-hidden"},pr={class:"max-h-96 overflow-y-auto"},vr={class:"flex flex-wrap gap-x-3 gap-y-1"},cr={class:"font-medium text-foreground"},xr={class:"space-y-1"},gr={class:"space-y-1"},wr={key:0,class:"text-xs text-muted-foreground"},br={key:3},yr={class:"text-lg font-semibold text-green-600 flex items-center gap-2 mb-3"},kr={class:"border rounded-lg overflow-hidden"},_r={class:"flex flex-wrap gap-x-3 gap-y-1"},hr={class:"font-medium"},Cr={class:"border-t p-4 flex justify-end gap-3"},Sr={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},$r="/storage/upload-data-temps/Repair Orders Template.csv",Vr=Ze({__name:"RepairOrdersComponent",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({search:"",vendor_id:"",status_id:""})},perPage:{type:Number,default:10},openedComponent:{type:String,default:"trucks"},permissions:{type:Array,default:()=>[]},importValidation:{type:Object,default:null}},setup(N){const v=N,A=S({...v.filters,dateFilter:v.dateFilter}),B=S(v.perPage),P=S([]),E=S(!1),L=S(""),G=S(""),M=S(!1),W=S(!1),K=S(!1),Y=S(!1),F=S(!1),te=S(!1),ne=S(!1),re=S(!1),z=S(null),ge=S(!1),ee=S(!1),k=S("Create"),y=Me({id:null,tenant_id:v.SuperAdmin?"":null,ro_number:"",ro_open_date:"",ro_close_date:"",truck_id:null,vendor_id:null,wo_number:"",wo_status_id:null,invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),we=Me({concern:""}),pe=Me({vendor_name:""}),U=Me({name:""}),_=R(()=>v.SuperAdmin),c=R(()=>v.repairOrders.data.length>0),h=R(()=>c.value&&v.repairOrders.data.every(p=>P.value.includes(p.id))),Z=[{label:"Yesterday",value:"yesterday"},{label:"WTD",value:"current-week"},{label:"T6W",value:"6w"},{label:"Quarterly",value:"quarterly"}],j=p=>{if(!p)return"";const a=p.split("-");if(a.length!==3)return p;const[X,$e,d]=a;return`${Number($e)}/${Number(d)}/${X}`};function le(p){return p?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p):"$0.00"}function Xe(p){A.value.dateFilter=p,Be()}const ze=R(()=>{const p=z.value;return p?(p.invalid||[]).some(a=>(a.warnings||[]).length>0):!1});function Be(){const p=v.SuperAdmin?"repair_orders.index.admin":"repair_orders.index",a={...v.SuperAdmin?{}:{tenantSlug:v.tenantSlug},...A.value,perPage:B.value,dateFilter:A.value.dateFilter,openedComponent:"repairOrders"};xe.visit(route(p,a),{only:["repairOrders","filters","perPage","dateFilter","weekNumber","startWeekNumber","endWeekNumber","year","workOrdersByTruck","workOrderByAreasOfConcern","openedComponent","dateRange"]})}function Je(){A.value={...A.value,search:"",vendor_id:"",status_id:""},Be()}const Ae=S({column:"ro_number",direction:"asc"});function De(p){Ae.value.column===p?Ae.value.direction=Ae.value.direction==="asc"?"desc":"asc":Ae.value={column:p,direction:"asc"},Be()}function et(){Be()}function Re(p){if(p){const a=new URL(p),X=a.origin+a.pathname;xe.get(X,{...A.value,perPage:B.value,dateFilter:A.value.dateFilter,openedComponent:"repairOrders",page:a.searchParams.get("page")||1},{preserveScroll:!0})}}function tt(p){const a=p.target.checked;P.value=a?v.repairOrders.data.map(X=>X.id):[]}const Pe=St();function st(){if(!c.value){G.value="No data";return}window.location.href=v.tenantSlug?route("repair_orders.export",{tenantSlug:v.tenantSlug}):route("repair_orders.export.admin")}function lt(){y.reset(),k.value="Create",W.value=!0}function at(p){y.reset(),y.reset(),y.id=p.id,y.tenant_id=p.tenant_id,y.ro_number=p.ro_number,y.ro_open_date=p.ro_open_date,y.ro_close_date=p.ro_close_date||"",y.truck_id=p.truck_id,y.vendor_id=p.vendor_id,y.wo_number=p.wo_number,y.wo_status_id=p.wo_status_id,y.invoice=p.invoice||"",y.invoice_amount=p.invoice_amount||"",y.invoice_received=!!p.invoice_received,y.on_qs=p.on_qs||"no",y.qs_invoice_date=p.qs_invoice_date||"",y.disputed=!!p.disputed,y.dispute_outcome=p.dispute_outcome||"",y.repairs_made=p.repairs_made||"",y.area_of_concerns=[],p.areas_of_concern&&Array.isArray(p.areas_of_concern)&&(y.area_of_concerns=p.areas_of_concern.map(a=>a.id)),k.value="Update",W.value=!0}function nt(){y.reset(),W.value=!1}function We(){const p=k.value==="Update"?v.tenantSlug?route("repair_orders.update",[v.tenantSlug,y.id]):route("repair_orders.update.admin",y.id):v.tenantSlug?route("repair_orders.store",{tenantSlug:v.tenantSlug}):route("repair_orders.store.admin");y[k.value==="Update"?"put":"post"](p,{onSuccess:()=>{L.value=`${k.value}d!`,W.value=!1}})}let Ee=null;function rt(p){Ee=p,K.value=!0}function ot(){if(Ee===null)return;const p=v.tenantSlug?route("repair_orders.destroy",[v.tenantSlug,Ee]):route("repair_orders.destroy.admin",Ee);xe.delete(p,{onSuccess:()=>{L.value="Deleted",K.value=!1}})}function dt(){Y.value=!0}function it(){const p=v.tenantSlug?route("repair_orders.destroyBulk",{tenantSlug:v.tenantSlug}):route("repair_orders.destroyBulk.admin");Me({ids:P.value}).delete(p,{onSuccess:()=>{L.value=`${P.value.length} deleted`,P.value=[],Y.value=!1}})}function ut(){we.reset(),F.value=!0}function mt(){we.post(route("area_of_concerns.store.admin"),{onSuccess:()=>we.reset()})}function oe(p){xe.delete(route("area_of_concerns.destroy.admin",p))}function ft(p){xe.post(route("area_of_concerns.restore.admin",p))}function pt(){pe.reset(),te.value=!0}function vt(){pe.post(route("vendors.store.admin"),{onSuccess:()=>pe.reset()})}function Qe(p){xe.delete(route("vendors.destroy.admin",p))}function x(p){xe.post(route("vendors.restore.admin",p))}function n(){U.reset(),ne.value=!0}function f(){U.post(route("wo_statuses.store.admin"),{onSuccess:()=>U.reset()})}function T(p){xe.delete(route("wo_statuses.destroy.admin",p))}function Oe(p){xe.post(route("wo_statuses.restore.admin",p))}const se=R(()=>v.canceledQSInvoices.length>0),ve=S(!1),Se=R(()=>Object.fromEntries(v.areasOfConcern.map(p=>[p.id,p.concern]))),ct=R(()=>v.areasOfConcern.filter(p=>!y.area_of_concerns.includes(p.id)));function Mt(p){const a=Number(p.target.value);a&&!y.area_of_concerns.includes(a)&&y.area_of_concerns.push(a),p.target.value=""}function Nt(p){y.area_of_concerns=y.area_of_concerns.filter(a=>a!==p)}const wt=R(()=>(v.dateFilter==="yesterday"||v.dateFilter==="current-week")&&v.weekNumber&&v.year?`Week ${v.weekNumber}, ${v.year}`:(v.dateFilter==="6w"||v.dateFilter==="quarterly")&&v.startWeekNumber&&v.endWeekNumber&&v.year?`Weeks ${v.startWeekNumber}-${v.endWeekNumber}, ${v.year}`:"");$t(()=>{const p=a=>{M.value&&!a.target.closest(".relative")&&(M.value=!1)};document.addEventListener("click",p),Vt(()=>document.removeEventListener("click",p))}),setTimeout(()=>L.value="",5e3);const bt=R(()=>(v.workOrderByAreasOfConcern||[]).slice(0,5));R(()=>v.outstandingInvoices.reduce((p,a)=>{const X=Number(a.invoice_amount)||0;return p+X},0));const yt=R(()=>(v.workOrdersByTruck||[]).slice(0,5)),Ye=S(null),He=S(null),qe=S(!1),je=R(()=>v.outstandingInvoices.filter(p=>{const a=Ye.value!=null?Number(p.invoice_amount)>=Ye.value:!0,X=He.value?new Date(p.qs_invoice_date)>new Date(He.value):!0;return a&&X})),It=R(()=>je.value.reduce((p,a)=>p+Number(a.invoice_amount||0),0)),ce=R(()=>v.permissions.map(p=>p.name)),kt=R(()=>{const p=[];A.value.search&&p.push(`Search: "${A.value.search}"`);const a=v.vendors.find($e=>$e.id==A.value.vendor_id);a&&p.push(`Vendor: ${a.vendor_name}`);const X=v.woStatuses.find($e=>$e.id==A.value.status_id);return X&&p.push(`Status: ${X.name}`),p});function Ut(p){var V;const a=p.target,X=(V=a.files)==null?void 0:V[0];if(!X)return;ge.value=!0;const $e=new FormData;$e.append("file",X);const d=v.tenantSlug?route("repair_orders.validateImport",{tenantSlug:v.tenantSlug}):route("repair_orders.validateImport.admin");xe.post(d,$e,{forceFormData:!0,preserveScroll:!0,only:["flash"],onBefore:()=>{ge.value=!0},onSuccess:()=>{ge.value=!1},onError:()=>{ge.value=!1,G.value="Failed to validate CSV file"}}),a.value=""}function Tt(){if(!z.value||z.value.summary.invalid>0)return;ee.value=!0;const p=v.tenantSlug?route("repair_orders.confirmImport",{tenantSlug:v.tenantSlug}):route("repair_orders.confirmImport.admin");xe.post(p,{},{preserveScroll:!0,onSuccess:()=>{ee.value=!1,L.value=`Successfully imported ${z.value.summary.valid} repair orders`,_t()},onError:()=>{ee.value=!1,G.value="Failed to import repair orders"}})}function Ft(){const p=v.tenantSlug?route("repair_orders.downloadErrorReport",{tenantSlug:v.tenantSlug}):route("repair_orders.downloadErrorReport.admin");window.location.href=p}function _t(){re.value=!1,z.value=null,ge.value=!1,ee.value=!1}return Ge(()=>{var p;return(p=Pe.props.flash)==null?void 0:p.importValidation},p=>{if(p){if(p.results){z.value=p.results,p.header_error&&(z.value.header_error=p.header_error),re.value=!0;return}p.message&&(G.value=p.message)}},{immediate:!0}),(p,a)=>{var $e;const X=Rt("Badge");return o(),u(D,null,[s("div",Dl,[L.value?(o(),w(e(Fe),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:l(()=>[t(e(Ue),{class:"flex items-center gap-2"},{default:l(()=>[t(i,{name:"check_circle",class:"h-5 w-5 text-green-500"}),a[50]||(a[50]=r(" Success "))]),_:1}),t(e(Te),null,{default:l(()=>[r(m(L.value),1)]),_:1})]),_:1})):g("",!0),G.value?(o(),w(e(Fe),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:l(()=>[t(e(Ue),{class:"flex items-center gap-2"},{default:l(()=>[t(i,{name:"alert_circle",class:"h-5 w-5"}),a[51]||(a[51]=r(" Error "))]),_:1}),t(e(Te),null,{default:l(()=>[r(m(G.value),1)]),_:1})]),_:1})):g("",!0),s("div",Ol,[s("div",Ml,[t(i,{name:"clipboard-list",class:"h-6 w-6 text-primary hidden sm:block"}),a[52]||(a[52]=s("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"}," Repair Orders ",-1))]),s("div",Nl,[ce.value.includes("repair-orders.create")?(o(),w(e(b),{key:0,onClick:lt,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),a[53]||(a[53]=r(" Create New "))]),_:1})):g("",!0),P.value.length&&ce.value.includes("repair-orders.delete")?(o(),w(e(b),{key:1,onClick:dt,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),r(" Delete Selected ("+m(P.value.length)+") ",1)]),_:1})):g("",!0),_.value?(o(),w(e(b),{key:2,onClick:ut,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),a[54]||(a[54]=r(" Areas "))]),_:1})):g("",!0),_.value?(o(),w(e(b),{key:3,onClick:pt,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),a[55]||(a[55]=r(" Vendors "))]),_:1})):g("",!0),_.value?(o(),w(e(b),{key:4,onClick:n,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),a[56]||(a[56]=r(" Statuses "))]),_:1})):g("",!0),ce.value.includes("repair-orders.import")?(o(),w(e(b),{key:5,onClick:a[0]||(a[0]=d=>re.value=!0),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),a[57]||(a[57]=r(" Import CSV "))]),_:1})):g("",!0),ce.value.includes("repair-orders.export")?(o(),w(e(b),{key:6,onClick:Ie(st,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:l(()=>[t(i,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),a[58]||(a[58]=r(" Download CSV "))]),_:1})):g("",!0)])]),se.value&&!N.SuperAdmin&&ce.value.includes("repair-orders.update")?(o(),u("div",Il,[s("div",Ul,[s("div",Tl,[s("div",Fl,[s("div",zl,[t(i,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),s("div",Bl,[a[60]||(a[60]=s("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"}," Attention Required ",-1)),s("div",El,m((($e=v.canceledQSInvoices)==null?void 0:$e.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),s("div",Rl,[t(e(b),{onClick:a[1]||(a[1]=d=>ve.value=!0),variant:"destructive",size:"sm"},{default:l(()=>a[59]||(a[59]=[r(" View Details ")])),_:1})])])])])])):g("",!0),t(e(he),{class:"shadow-sm border bg-card"},{default:l(()=>[t(e(Ce),{class:"p-3 md:p-4"},{default:l(()=>[s("div",Pl,[(o(),u(D,null,I(Z,d=>t(e(b),{key:d.value,size:"sm",variant:"outline",class:Ne({"border-primary bg-primary/10 text-primary":A.value.dateFilter===d.value}),onClick:V=>Xe(d.value)},{default:l(()=>[r(m(d.label),1)]),_:2},1032,["class","onClick"])),64))]),N.dateRange?(o(),u("div",ql,[N.dateFilter==="yesterday"&&N.dateRange.start?(o(),u("span",jl," Showing data from "+m(j(N.dateRange.start)),1)):N.dateRange.start&&N.dateRange.end?(o(),u("span",Ll," Showing data from "+m(j(N.dateRange.start))+" to "+m(j(N.dateRange.end)),1)):(o(),u("span",Wl,m(N.dateRange.label),1)),wt.value?(o(),u("span",Ql,"("+m(wt.value)+")",1)):g("",!0)])):g("",!0)]),_:1})]),_:1}),(N.dateFilter==="quarterly"||N.dateFilter==="6w")&&!N.SuperAdmin?(o(),u("div",Yl,[s("div",Hl,[a[62]||(a[62]=s("div",{class:"border-b p-4"},[s("h3",{class:"text-lg font-semibold"},"Top 5 Frequent Repairs")],-1)),s("div",Gl,[s("ul",Kl,[a[61]||(a[61]=s("div",{class:"flex items-center justify-between"},[s("span",{class:"text-sm"},"Parts:"),s("span",{class:"text-sm"},"Work Orders:")],-1)),(o(!0),u(D,null,I(bt.value,(d,V)=>(o(),u("li",{key:V,class:"flex items-center justify-between pr-4"},[s("span",Zl,m(d.concern),1),t(X,{variant:"outline"},{default:l(()=>[r(m(d.count),1)]),_:2},1024)]))),128)),bt.value.length===0?(o(),u("li",Xl," No data available ")):g("",!0)])])]),s("div",Jl,[a[64]||(a[64]=s("div",{class:"border-b p-4"},[s("h3",{class:"text-lg font-semibold"},"Top 5 Frequently Repaired Tractors")],-1)),s("div",ea,[s("ul",ta,[a[63]||(a[63]=s("div",{class:"flex items-center justify-between"},[s("span",{class:"text-sm"},"Asset ID:"),s("span",{class:"text-sm"},"Work Orders:")],-1)),(o(!0),u(D,null,I(yt.value,(d,V)=>(o(),u("li",{key:V,class:"flex items-center justify-between pr-4"},[s("span",sa,m(d.truckid),1),t(X,{variant:"outline"},{default:l(()=>[r(m(d.work_order_count),1)]),_:2},1024)]))),128)),yt.value.length===0?(o(),u("li",la," No data available ")):g("",!0)])])])])):g("",!0),N.SuperAdmin?g("",!0):(o(),u("div",aa,[a[67]||(a[67]=s("h3",{class:"mb-4 text-lg font-semibold"},"Outstanding Invoices Filter",-1)),s("div",na,[s("div",null,[t(e(O),{for:"min-invoice-amount"},{default:l(()=>a[65]||(a[65]=[r("Minimum Invoice Amount ($)")])),_:1}),t(e(H),{id:"min-invoice-amount",modelValue:Ye.value,"onUpdate:modelValue":a[2]||(a[2]=d=>Ye.value=d),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"Enter minimum amount",class:"mt-1"},null,8,["modelValue"])]),s("div",null,[t(e(O),{for:"outstanding-since"},{default:l(()=>a[66]||(a[66]=[r("Outstanding Since")])),_:1}),t(e(H),{id:"outstanding-since",modelValue:He.value,"onUpdate:modelValue":a[3]||(a[3]=d=>He.value=d),type:"date",class:"mt-1"},null,8,["modelValue"])])])])),!N.SuperAdmin&&je.value.length>0?(o(),u("div",ra,[s("div",oa,[a[68]||(a[68]=s("h3",{class:"text-lg font-semibold"},"Outstanding Invoices",-1)),s("div",da,[s("div",ia,[t(X,{variant:"outline",class:"text-sm"},{default:l(()=>[r(m(je.value.length)+" invoices ",1)]),_:1}),t(X,{variant:"outline",class:"text-sm"},{default:l(()=>[r(" total: $"+m(It.value.toFixed(2)),1)]),_:1})]),t(e(b),{variant:"ghost",size:"sm",onClick:a[4]||(a[4]=d=>qe.value=!qe.value),class:"ml-4 mt-1"},{default:l(()=>[r(m(qe.value?"Hide Invoices":"Show Invoices")+" ",1),t(i,{name:qe.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),qe.value?(o(),u("div",ua,[s("div",ma,[s("div",fa,[t(e(ye),{class:"min-w-full"},{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(q),null,{default:l(()=>[t(e($),null,{default:l(()=>a[69]||(a[69]=[r("RO Number")])),_:1}),t(e($),null,{default:l(()=>a[70]||(a[70]=[r("Vendor")])),_:1}),t(e($),null,{default:l(()=>a[71]||(a[71]=[r("Week")])),_:1}),t(e($),{class:"text-right"},{default:l(()=>a[72]||(a[72]=[r("Amount")])),_:1})]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[(o(!0),u(D,null,I(je.value,d=>(o(),w(e(q),{key:d.ro_number},{default:l(()=>[t(e(C),null,{default:l(()=>[r(m(d.ro_number),1)]),_:2},1024),t(e(C),null,{default:l(()=>[r(m(d.vendor_name),1)]),_:2},1024),t(e(C),null,{default:l(()=>[r("W"+m(d.week_number)+"/"+m(d.year),1)]),_:2},1024),t(e(C),{class:"text-right"},{default:l(()=>[r(m(le(d.invoice_amount)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):g("",!0)])):g("",!0),!N.SuperAdmin&&je.value.length===0?(o(),u("div",pa,a[73]||(a[73]=[s("div",{class:"border-b p-4"},[s("h3",{class:"text-lg font-semibold"},"Outstanding Invoices")],-1),s("div",{class:"p-4 text-center text-muted-foreground"}," No outstanding invoices match the current criteria ",-1)]))):g("",!0),t(e(he),{class:"shadow-sm border"},{default:l(()=>[t(e(Dt),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:l(()=>[s("div",va,[s("div",ca,[t(e(Ot),{class:"text-lg md:text-xl lg:text-2xl"},{default:l(()=>a[74]||(a[74]=[r("Filters")])),_:1}),!E.value&&kt.value.length?(o(),u("div",xa,[(o(!0),u(D,null,I(kt.value,(d,V)=>(o(),u("div",{key:V,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},m(d),1))),128))])):g("",!0)]),t(e(b),{variant:"ghost",size:"sm",onClick:a[5]||(a[5]=d=>E.value=!E.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:l(()=>[s("span",ga,m(E.value?"Hide Filters":"Show Filters"),1),t(i,{name:E.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(At,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:l(()=>[E.value?(o(),w(e(Ce),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:l(()=>[s("div",wa,[s("div",ba,[s("div",null,[t(e(O),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:l(()=>[t(i,{name:"search",class:"h-4 w-4 text-muted-foreground"}),a[75]||(a[75]=r(" Search "))]),_:1}),t(e(H),{id:"search",type:"text",modelValue:A.value.search,"onUpdate:modelValue":a[6]||(a[6]=d=>A.value.search=d),placeholder:"RO#, Invoice...",class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),s("div",null,[t(e(O),{for:"vendor",class:"flex items-center gap-1.5 mb-2"},{default:l(()=>[t(i,{name:"building",class:"h-4 w-4 text-muted-foreground"}),a[76]||(a[76]=r(" Vendor "))]),_:1}),s("div",ya,[Q(s("select",{id:"vendor","onUpdate:modelValue":a[7]||(a[7]=d=>A.value.vendor_id=d),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[a[77]||(a[77]=s("option",{value:""},"All Vendors",-1)),(o(!0),u(D,null,I(N.vendors,d=>(o(),u("option",{key:d.id,value:d.id},m(d.vendor_name),9,ka))),128))],512),[[J,A.value.vendor_id]]),a[78]||(a[78]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",null,[t(e(O),{for:"status",class:"flex items-center gap-1.5 mb-2"},{default:l(()=>[t(i,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),a[79]||(a[79]=r(" Status "))]),_:1}),s("div",_a,[Q(s("select",{id:"status","onUpdate:modelValue":a[8]||(a[8]=d=>A.value.status_id=d),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[a[80]||(a[80]=s("option",{value:""},"All Statuses",-1)),(o(!0),u(D,null,I(N.woStatuses,d=>(o(),u("option",{key:d.id,value:d.id},m(d.name),9,ha))),128))],512),[[J,A.value.status_id]]),a[81]||(a[81]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),s("div",Ca,[t(e(b),{onClick:Je,variant:"ghost",size:"sm"},{default:l(()=>[t(i,{name:"rotate-ccw",class:"mr-2 h-4 w-4"}),a[82]||(a[82]=r(" Reset Filters "))]),_:1}),t(e(b),{onClick:Be,variant:"default",size:"sm"},{default:l(()=>[t(i,{name:"filter",class:"mr-2 h-4 w-4"}),a[83]||(a[83]=r(" Apply Filters "))]),_:1})])])]),_:1})):g("",!0)]),_:1})]),_:1}),c.value?(o(),w(e(he),{key:7,class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:l(()=>[t(e(Ce),{class:"p-0"},{default:l(()=>[s("div",Sa,[t(e(ye),{class:"relative h-[500px] overflow-auto"},{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(q),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:l(()=>[ce.value.includes("repair-orders.delete")?(o(),w(e($),{key:0,class:"w-12"},{default:l(()=>[s("div",$a,[s("input",{type:"checkbox",checked:h.value,onChange:tt,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Va)])]),_:1})):g("",!0),t(e($),{onClick:a[9]||(a[9]=d=>De("ro_number")),class:"cursor-pointer font-semibold"},{default:l(()=>[s("div",Aa,[a[84]||(a[84]=r(" RO# ")),t(gt,{column:"ro_number",sortState:Ae.value},null,8,["sortState"])])]),_:1}),_.value?(o(),w(e($),{key:1,class:"font-semibold"},{default:l(()=>a[85]||(a[85]=[r("Company")])),_:1})):g("",!0),t(e($),{onClick:a[10]||(a[10]=d=>De("ro_open_date")),class:"cursor-pointer font-semibold"},{default:l(()=>[s("div",Da,[a[86]||(a[86]=r(" Open Date ")),t(gt,{column:"ro_open_date",sortState:Ae.value},null,8,["sortState"])])]),_:1}),t(e($),{onClick:a[11]||(a[11]=d=>De("ro_close_date")),class:"cursor-pointer font-semibold"},{default:l(()=>[s("div",Oa,[a[87]||(a[87]=r(" Close Date ")),t(gt,{column:"ro_close_date",sortState:Ae.value},null,8,["sortState"])])]),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[88]||(a[88]=[r("Truck")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[89]||(a[89]=[r("Vendor")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[90]||(a[90]=[r("Areas of Concern")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[91]||(a[91]=[r("WO#")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[92]||(a[92]=[r("WO Status")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[93]||(a[93]=[r("Invoice")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[94]||(a[94]=[r("Amount")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[95]||(a[95]=[r("Invoice Received")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[96]||(a[96]=[r("On QS")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[97]||(a[97]=[r("QS Invoice Date")])),_:1}),t(e($),{class:"font-semibold"},{default:l(()=>a[98]||(a[98]=[r("Disputed")])),_:1}),ce.value.includes("repair-orders.delete")||ce.value.includes("repair-orders.update")?(o(),w(e($),{key:2,class:"font-semibold"},{default:l(()=>a[99]||(a[99]=[r("Actions")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[N.repairOrders.data.length?g("",!0):(o(),w(e(q),{key:0},{default:l(()=>[t(e(C),{colspan:_.value?16:15,class:"py-8 text-center"},{default:l(()=>[s("div",Ma,[t(i,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),a[100]||(a[100]=s("h2",{class:"text-lg font-medium"},"No repair orders found.",-1)),a[101]||(a[101]=s("p",{class:"text-muted-foreground mt-2"}," There is no data to display at this time. ",-1))])]),_:1},8,["colspan"])]),_:1})),(o(!0),u(D,null,I(N.repairOrders.data,d=>(o(),w(e(q),{key:d.id,class:"hover:bg-muted/50 transition-colors"},{default:l(()=>[ce.value.includes("repair-orders.delete")?(o(),w(e(C),{key:0},{default:l(()=>[Q(s("input",{type:"checkbox",value:d.id,"onUpdate:modelValue":a[12]||(a[12]=V=>P.value=V),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,8,Na),[[Ke,P.value]])]),_:2},1024)):g("",!0),t(e(C),{class:"whitespace-nowrap font-medium"},{default:l(()=>[r(m(d.ro_number),1)]),_:2},1024),_.value?(o(),w(e(C),{key:1,class:"whitespace-nowrap"},{default:l(()=>{var V;return[r(m(((V=d.tenant)==null?void 0:V.name)||"—"),1)]}),_:2},1024)):g("",!0),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(j(d.ro_open_date)),1)]),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(d.ro_close_date?j(d.ro_close_date):"N/A"),1)]),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>{var V;return[r(m(((V=d.truck)==null?void 0:V.truckid)||"—"),1)]}),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>{var V;return[r(m(((V=d.vendor)==null?void 0:V.vendor_name)||"—"),1)]}),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>{var V;return[(V=d.areas_of_concern)!=null&&V.length?(o(),u("span",Ia,[(o(!0),u(D,null,I(d.areas_of_concern,(Le,ae)=>(o(),u("span",{key:Le.id},[r(m(Le.concern),1),ae<d.areas_of_concern.length-1?(o(),u("span",Ua,", ")):g("",!0)]))),128))])):(o(),u("span",Ta,"—"))]}),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(d.wo_number||"—"),1)]),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>{var V;return[r(m(((V=d.wo_status)==null?void 0:V.name)||"—"),1)]}),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(d.invoice||"—"),1)]),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(le(d.invoice_amount)),1)]),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(d.invoice_received?"Yes":"No"),1)]),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(d.on_qs?d.on_qs.charAt(0).toUpperCase()+d.on_qs.slice(1):"No"),1)]),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(d.qs_invoice_date?j(d.qs_invoice_date):"N/A"),1)]),_:2},1024),t(e(C),{class:"whitespace-nowrap"},{default:l(()=>[r(m(d.disputed?"Yes":"No"),1)]),_:2},1024),ce.value.includes("repair-orders.update")||ce.value.includes("repair-orders.delete")?(o(),w(e(C),{key:2},{default:l(()=>[s("div",Fa,[ce.value.includes("repair-orders.update")?(o(),w(e(b),{key:0,size:"sm",variant:"warning",onClick:V=>at(d),class:"h-8 px-2"},{default:l(()=>[t(i,{name:"pencil",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),ce.value.includes("repair-orders.delete")?(o(),w(e(b),{key:1,size:"sm",variant:"destructive",onClick:V=>rt(d.id),class:"h-8 px-2"},{default:l(()=>[t(i,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1}),s("div",za,[s("div",Ba,[s("span",Ea,[t(i,{name:"list",class:"h-4 w-4"}),r(" Showing "+m(N.repairOrders.data.length)+" of "+m(N.repairOrders.total)+" entries ",1)]),s("span",Ra,[t(i,{name:"layout-grid",class:"h-4 w-4"}),a[102]||(a[102]=r(" Per page: "))]),s("div",Pa,[Q(s("select",{"onUpdate:modelValue":a[13]||(a[13]=d=>B.value=d),onChange:et,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(o(),u(D,null,I([10,25,50,100],d=>s("option",{key:d,value:d},m(d),9,qa)),64))],544),[[J,B.value,void 0,{number:!0}]]),a[103]||(a[103]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",ja,[t(e(b),{size:"sm",variant:"ghost",onClick:a[14]||(a[14]=d=>Re(N.repairOrders.prev_page_url)),disabled:!N.repairOrders.prev_page_url,class:"flex items-center gap-1"},{default:l(()=>[t(i,{name:"chevron-left",class:"h-4 w-4"}),a[104]||(a[104]=r(" Prev "))]),_:1},8,["disabled"]),(o(!0),u(D,null,I(N.repairOrders.links.slice(1,-1),d=>(o(),w(e(b),{key:d.label,size:"sm",variant:"ghost",onClick:V=>Re(d.url),disabled:!d.url,class:Ne({"border-primary bg-primary/10 text-primary font-medium":d.active})},{default:l(()=>[s("span",{innerHTML:d.label},null,8,La)]),_:2},1032,["onClick","disabled","class"]))),128)),t(e(b),{size:"sm",variant:"ghost",onClick:a[15]||(a[15]=d=>Re(N.repairOrders.next_page_url)),disabled:!N.repairOrders.next_page_url,class:"flex items-center gap-1"},{default:l(()=>[a[105]||(a[105]=r(" Next ")),t(i,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})):(o(),u("div",Wa,[t(i,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),a[106]||(a[106]=s("h2",{class:"text-lg font-medium"},"There is No Data to give Information about.",-1))])),t(e(ue),{open:W.value,"onUpdate:open":a[33]||(a[33]=d=>W.value=d)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:l(()=>[t(e(me),{class:"px-4 sm:px-6 border-b pb-3"},{default:l(()=>[s("div",Qa,[t(i,{name:e(y).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(fe),{class:"text-lg sm:text-xl font-semibold"},{default:l(()=>[r(m(k.value)+" Repair Order",1)]),_:1})]),t(e(ie),{class:"text-xs sm:text-sm mt-1 text-muted-foreground"},{default:l(()=>[r("Fill in the details to "+m(k.value.toLowerCase())+" a repair order.",1)]),_:1})]),_:1}),s("div",Ya,[s("form",{onSubmit:Ie(We,["prevent"]),class:"grid grid-cols-1 gap-3 p-3 sm:grid-cols-2 sm:gap-4 sm:p-4"},[_.value?(o(),u("div",Ha,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"building",class:"h-4 w-4 text-muted-foreground"}),a[107]||(a[107]=r(" Company "))]),_:1}),s("div",Ga,[Q(s("select",{"onUpdate:modelValue":a[16]||(a[16]=d=>e(y).tenant_id=d),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm ring-offset-background focus-visible:ring-2"},[a[108]||(a[108]=s("option",{disabled:"",value:""},"Select",-1)),(o(!0),u(D,null,I(N.tenants,d=>(o(),u("option",{key:d.id,value:d.id},m(d.name),9,Ka))),128))],512),[[J,e(y).tenant_id]]),a[109]||(a[109]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):g("",!0),s("div",Za,[t(i,{name:"info",class:"h-4 w-4 text-primary"}),a[110]||(a[110]=s("h3",{class:"text-md font-semibold text-primary"},"Basic Information",-1))]),s("div",Xa,[s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),a[111]||(a[111]=r(" RO# "))]),_:1}),t(e(H),{modelValue:e(y).ro_number,"onUpdate:modelValue":a[17]||(a[17]=d=>e(y).ro_number=d),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),a[112]||(a[112]=r(" Truck "))]),_:1}),s("div",Ja,[Q(s("select",{"onUpdate:modelValue":a[18]||(a[18]=d=>e(y).truck_id=d),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[a[113]||(a[113]=s("option",{disabled:"",value:""},"Select",-1)),(o(!0),u(D,null,I(N.trucks,d=>(o(),u("option",{key:d.id,value:d.id},m(d.truckid),9,en))),128))],512),[[J,e(y).truck_id]]),a[114]||(a[114]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"calendar",class:"h-4 w-4 text-muted-foreground"}),a[115]||(a[115]=r(" Open Date "))]),_:1}),t(e(H),{type:"date",modelValue:e(y).ro_open_date,"onUpdate:modelValue":a[19]||(a[19]=d=>e(y).ro_open_date=d),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"calendar-check",class:"h-4 w-4 text-muted-foreground"}),a[116]||(a[116]=r(" Close Date "))]),_:1}),t(e(H),{type:"date",modelValue:e(y).ro_close_date,"onUpdate:modelValue":a[20]||(a[20]=d=>e(y).ro_close_date=d),class:"h-9 w-full"},null,8,["modelValue"])])]),s("div",tn,[t(i,{name:"wrench",class:"h-4 w-4 text-primary"}),a[117]||(a[117]=s("h3",{class:"text-md font-semibold text-primary"},"Repair Details",-1))]),s("div",sn,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"alert-triangle",class:"h-4 w-4 text-muted-foreground"}),a[118]||(a[118]=r(" Areas of Concern "))]),_:1}),s("div",ln,[(o(!0),u(D,null,I(e(y).area_of_concerns,d=>(o(),u("span",{key:d,class:"badge bg-primary/10 text-primary px-2 py-1 rounded-md flex items-center"},[r(m(Se.value[d]),1),s("button",{onClick:V=>Nt(d),class:"ml-1 hover:text-red-500 focus:outline-none"}," × ",8,an)]))),128)),e(y).area_of_concerns.length?g("",!0):(o(),u("span",nn,"No areas selected"))]),s("div",rn,[s("select",{onChange:a[21]||(a[21]=d=>Mt(d)),class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[a[119]||(a[119]=s("option",{value:""},"Select an area to add",-1)),(o(!0),u(D,null,I(ct.value,d=>(o(),u("option",{key:d.id,value:d.id},m(d.concern),9,on))),128))],32),a[120]||(a[120]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",dn,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"clipboard-check",class:"h-4 w-4 text-muted-foreground"}),a[121]||(a[121]=r(" Repairs Made "))]),_:1}),Q(s("textarea",{"onUpdate:modelValue":a[22]||(a[22]=d=>e(y).repairs_made=d),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[ht,e(y).repairs_made]])]),s("div",un,[t(i,{name:"receipt",class:"h-4 w-4 text-primary"}),a[122]||(a[122]=s("h3",{class:"text-md font-semibold text-primary"}," Vendor & Invoice Information ",-1))]),s("div",mn,[s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"building-2",class:"h-4 w-4 text-muted-foreground"}),a[123]||(a[123]=r(" Vendor "))]),_:1}),s("div",fn,[Q(s("select",{"onUpdate:modelValue":a[23]||(a[23]=d=>e(y).vendor_id=d),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[a[124]||(a[124]=s("option",{disabled:"",value:""},"Select",-1)),(o(!0),u(D,null,I(N.vendors,d=>(o(),u("option",{key:d.id,value:d.id},m(d.vendor_name),9,pn))),128))],512),[[J,e(y).vendor_id]]),a[125]||(a[125]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"file-text",class:"h-4 w-4 text-muted-foreground"}),a[126]||(a[126]=r(" WO# "))]),_:1}),t(e(H),{modelValue:e(y).wo_number,"onUpdate:modelValue":a[24]||(a[24]=d=>e(y).wo_number=d),class:"h-9 w-full"},null,8,["modelValue"])]),s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),a[127]||(a[127]=r(" WO Status "))]),_:1}),s("div",vn,[Q(s("select",{"onUpdate:modelValue":a[25]||(a[25]=d=>e(y).wo_status_id=d),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[a[128]||(a[128]=s("option",{disabled:"",value:""},"Select",-1)),(o(!0),u(D,null,I(N.woStatuses,d=>(o(),u("option",{key:d.id,value:d.id},m(d.name),9,cn))),128))],512),[[J,e(y).wo_status_id]]),a[129]||(a[129]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"check-square",class:"h-4 w-4 text-muted-foreground"}),a[130]||(a[130]=r(" On QS "))]),_:1}),s("div",xn,[Q(s("select",{"onUpdate:modelValue":a[26]||(a[26]=d=>e(y).on_qs=d),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},a[131]||(a[131]=[s("option",{value:"yes"},"Yes",-1),s("option",{value:"no"},"No",-1),s("option",{value:"not expected"},"Not Expected",-1)]),512),[[J,e(y).on_qs]]),a[132]||(a[132]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),s("div",gn,[s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"file-invoice",class:"h-4 w-4 text-muted-foreground"}),a[133]||(a[133]=r(" Invoice "))]),_:1}),t(e(H),{modelValue:e(y).invoice,"onUpdate:modelValue":a[27]||(a[27]=d=>e(y).invoice=d),class:"h-9 w-full"},null,8,["modelValue"])]),s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"dollar-sign",class:"h-4 w-4 text-muted-foreground"}),a[134]||(a[134]=r(" Amount "))]),_:1}),s("div",wn,[a[135]||(a[135]=s("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-muted-foreground"},"$",-1)),t(e(H),{type:"number",step:"0.01",modelValue:e(y).invoice_amount,"onUpdate:modelValue":a[28]||(a[28]=d=>e(y).invoice_amount=d),class:"pl-7 h-9 w-full"},null,8,["modelValue"])])]),s("div",bn,[Q(s("input",{type:"checkbox","onUpdate:modelValue":a[29]||(a[29]=d=>e(y).invoice_received=d),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[Ke,e(y).invoice_received]]),t(e(O),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:l(()=>[t(i,{name:"inbox",class:"h-4 w-4 text-muted-foreground"}),a[136]||(a[136]=r(" Invoice Received "))]),_:1})]),s("div",null,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"calendar-days",class:"h-4 w-4 text-muted-foreground"}),a[137]||(a[137]=r(" QS Invoice Date "))]),_:1}),t(e(H),{type:"date",modelValue:e(y).qs_invoice_date,"onUpdate:modelValue":a[30]||(a[30]=d=>e(y).qs_invoice_date=d),class:"h-9 w-full"},null,8,["modelValue"])])]),k.value==="Update"?(o(),u("div",yn,[s("div",kn,[t(i,{name:"alert-octagon",class:"h-4 w-4 text-primary"}),a[138]||(a[138]=s("h3",{class:"text-md font-semibold text-primary"},"Dispute Information",-1))]),s("div",_n,[Q(s("input",{type:"checkbox","onUpdate:modelValue":a[31]||(a[31]=d=>e(y).disputed=d),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[Ke,e(y).disputed]]),t(e(O),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:l(()=>[t(i,{name:"alert-circle",class:"h-4 w-4 text-muted-foreground"}),a[139]||(a[139]=r(" Disputed? "))]),_:1})]),e(y).disputed?(o(),u("div",hn,[t(e(O),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:l(()=>[t(i,{name:"message-square",class:"h-4 w-4 text-muted-foreground"}),a[140]||(a[140]=r(" Dispute Outcome "))]),_:1}),Q(s("textarea",{"onUpdate:modelValue":a[32]||(a[32]=d=>e(y).dispute_outcome=d),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[ht,e(y).dispute_outcome]])])):g("",!0)])):g("",!0)],32)]),t(e(Ve),{class:"px-4 sm:px-6 flex justify-end gap-2 mt-2 pt-3 border-t"},{default:l(()=>[t(e(b),{variant:"outline",onClick:nt,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:l(()=>a[141]||(a[141]=[r("Cancel")])),_:1}),t(e(b),{type:"submit",onClick:We,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:l(()=>[r(m(k.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:K.value,"onUpdate:open":a[35]||(a[35]=d=>K.value=d)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-md"},{default:l(()=>[t(e(me),{class:"px-4 sm:px-6"},{default:l(()=>[t(e(fe),{class:"text-lg sm:text-xl"},{default:l(()=>a[142]||(a[142]=[r("Confirm Deletion")])),_:1}),t(e(ie),{class:"text-xs sm:text-sm"},{default:l(()=>a[143]||(a[143]=[r("This action cannot be undone.")])),_:1})]),_:1}),t(e(Ve),{class:"px-4 sm:px-6 flex gap-2"},{default:l(()=>[t(e(b),{variant:"outline",onClick:a[34]||(a[34]=d=>K.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>a[144]||(a[144]=[r("Cancel")])),_:1}),t(e(b),{variant:"destructive",onClick:ot,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>a[145]||(a[145]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:Y.value,"onUpdate:open":a[37]||(a[37]=d=>Y.value=d)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-md"},{default:l(()=>[t(e(me),{class:"px-4 sm:px-6"},{default:l(()=>[t(e(fe),{class:"text-lg sm:text-xl"},{default:l(()=>[r("Delete "+m(P.value.length)+" Orders?",1)]),_:1}),t(e(ie),{class:"text-xs sm:text-sm"},{default:l(()=>a[146]||(a[146]=[r("This action cannot be undone.")])),_:1})]),_:1}),t(e(Ve),{class:"px-4 sm:px-6 flex gap-2"},{default:l(()=>[t(e(b),{variant:"outline",onClick:a[36]||(a[36]=d=>Y.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>a[147]||(a[147]=[r("Cancel")])),_:1}),t(e(b),{variant:"destructive",onClick:it,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>a[148]||(a[148]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:F.value,"onUpdate:open":a[40]||(a[40]=d=>F.value=d)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[t(e(me),null,{default:l(()=>[t(e(fe),null,{default:l(()=>a[149]||(a[149]=[r("Manage Areas of Concern")])),_:1}),t(e(ie),{class:"text-sm sm:text-base"},{default:l(()=>a[150]||(a[150]=[r("Add or remove areas of concern for repair orders.")])),_:1})]),_:1}),s("div",Cn,[s("form",{onSubmit:Ie(mt,["prevent"]),class:"space-y-3 sm:space-y-4"},[s("div",Sn,[t(e(O),{for:"concern"},{default:l(()=>a[151]||(a[151]=[r("Area of Concern")])),_:1}),t(e(H),{id:"concern",modelValue:e(we).concern,"onUpdate:modelValue":a[38]||(a[38]=d=>e(we).concern=d),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(b),{type:"submit",class:"w-full"},{default:l(()=>a[152]||(a[152]=[r("Add Area of Concern")])),_:1})],32),s("div",$n,[s("div",Vn,[t(e(ye),null,{default:l(()=>[t(e(ke),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[t(e(q),null,{default:l(()=>[t(e($),{class:"text-xs sm:text-sm"},{default:l(()=>a[153]||(a[153]=[r("Area of Concern")])),_:1}),t(e($),{class:"w-20 text-xs sm:text-sm"},{default:l(()=>a[154]||(a[154]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[v.areasOfConcern.length?g("",!0):(o(),w(e(q),{key:0},{default:l(()=>[t(e(C),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>a[155]||(a[155]=[r("No areas of concern found.")])),_:1})]),_:1})),(o(!0),u(D,null,I(N.areasOfConcern,d=>(o(),w(e(q),{key:d.id},{default:l(()=>[t(e(C),{class:"text-xs sm:text-sm"},{default:l(()=>[r(m(d.concern)+" ",1),d.deleted_at?(o(),u("span",An,"(Deleted)")):g("",!0)]),_:2},1024),t(e(C),null,{default:l(()=>[s("div",Dn,[d.deleted_at?(o(),w(e(b),{key:0,onClick:V=>ft(d.id),variant:"outline",size:"sm"},{default:l(()=>[t(i,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),d.deleted_at?g("",!0):(o(),w(e(b),{key:1,onClick:V=>oe(d.id),variant:"destructive",size:"sm"},{default:l(()=>[t(i,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"]))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(Ve),null,{default:l(()=>[t(e(b),{onClick:a[39]||(a[39]=d=>F.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>a[156]||(a[156]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:te.value,"onUpdate:open":a[43]||(a[43]=d=>te.value=d)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[t(e(me),null,{default:l(()=>[t(e(fe),null,{default:l(()=>a[157]||(a[157]=[r("Manage Vendors")])),_:1}),t(e(ie),{class:"text-sm sm:text-base"},{default:l(()=>a[158]||(a[158]=[r("Add or remove vendors for repair orders.")])),_:1})]),_:1}),s("div",On,[s("form",{onSubmit:Ie(vt,["prevent"]),class:"space-y-3 sm:space-y-4"},[s("div",Mn,[t(e(O),{for:"vendor_name"},{default:l(()=>a[159]||(a[159]=[r("Vendor Name")])),_:1}),t(e(H),{id:"vendor_name",modelValue:e(pe).vendor_name,"onUpdate:modelValue":a[41]||(a[41]=d=>e(pe).vendor_name=d),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(b),{type:"submit",class:"w-full"},{default:l(()=>a[160]||(a[160]=[r("Add Vendor")])),_:1})],32),s("div",Nn,[s("div",In,[t(e(ye),null,{default:l(()=>[t(e(ke),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[t(e(q),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[t(e($),{class:"text-xs sm:text-sm"},{default:l(()=>a[161]||(a[161]=[r("Vendor Name")])),_:1}),t(e($),{class:"text-xs sm:text-sm"},{default:l(()=>a[162]||(a[162]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[N.vendors.length===0?(o(),w(e(q),{key:0},{default:l(()=>[t(e(C),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>a[163]||(a[163]=[r("No vendors found.")])),_:1})]),_:1})):g("",!0),(o(!0),u(D,null,I(N.vendors,d=>(o(),w(e(q),{key:d.id},{default:l(()=>[t(e(C),{class:"text-xs sm:text-sm"},{default:l(()=>[r(m(d.vendor_name)+" ",1),d.deleted_at?(o(),u("span",Un,"(Deleted)")):g("",!0)]),_:2},1024),t(e(C),null,{default:l(()=>[s("div",Tn,[d.deleted_at?(o(),w(e(b),{key:0,onClick:V=>x(d.id),variant:"outline",size:"sm"},{default:l(()=>[t(i,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),d.deleted_at?g("",!0):(o(),w(e(b),{key:1,onClick:V=>Qe(d.id),variant:"destructive",size:"sm"},{default:l(()=>[t(i,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),d.deleted_at?(o(),w(e(b),{key:2,onClick:V=>p.forceDeleteVendor(d.id),variant:"destructive",size:"sm"},{default:l(()=>[t(i,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(Ve),null,{default:l(()=>[t(e(b),{onClick:a[42]||(a[42]=d=>te.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>a[164]||(a[164]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:ne.value,"onUpdate:open":a[46]||(a[46]=d=>ne.value=d)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[t(e(me),null,{default:l(()=>[t(e(fe),null,{default:l(()=>a[165]||(a[165]=[r("Manage Work Order Statuses")])),_:1}),t(e(ie),{class:"text-sm sm:text-base"},{default:l(()=>a[166]||(a[166]=[r(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),s("div",Fn,[s("form",{onSubmit:Ie(f,["prevent"]),class:"space-y-3 sm:space-y-4"},[s("div",zn,[t(e(O),{for:"status_name"},{default:l(()=>a[167]||(a[167]=[r("Status Name")])),_:1}),t(e(H),{id:"status_name",modelValue:e(U).name,"onUpdate:modelValue":a[44]||(a[44]=d=>e(U).name=d),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(b),{type:"submit",class:"w-full"},{default:l(()=>a[168]||(a[168]=[r("Add Work Order Status")])),_:1})],32),s("div",Bn,[s("div",En,[t(e(ye),null,{default:l(()=>[t(e(ke),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[t(e(q),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[t(e($),{class:"text-xs sm:text-sm"},{default:l(()=>a[169]||(a[169]=[r("Status Name")])),_:1}),t(e($),{class:"text-xs sm:text-sm"},{default:l(()=>a[170]||(a[170]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[v.woStatuses.length?g("",!0):(o(),w(e(q),{key:0},{default:l(()=>[t(e(C),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>a[171]||(a[171]=[r("No work order statuses found.")])),_:1})]),_:1})),(o(!0),u(D,null,I(v.woStatuses,d=>(o(),w(e(q),{key:d.id},{default:l(()=>[t(e(C),{class:"text-xs sm:text-sm"},{default:l(()=>[r(m(d.name)+" ",1),d.deleted_at?(o(),u("span",Rn,"(Deleted)")):g("",!0)]),_:2},1024),t(e(C),null,{default:l(()=>[s("div",Pn,[d.deleted_at?(o(),w(e(b),{key:0,onClick:V=>Oe(d.id),variant:"outline",size:"sm"},{default:l(()=>[t(i,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),d.deleted_at?g("",!0):(o(),w(e(b),{key:1,onClick:V=>T(d.id),variant:"destructive",size:"sm"},{default:l(()=>[t(i,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),d.deleted_at?(o(),w(e(b),{key:2,onClick:V=>p.forceDeleteStatus(d.id),variant:"destructive",size:"sm"},{default:l(()=>[t(i,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(Ve),null,{default:l(()=>[t(e(b),{onClick:a[45]||(a[45]=d=>ne.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>a[172]||(a[172]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:ve.value,"onUpdate:open":a[48]||(a[48]=d=>ve.value=d)},{default:l(()=>[t(e(de),{class:"max-h-[90vh] max-w-[95vw] overflow-y-auto md:max-w-[80vw] lg:max-w-4xl"},{default:l(()=>{var d;return[t(e(me),null,{default:l(()=>[t(e(fe),{class:"flex items-center gap-2 text-lg md:text-xl"},{default:l(()=>[t(i,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),a[173]||(a[173]=r(" Canceled Invoices on QS "))]),_:1}),t(e(ie),null,{default:l(()=>a[174]||(a[174]=[r(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),s("div",qn,[(d=v.canceledQSInvoices)!=null&&d.length?(o(),w(e(ye),{key:0},{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(q),null,{default:l(()=>[t(e($),{class:"whitespace-nowrap"},{default:l(()=>a[175]||(a[175]=[r("RO Number")])),_:1}),t(e($),{class:"whitespace-nowrap"},{default:l(()=>a[176]||(a[176]=[r("Vendor")])),_:1}),t(e($),{class:"whitespace-nowrap text-right"},{default:l(()=>a[177]||(a[177]=[r("Amount")])),_:1}),t(e($),{class:"whitespace-nowrap"},{default:l(()=>a[178]||(a[178]=[r("Week")])),_:1})]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[(o(!0),u(D,null,I(v.canceledQSInvoices,V=>(o(),w(e(q),{key:V.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:l(()=>[t(e(C),{class:"font-medium"},{default:l(()=>[s("div",jn,[t(i,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),r(" "+m(V.ro_number),1)])]),_:2},1024),t(e(C),null,{default:l(()=>[r(m(V.vendor_name),1)]),_:2},1024),t(e(C),{class:"text-right"},{default:l(()=>[r(m(le(V.invoice_amount)),1)]),_:2},1024),t(e(C),null,{default:l(()=>[r("W"+m(V.week_number)+"/"+m(V.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(o(),u("div",Ln," No canceled QS invoices found. "))]),t(e(Ve),{class:"mt-4 flex flex-col gap-2 sm:flex-row"},{default:l(()=>[t(e(b),{onClick:a[47]||(a[47]=V=>ve.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>a[179]||(a[179]=[r("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])]),t(e(ue),{open:re.value,"onUpdate:open":a[49]||(a[49]=d=>re.value=d)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-5xl max-h-[90vh] overflow-hidden flex flex-col"},{default:l(()=>{var d,V,Le;return[t(e(me),{class:"px-4 sm:px-6 border-b pb-3"},{default:l(()=>[s("div",Wn,[t(i,{name:"upload",class:"h-5 w-5 text-primary"}),t(e(fe),{class:"text-lg sm:text-xl font-semibold"},{default:l(()=>a[180]||(a[180]=[r(" Import Repair Orders ")])),_:1})]),t(e(ie),{class:"text-xs sm:text-sm mt-1 text-muted-foreground"},{default:l(()=>a[181]||(a[181]=[r(" Upload a CSV file to import repair orders. The file will be validated before import. ")])),_:1})]),_:1}),s("div",Qn,[z.value?(o(),u("div",er,[(d=z.value.headers)!=null&&d.length?(o(),u("div",tr,[s("div",sr,[a[185]||(a[185]=s("div",{class:"text-sm font-semibold"},"CSV Headers",-1)),s("div",lr,m(z.value.headers.length)+" columns ",1)]),s("div",ar,[(o(!0),u(D,null,I(z.value.headers,ae=>(o(),u("span",{key:ae,class:"rounded-full bg-muted px-2 py-0.5 text-xs"},m(ae),1))),128))])])):g("",!0),s("div",nr,[t(e(he),{class:"border-2"},{default:l(()=>[t(e(Ce),{class:"p-4 text-center"},{default:l(()=>[s("div",rr,m(z.value.summary.total),1),a[186]||(a[186]=s("div",{class:"text-sm text-muted-foreground"},"Total Rows",-1))]),_:1})]),_:1}),t(e(he),{class:"border-2 border-green-500/50 bg-green-50 dark:bg-green-900/10"},{default:l(()=>[t(e(Ce),{class:"p-4 text-center"},{default:l(()=>[s("div",or,m(z.value.summary.valid),1),a[187]||(a[187]=s("div",{class:"text-sm text-muted-foreground"},"Valid",-1))]),_:1})]),_:1}),t(e(he),{class:"border-2 border-red-500/50 bg-red-50 dark:bg-red-900/10"},{default:l(()=>[t(e(Ce),{class:"p-4 text-center"},{default:l(()=>[s("div",dr,m(z.value.summary.invalid),1),a[188]||(a[188]=s("div",{class:"text-sm text-muted-foreground"},"Invalid",-1))]),_:1})]),_:1})]),z.value.header_error?(o(),w(e(Fe),{key:1,variant:"destructive"},{default:l(()=>[t(e(Ue),{class:"flex items-center gap-2"},{default:l(()=>[t(i,{name:"alert_circle",class:"h-5 w-5"}),a[189]||(a[189]=r(" Header Error "))]),_:1}),t(e(Te),null,{default:l(()=>[r(m(z.value.header_error),1)]),_:1})]),_:1})):g("",!0),(V=z.value.invalid)!=null&&V.length?(o(),u("div",ir,[s("div",ur,[s("h3",mr,[t(i,{name:"alert-triangle",class:"h-5 w-5"}),r(" Validation Errors ("+m(z.value.invalid.length)+") ",1)]),t(e(b),{onClick:Ft,variant:"outline",size:"sm",class:"flex items-center gap-2"},{default:l(()=>[t(i,{name:"download",class:"h-4 w-4"}),a[190]||(a[190]=r(" Download Error Report "))]),_:1})]),s("div",fr,[s("div",pr,[t(e(ye),null,{default:l(()=>[t(e(ke),{class:"sticky top-0 bg-background"},{default:l(()=>[t(e(q),null,{default:l(()=>[t(e($),{class:"w-20"},{default:l(()=>a[191]||(a[191]=[r("Row #")])),_:1}),t(e($),null,{default:l(()=>a[192]||(a[192]=[r("Preview")])),_:1}),t(e($),null,{default:l(()=>a[193]||(a[193]=[r("Errors")])),_:1}),ze.value?(o(),w(e($),{key:0},{default:l(()=>a[194]||(a[194]=[r("Warnings")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[(o(!0),u(D,null,I(z.value.invalid,ae=>(o(),w(e(q),{key:ae.rowNumber,class:"hover:bg-muted/50"},{default:l(()=>[t(e(C),{class:"font-medium"},{default:l(()=>[r(m(ae.rowNumber),1)]),_:2},1024),t(e(C),{class:"text-sm text-muted-foreground"},{default:l(()=>[s("div",vr,[(o(!0),u(D,null,I(ae.preview,be=>(o(),u("span",{key:be.key,class:"whitespace-nowrap"},[s("span",cr,m(be.label)+":",1),r(" "+m(be.value),1)]))),128))])]),_:2},1024),t(e(C),null,{default:l(()=>[s("div",xr,[(o(!0),u(D,null,I(ae.errors,(be,xt)=>(o(),u("div",{key:xt,class:"text-xs text-red-600 flex items-start gap-1"},[t(i,{name:"x-circle",class:"h-3 w-3 mt-0.5 flex-shrink-0"}),s("span",null,m(be),1)]))),128))])]),_:2},1024),ze.value?(o(),w(e(C),{key:0},{default:l(()=>{var be;return[s("div",gr,[(o(!0),u(D,null,I(ae.warnings,(xt,zt)=>(o(),u("div",{key:zt,class:"text-xs text-yellow-600 flex items-start gap-1"},[t(i,{name:"alert-triangle",class:"h-3 w-3 mt-0.5 flex-shrink-0"}),s("span",null,m(xt),1)]))),128)),(be=ae.warnings)!=null&&be.length?g("",!0):(o(),u("div",wr," — "))])]}),_:2},1024)):g("",!0)]),_:2},1024))),128))]),_:1})]),_:1})])])])):g("",!0),(Le=z.value.valid)!=null&&Le.length?(o(),u("div",br,[s("h3",yr,[t(i,{name:"check-circle",class:"h-5 w-5"}),r(" Valid Rows ("+m(z.value.valid.length)+") ",1)]),a[197]||(a[197]=s("div",{class:"text-sm text-muted-foreground mb-2"}," Showing first 5 valid rows ",-1)),s("div",kr,[t(e(ye),null,{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(q),null,{default:l(()=>[t(e($),null,{default:l(()=>a[195]||(a[195]=[r("Row #")])),_:1}),t(e($),null,{default:l(()=>a[196]||(a[196]=[r("Preview")])),_:1})]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[(o(!0),u(D,null,I(z.value.valid.slice(0,5),ae=>(o(),w(e(q),{key:ae.rowNumber},{default:l(()=>[t(e(C),{class:"font-medium"},{default:l(()=>[r(m(ae.rowNumber),1)]),_:2},1024),t(e(C),{class:"text-sm"},{default:l(()=>[s("div",_r,[(o(!0),u(D,null,I(ae.preview,be=>(o(),u("span",{key:be.key,class:"whitespace-nowrap"},[s("span",hr,m(be.label)+":",1),r(" "+m(be.value),1)]))),128))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])):g("",!0)])):(o(),u("div",Yn,[s("div",Hn,[s("div",Gn,[t(i,{name:"file-spreadsheet",class:"h-12 w-12 text-muted-foreground mb-3"}),s("label",Kn,[a[182]||(a[182]=s("span",{class:"text-sm font-medium text-primary hover:underline"}," Choose CSV file ",-1)),s("input",{type:"file",class:"hidden",onChange:Ut,accept:".csv",disabled:ge.value},null,40,Zn)]),a[183]||(a[183]=s("p",{class:"text-xs text-muted-foreground mt-2"},"or drag and drop",-1))]),s("div",Xn,[t(i,{name:"info",class:"h-4 w-4"}),s("a",{href:$r,download:"",class:"text-primary hover:underline"}," Download CSV Template ")]),ge.value?(o(),u("div",Jn,a[184]||(a[184]=[s("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"},null,-1),s("span",{class:"text-sm text-muted-foreground"},"Validating CSV file...",-1)]))):g("",!0)])]))]),s("div",Cr,[t(e(b),{onClick:_t,variant:"outline",disabled:ee.value},{default:l(()=>a[198]||(a[198]=[r(" Close ")])),_:1},8,["disabled"]),z.value&&z.value.summary.valid>0?(o(),w(e(b),{key:0,onClick:Tt,variant:"default",disabled:ee.value||z.value.summary.invalid>0||!!z.value.header_error,class:"flex items-center gap-2"},{default:l(()=>[ee.value?(o(),u("div",Sr)):(o(),w(i,{key:1,name:"check",class:"h-4 w-4"})),r(" "+m(ee.value?"Importing...":`Import ${z.value.summary.valid} Rows`),1)]),_:1},8,["disabled"])):g("",!0)])]}),_:1})]),_:1},8,["open"])],64)}}}),Ar=Lt(Vr,[["__scopeId","data-v-e838b6c1"]]),Dr={class:"bg-card rounded-lg border shadow-sm p-4 md:p-6 mb-6"},Or={class:"flex justify-between items-center mb-4"},Mr={class:"overflow-x-auto max-h-80"},Nr={class:"flex justify-center space-x-2"},Ir={key:0,class:"border-t mt-4 px-4 py-3 bg-muted/20"},Ur={class:"flex flex-col sm:flex-row items-center justify-between gap-2"},Tr={class:"text-sm text-muted-foreground"},Fr={class:"flex flex-wrap gap-2"},zr={class:"grid grid-cols-2 gap-4"},Br={key:0,class:"grid grid-cols-2 gap-4"},Er={class:"mt-1"},Rr={class:"mt-1"},Pr=Ze({__name:"MilesDrivenTable",props:{milesEntries:{},tenantSlug:{},permissions:{}},setup(N){const v=N,A=S(!1),B=S("week_start_date"),P=S("desc"),E=S(1),L=S(10),G=S(!1),M=Me({id:null,year:"",week_number:"",week_start_date:"",week_end_date:"",miles:"",notes:""}),W=R(()=>{const _=[...v.milesEntries];return _.sort((c,h)=>{let Z=c[B.value],j=h[B.value];return Z>j?P.value==="asc"?1:-1:Z<j?P.value==="asc"?-1:1:0}),_}),K=R(()=>Math.ceil(W.value.length/L.value)),Y=R(()=>{const _=(E.value-1)*L.value,c=_+L.value;return W.value.slice(_,c)}),F=R(()=>{const _=[];if(K.value<=5)for(let h=1;h<=K.value;h++)_.push(h);else{let h=Math.max(1,E.value-Math.floor(2.5)),Z=Math.min(K.value,h+5-1);Z===K.value&&(h=Math.max(1,Z-5+1));for(let j=h;j<=Z;j++)_.push(j)}return _});function te(_){_<1||_>K.value||(E.value=_)}function ne(_){B.value===_?P.value=P.value==="asc"?"desc":"asc":(B.value=_,P.value="asc"),E.value=1}function re(_=null){if(M.reset(),M.clearErrors(),_){M.id=_.id,M.week_start_date=_.week_start_date,M.week_end_date=_.week_end_date,M.miles=_.miles,M.notes=_.notes;const c=new Date(_.week_start_date),h=new Date(Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()));h.setUTCDate(h.getUTCDate()+4-(h.getUTCDay()||7));const Z=h.getUTCFullYear(),j=Math.ceil(((h-Date.UTC(Z,0,1))/864e5+1)/7)+1;M.year=Z,M.week_number=j}A.value=!0}function z(){const _=+M.year,c=+M.week_number;if(!_||!c){M.week_start_date="",M.week_end_date="";return}const h=new Date(Date.UTC(_,0,4)),Z=h.getUTCDay()||7;h.setUTCDate(h.getUTCDate()+(c-1)*7+(1-Z));const j=new Date(h);j.setUTCDate(h.getUTCDate()-1);const le=new Date(j);le.setUTCDate(j.getUTCDate()+6),M.week_start_date=j.toISOString().slice(0,10),M.week_end_date=le.toISOString().slice(0,10)}function ge(){const _=M.id?"miles_driven.update":"miles_driven.store",c=M.id?{tenantSlug:v.tenantSlug,milesDriven:M.id}:{tenantSlug:v.tenantSlug};M[M.id?"put":"post"](Ct(_,c),{preserveScroll:!0,onSuccess:()=>{A.value=!1}})}const ee=S(null);function k(_){ee.value=_,G.value=!0}function y(){if(!ee.value)return;const _="miles_driven.destroy",c={tenantSlug:v.tenantSlug,milesDriven:ee.value.id};M.delete(Ct(_,c),{preserveScroll:!0,onSuccess:()=>{G.value=!1,ee.value=null}})}function we(_){if(!_)return"";const c=new Date(_);return new Date(c.getTime()+c.getTimezoneOffset()*6e4).toLocaleDateString()}function pe(_){return Number(_).toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:4})}const U=R(()=>v.permissions.map(_=>_.name));return(_,c)=>(o(),u("div",Dr,[s("div",Or,[c[14]||(c[14]=s("h3",{class:"text-base md:text-xl font-semibold"}," Miles Driven ",-1)),U.value.includes("miles-driven.create")?(o(),w(e(b),{key:0,onClick:c[0]||(c[0]=h=>re()),variant:"default"},{default:l(()=>[t(i,{name:"plus",class:"mr-2 h-4 w-4"}),c[13]||(c[13]=s("span",null,"Add Miles Driven",-1))]),_:1})):g("",!0)]),s("div",Mr,[t(e(ye),{class:"w-full table-auto"},{default:l(()=>[t(e(ke),null,{default:l(()=>[t(e(q),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[t(e($),{class:"cursor-pointer px-4 py-2 text-left",onClick:c[1]||(c[1]=h=>ne("week_start_date"))},{default:l(()=>[c[15]||(c[15]=r(" Week Start ")),s("span",null,[B.value==="week_start_date"&&P.value==="asc"?(o(),w(i,{key:0,name:"chevron-up"})):B.value==="week_start_date"&&P.value==="desc"?(o(),w(i,{key:1,name:"chevron-down"})):(o(),w(i,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e($),{class:"cursor-pointer px-4 py-2 text-left",onClick:c[2]||(c[2]=h=>ne("week_end_date"))},{default:l(()=>[c[16]||(c[16]=r(" Week End ")),s("span",null,[B.value==="week_end_date"&&P.value==="asc"?(o(),w(i,{key:0,name:"chevron-up"})):B.value==="week_end_date"&&P.value==="desc"?(o(),w(i,{key:1,name:"chevron-down"})):(o(),w(i,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e($),{class:"cursor-pointer px-4 py-2 text-left",onClick:c[3]||(c[3]=h=>ne("miles"))},{default:l(()=>[c[17]||(c[17]=r(" Miles ")),s("span",null,[B.value==="miles"&&P.value==="asc"?(o(),w(i,{key:0,name:"chevron-up"})):B.value==="miles"&&P.value==="desc"?(o(),w(i,{key:1,name:"chevron-down"})):(o(),w(i,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),U.value.includes("miles-driven.update")||U.value.includes("miles-driven.delete")?(o(),w(e($),{key:0,class:"text-center px-4 py-2"},{default:l(()=>c[18]||(c[18]=[r(" Actions ")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(_e),null,{default:l(()=>[(o(!0),u(D,null,I(Y.value,h=>(o(),w(e(q),{key:h.id,class:"border-b hover:bg-muted/20"},{default:l(()=>[t(e(C),{class:"px-4 py-3"},{default:l(()=>[r(m(we(h.week_start_date)),1)]),_:2},1024),t(e(C),{class:"px-4 py-3"},{default:l(()=>[r(m(we(h.week_end_date)),1)]),_:2},1024),t(e(C),{class:"px-4 py-3"},{default:l(()=>[r(m(pe(h.miles)),1)]),_:2},1024),U.value.includes("miles-driven.update")||U.value.includes("miles-driven.delete")?(o(),w(e(C),{key:0,class:"text-center px-4 py-3"},{default:l(()=>[s("div",Nr,[U.value.includes("miles-driven.update")?(o(),w(e(b),{key:0,variant:"outline",size:"sm",onClick:Z=>re(h)},{default:l(()=>[t(i,{name:"pencil",class:"mr-1 h-4 w-4"}),c[19]||(c[19]=s("span",null,"Edit",-1))]),_:2},1032,["onClick"])):g("",!0),U.value.includes("miles-driven.delete")?(o(),w(e(b),{key:1,variant:"destructive",size:"sm",onClick:Z=>k(h)},{default:l(()=>[t(i,{name:"trash",class:"mr-1 h-4 w-4"}),c[20]||(c[20]=s("span",null,"Delete",-1))]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128)),_.milesEntries.length?g("",!0):(o(),w(e(q),{key:0},{default:l(()=>[t(e(C),{colspan:5,class:"py-4 text-center text-muted-foreground"},{default:l(()=>c[21]||(c[21]=[r(" No miles driven records found ")])),_:1})]),_:1}))]),_:1})]),_:1})]),K.value>1?(o(),u("div",Ir,[s("div",Ur,[s("div",Tr," Showing "+m(Y.value.length)+" of "+m(_.milesEntries.length)+" entries ",1),s("div",Fr,[t(e(b),{onClick:c[4]||(c[4]=h=>te(E.value-1)),disabled:E.value===1,variant:"ghost",size:"sm"},{default:l(()=>c[22]||(c[22]=[r(" Previous ")])),_:1},8,["disabled"]),(o(!0),u(D,null,I(F.value,h=>(o(),w(e(b),{key:h,onClick:Z=>te(h),variant:"ghost",size:"sm",class:Ne({"border-primary bg-primary/10 text-primary":E.value===h})},{default:l(()=>[r(m(h),1)]),_:2},1032,["onClick","class"]))),128)),t(e(b),{onClick:c[5]||(c[5]=h=>te(E.value+1)),disabled:E.value===K.value,variant:"ghost",size:"sm"},{default:l(()=>c[23]||(c[23]=[r(" Next ")])),_:1},8,["disabled"])])])])):g("",!0),t(e(ue),{open:A.value,"onUpdate:open":c[10]||(c[10]=h=>A.value=h)},{default:l(()=>[t(e(de),{class:"sm:max-w-md w-full max-h-[90vh] overflow-auto"},{default:l(()=>[t(e(me),null,{default:l(()=>[t(e(fe),null,{default:l(()=>[r(m(e(M).id?"Edit Miles Driven":"Add Miles Driven"),1)]),_:1}),t(e(ie),{class:"text-muted-foreground"},{default:l(()=>[r(m(e(M).id?"Update this record.":"Fill in the new miles driven record."),1)]),_:1})]),_:1}),s("form",{onSubmit:Ie(ge,["prevent"]),class:"grid gap-4 py-4"},[s("div",zr,[s("div",null,[t(e(O),{for:"year"},{default:l(()=>c[24]||(c[24]=[r("Year")])),_:1}),t(e(H),{id:"year",type:"number",modelValue:e(M).year,"onUpdate:modelValue":c[6]||(c[6]=h=>e(M).year=h),modelModifiers:{number:!0},min:"2000",max:"2100",onInput:z},null,8,["modelValue"])]),s("div",null,[t(e(O),{for:"week_number"},{default:l(()=>c[25]||(c[25]=[r("Week #")])),_:1}),t(e(H),{id:"week_number",type:"number",modelValue:e(M).week_number,"onUpdate:modelValue":c[7]||(c[7]=h=>e(M).week_number=h),modelModifiers:{number:!0},min:"1",max:"53",onInput:z},null,8,["modelValue"])])]),e(M).week_start_date?(o(),u("div",Br,[s("div",null,[t(e(O),null,{default:l(()=>c[26]||(c[26]=[r("Start (Sun)")])),_:1}),s("p",Er,m(we(e(M).week_start_date)),1)]),s("div",null,[t(e(O),null,{default:l(()=>c[27]||(c[27]=[r("End (Sat)")])),_:1}),s("p",Rr,m(we(e(M).week_end_date)),1)])])):g("",!0),s("div",null,[t(e(O),{for:"miles"},{default:l(()=>c[28]||(c[28]=[r("Miles")])),_:1}),t(e(H),{id:"miles",modelValue:e(M).miles,"onUpdate:modelValue":c[8]||(c[8]=h=>e(M).miles=h),type:"number",step:"0.0001",min:"0",max:"999999.9999"},null,8,["modelValue"])]),t(e(Ve),{class:"mt-4"},{default:l(()=>[t(e(b),{variant:"outline",type:"button",onClick:c[9]||(c[9]=h=>A.value=!1)},{default:l(()=>c[29]||(c[29]=[r(" Cancel ")])),_:1}),t(e(b),{type:"submit",disabled:e(M).processing},{default:l(()=>c[30]||(c[30]=[r("Submit")])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(e(ue),{open:G.value,"onUpdate:open":c[12]||(c[12]=h=>G.value=h)},{default:l(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-md"},{default:l(()=>[t(e(me),{class:"px-4 sm:px-6"},{default:l(()=>[t(e(fe),{class:"text-lg sm:text-xl"},{default:l(()=>c[31]||(c[31]=[r("Confirm Deletion")])),_:1}),t(e(ie),{class:"text-xs sm:text-sm"},{default:l(()=>c[32]||(c[32]=[r(" Are you sure you want to delete this miles driven record? This action cannot be undone. ")])),_:1})]),_:1}),t(e(Ve),{class:"px-4 sm:px-6"},{default:l(()=>[t(e(b),{type:"button",onClick:c[11]||(c[11]=h=>G.value=!1),variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>c[33]||(c[33]=[r(" Cancel ")])),_:1}),t(e(b),{type:"button",onClick:y,variant:"destructive",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>c[34]||(c[34]=[r(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}}),qr={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},jr={class:"border-b"},Lr={class:"flex justify-center space-x-8 px-0 pt-4"},Wr={key:0,class:"flex justify-center items-center p-12"},Qr={key:1,class:"p-0"},bo=Ze({__name:"AssetMaintenance",props:{entries:{type:Array,default:()=>[]},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},repairOrders:{type:Object,default:()=>({data:[],links:[]})},dateRange:{type:Object,default:null},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},dateFilter:{type:String,default:"yesterday"},tenantSlug:String,SuperAdmin:Boolean,perPage:{type:Number,default:10},openedComponent:{type:String,default:"repairOrders"},milesEntries:Array,permissions:Array},setup(N){const v=N,A=S(!1),B=S(""),P=S(""),E=S(v.openedComponent||"trucks"),L=R(()=>[{title:v.tenantSlug?"Dashboard":"Admin Dashboard",href:v.tenantSlug?route("dashboard",{tenantSlug:v.tenantSlug}):route("admin.dashboard")},{title:"Asset Maintenance",href:"#"}]),G=R(()=>E.value==="trucks"?Al:E.value==="milesDriven"?Pr:Ar),M=R(()=>v.permissions.map(Y=>Y.name)),W=R(()=>E.value==="trucks"?{entries:v.entries,tenantSlug:v.tenantSlug,SuperAdmin:v.SuperAdmin,tenants:v.tenants,trucks:v.trucks,vendors:v.vendors,areasOfConcern:v.areasOfConcern,permissions:v.permissions}:E.value==="milesDriven"?{milesEntries:v.milesEntries,tenantSlug:v.tenantSlug,permissions:v.permissions}:{repairOrders:v.repairOrders,tenantSlug:v.tenantSlug,SuperAdmin:v.SuperAdmin,tenants:v.tenants,trucks:v.trucks,vendors:v.vendors,areasOfConcern:v.areasOfConcern,dateRange:v.dateRange,woStatuses:v.woStatuses,weekNumber:v.weekNumber,startWeekNumber:v.startWeekNumber,endWeekNumber:v.endWeekNumber,year:v.year,canceledQSInvoices:v.canceledQSInvoices,outstandingInvoices:v.outstandingInvoices,workOrdersByTruck:v.workOrdersByTruck,workOrderByAreasOfConcern:v.workOrderByAreasOfConcern,filters:v.filters,dateFilter:v.dateFilter,perPage:v.perPage,permissions:v.permissions});function K(Y){A.value=!0,E.value=Y;const F=new URL(window.location.href);F.search="",F.searchParams.set("openedComponent",Y),window.history.replaceState({},"",F.href),setTimeout(()=>{A.value=!1},300)}return(Y,F)=>(o(),w(Et,{breadcrumbs:L.value,tenantSlug:N.tenantSlug,permissions:v.permissions},{default:l(()=>[t(e(Bt),{title:"Asset Maintenance"}),s("div",qr,[B.value?(o(),w(e(Fe),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:l(()=>[t(e(Ue),null,{default:l(()=>F[3]||(F[3]=[r("Success")])),_:1}),t(e(Te),null,{default:l(()=>[r(m(B.value),1)]),_:1})]),_:1})):g("",!0),P.value?(o(),w(e(Fe),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:l(()=>[t(e(Ue),null,{default:l(()=>F[4]||(F[4]=[r("Error")])),_:1}),t(e(Te),null,{default:l(()=>[r(m(P.value),1)]),_:1})]),_:1})):g("",!0),F[9]||(F[9]=s("div",{class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6"},[s("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"}," Asset Maintenance "),s("div",{class:"flex flex-wrap gap-3 mt-2 sm:mt-0"})],-1)),t(e(he),{class:"shadow-sm border bg-card"},{default:l(()=>[t(e(Ce),{class:"p-0"},{default:l(()=>[s("div",jr,[s("div",Lr,[M.value.includes("repair-orders.view")?(o(),w(e(b),{key:0,onClick:F[0]||(F[0]=te=>K("repairOrders")),variant:"ghost",class:Ne([[E.value==="repairOrders"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-0 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:l(()=>[t(i,{name:"clipboardList",class:"mr-2 h-4 w-4"}),F[5]||(F[5]=s("span",null,"Repair Orders",-1))]),_:1},8,["class"])):g("",!0),M.value.includes("miles-driven.view")?(o(),w(e(b),{key:1,onClick:F[1]||(F[1]=te=>K("milesDriven")),variant:"ghost",class:Ne([[E.value==="milesDriven"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:l(()=>[t(i,{name:"gauge",class:"mr-2 h-4 w-4"}),F[6]||(F[6]=s("span",null,"Miles Driven",-1))]),_:1},8,["class"])):g("",!0),M.value.includes("trucks.view")?(o(),w(e(b),{key:2,onClick:F[2]||(F[2]=te=>K("trucks")),variant:"ghost",class:Ne([[E.value==="trucks"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:l(()=>[t(i,{name:"truck",class:"mr-2 h-4 w-4"}),F[7]||(F[7]=s("span",null,"Trucks",-1))]),_:1},8,["class"])):g("",!0)])]),A.value?(o(),u("div",Wr,F[8]||(F[8]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):(o(),u("div",Qr,[(o(),w(Pt(G.value),qt(jt(W.value)),null,16))]))]),_:1})]),_:1})])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}});export{bo as default};
