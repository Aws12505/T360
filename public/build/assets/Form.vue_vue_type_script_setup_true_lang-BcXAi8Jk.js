import{d as $,c as B,am as N,b as x,e as n,u as e,an as M,m as E,f as d,z as s,i as T,ai as U,ao as j,M as i,N as _,V as r,G as q,F as u,C as z,H as F,I as L,W as P,E as v}from"./vendor-V15tCYD7.js";import{x as D}from"./vendor-vue-CX2lYCwr.js";import{_ as c,a as w}from"./Label.vue_vue_type_script_setup_true_lang-B5KT1zkt.js";import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang-D8N7iMlA.js";import{c as C}from"./utils-mNqKJl5l.js";import{_ as G}from"./Card.vue_vue_type_script_setup_true_lang-BoKpLyfJ.js";import{_ as A}from"./CardContent.vue_vue_type_script_setup_true_lang-CMp4m9t0.js";import{_ as H}from"./CardHeader.vue_vue_type_script_setup_true_lang-DP10pkoB.js";import{_ as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-BblEC4LI.js";import{L as O}from"./vendor-icons-BfFpU_zn.js";const S=$({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(m,{emit:g}){const l=m,f=g,h=B(()=>{const{class:p,...b}=l;return b}),o=N(h,f);return(p,b)=>(n(),x(e(M),E(e(o),{class:e(C)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",l.class)}),{default:d(()=>[s(e(j),{class:U(e(C)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5"))},{default:d(()=>[T(p.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),W={class:"space-y-2"},J={key:0},K=["value"],Q={key:1,class:"text-lg font-medium capitalize text-foreground"},R={class:"space-y-4 p-4 border rounded-md border-border bg-card"},X={class:"flex items-center justify-between"},Y={key:0,class:"space-y-2"},Z={class:"space-y-4 p-4 border rounded-md border-border bg-card"},ee={class:"flex items-center justify-between"},te={key:0,class:"space-y-2"},oe={class:"flex justify-end space-x-3"},fe=$({__name:"Form",props:{entry:{type:Object,default:()=>({})},isCreating:{type:Boolean,default:!1},availableMetrics:{type:Array,default:()=>[]},tenantSlug:{type:String,default:null}},emits:["saved","cancel"],setup(m,{emit:g}){const l=m,f=g,{tenantSlug:h}=l,o=D({id:l.entry.id,metric_name:l.entry.metric_name||"",good_threshold:l.entry.good_threshold??null,bad_threshold:l.entry.bad_threshold??null,good_enabled:l.entry.good_enabled??!0,bad_enabled:l.entry.bad_enabled??!0}),p=B(()=>l.isCreating?"Create New Threshold":"Edit Threshold"),b=()=>{o.post(route("sms-coaching.update",{tenantSlug:h}),{onSuccess:()=>f("saved")})},V=y=>y.replace(/_/g," ");return(y,t)=>(n(),x(e(G),{class:"shadow-sm"},{default:d(()=>[s(e(H),null,{default:d(()=>[s(e(I),null,{default:d(()=>[i(_(p.value),1)]),_:1})]),_:1}),s(e(A),null,{default:d(()=>[r("form",{onSubmit:q(b,["prevent"]),class:"space-y-6"},[r("div",W,[s(e(c),{for:"metric_name"},{default:d(()=>t[6]||(t[6]=[i("Metric Name")])),_:1}),m.isCreating?(n(),u("div",J,[z(r("select",{id:"metric_name","onUpdate:modelValue":t[0]||(t[0]=a=>e(o).metric_name=a),required:"",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground dark:text-white shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[7]||(t[7]=r("option",{value:"",disabled:""},"Select a metric",-1)),(n(!0),u(F,null,L(m.availableMetrics,a=>(n(),u("option",{key:a,value:a,class:"capitalize"},_(V(a)),9,K))),128))],512),[[P,e(o).metric_name]])])):(n(),u("div",Q,_(V(e(o).metric_name)),1))]),r("div",R,[r("div",X,[s(e(c),{for:"good_enabled",class:"text-base font-medium text-foreground"},{default:d(()=>t[8]||(t[8]=[i("Good Threshold")])),_:1}),s(e(S),{id:"good_enabled",modelValue:e(o).good_enabled,"onUpdate:modelValue":t[1]||(t[1]=a=>e(o).good_enabled=a)},null,8,["modelValue"])]),e(o).good_enabled?(n(),u("div",Y,[s(e(c),{for:"good_threshold",class:"text-foreground"},{default:d(()=>t[9]||(t[9]=[i("Value")])),_:1}),s(e(w),{id:"good_threshold",modelValue:e(o).good_threshold,"onUpdate:modelValue":t[2]||(t[2]=a=>e(o).good_threshold=a),type:"number",step:"0.01",placeholder:"Enter threshold value",class:"w-full"},null,8,["modelValue"]),t[10]||(t[10]=r("p",{class:"text-sm text-muted-foreground"},' Values less than or equal to this threshold will be considered "good". ',-1))])):v("",!0)]),r("div",Z,[r("div",ee,[s(e(c),{for:"bad_enabled",class:"text-base font-medium text-foreground"},{default:d(()=>t[11]||(t[11]=[i("Bad Threshold")])),_:1}),s(e(S),{id:"bad_enabled",modelValue:e(o).bad_enabled,"onUpdate:modelValue":t[3]||(t[3]=a=>e(o).bad_enabled=a)},null,8,["modelValue"])]),e(o).bad_enabled?(n(),u("div",te,[s(e(c),{for:"bad_threshold",class:"text-foreground"},{default:d(()=>t[12]||(t[12]=[i("Value")])),_:1}),s(e(w),{id:"bad_threshold",modelValue:e(o).bad_threshold,"onUpdate:modelValue":t[4]||(t[4]=a=>e(o).bad_threshold=a),type:"number",step:"0.01",placeholder:"Enter threshold value",class:"w-full"},null,8,["modelValue"]),t[13]||(t[13]=r("p",{class:"text-sm text-muted-foreground"},' Values more than or equal to this threshold will be considered "bad". ',-1))])):v("",!0)]),r("div",oe,[s(e(k),{type:"button",onClick:t[5]||(t[5]=a=>f("cancel")),variant:"outline"},{default:d(()=>t[14]||(t[14]=[i(" Cancel ")])),_:1}),s(e(k),{type:"submit",disabled:e(o).processing},{default:d(()=>[e(o).processing?(n(),x(e(O),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):v("",!0),i(" "+_(e(o).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}});export{fe as _};
