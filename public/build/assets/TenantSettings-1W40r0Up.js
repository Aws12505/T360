import{c as V,r as k,d as U,b as L,e as o,f as b,z as l,u as i,V as e,F as n,E as d,ai as N,G as M,M as x,N as a,aq as j,C as z,D as E}from"./vendor-V15tCYD7.js";import{x as G,g as A}from"./vendor-vue-CX2lYCwr.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-BoqS1NJK.js";import{_ as F,a as I}from"./Layout.vue_vue_type_script_setup_true_lang-_ZJCdktP.js";import{_ as q}from"./Button.vue_vue_type_script_setup_true_lang-D8N7iMlA.js";import{_,a as h}from"./Label.vue_vue_type_script_setup_true_lang-B5KT1zkt.js";import{_ as S}from"./Separator.vue_vue_type_script_setup_true_lang-DV6mJdaG.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-mNqKJl5l.js";import"./vendor-ui-Bz5CVjPz.js";import"./Icon.vue_vue_type_script_setup_true_lang-BUfn1Nb5.js";import"./vendor-icons-BfFpU_zn.js";import"./app-DcxYiYPp.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CIZWYdx8.js";const v=k([]);function O(){const s=u=>{const p=Math.random().toString(36).substring(2,9),f={id:p,...u,duration:u.duration||5e3};return v.value=[...v.value,f],setTimeout(()=>{c(p)},f.duration),p},c=u=>{v.value=v.value.filter(p=>p.id!==u)};return{toasts:V(()=>v.value),toast:s,dismissToast:c}}const R={class:"space-y-6"},Y={class:"border-b"},J={class:"flex space-x-8"},W={key:0,class:"space-y-6"},H={key:0,class:"flex flex-col items-center space-y-3 p-4 border rounded-md bg-muted/50"},K={class:"w-32 h-32 rounded-md overflow-hidden border border-border flex items-center justify-center bg-white"},Q=["src"],X={class:"grid gap-2"},Z={key:0,class:"text-sm text-destructive"},tt={class:"grid gap-2"},et={key:0,class:"text-sm text-destructive"},st={class:"grid gap-2"},it={class:"flex items-start space-x-4"},ot={key:0,class:"w-24 h-24 rounded-md overflow-hidden border border-border flex items-center justify-center bg-white"},nt=["src"],at={class:"flex-1"},rt={key:0,class:"text-sm text-destructive"},dt={class:"flex items-center gap-4"},lt={key:0},ct={key:1},ut={class:"text-sm text-neutral-600"},mt={key:1,class:"space-y-6"},gt={key:0,class:"bg-card rounded-lg border shadow-sm p-6"},pt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},bt={class:"space-y-2"},ft={class:"text-lg font-semibold"},vt={class:"text-sm text-muted-foreground"},yt={class:"space-y-2 md:text-right"},xt={class:"text-2xl font-bold"},_t={class:"space-y-3 col-span-1 md:col-span-2"},ht={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},St={class:"bg-muted/50 p-3 rounded-md"},kt={class:"font-medium"},wt={class:"bg-muted/50 p-3 rounded-md"},Ct={class:"font-medium"},Nt={class:"bg-muted/50 p-3 rounded-md"},Vt={class:"font-medium"},$t={class:"text-xs text-muted-foreground"},Dt={key:0,class:"space-y-3 col-span-1 md:col-span-2"},Bt={class:"bg-muted/50 p-3 rounded-md"},Tt={key:0},Ut={key:1},Lt={key:0},Mt={key:1},jt={key:2},zt={key:2},Et={key:3,class:"mt-1 text-sm text-muted-foreground"},Gt={key:1,class:"bg-muted/50 p-6 rounded-lg border text-center"},Zt=U({__name:"TenantSettings",props:{tenant:{type:Object,required:!0},tenantSlug:{type:String,required:!0},subscription:{type:Object,default:null}},setup(s){const c=s,u=k("company");V(()=>[{title:c.tenantSlug?"Dashboard":"Admin Dashboard",href:c.tenantSlug?route("dashboard",{tenantSlug:c.tenantSlug}):route("admin.dashboard")}]);const{toast:p}=O(),f=k(null),r=G({name:c.tenant.name,slug:c.tenant.slug,image:null}),$=m=>{const t=m.target;if(t.files&&t.files[0]){r.image=t.files[0];const g=new FileReader;g.onload=y=>{var C;f.value=(C=y.target)==null?void 0:C.result},g.readAsDataURL(t.files[0])}},D=()=>{r.post(route("tenant.settings.update",c.tenantSlug),{onSuccess:()=>{p({title:"Success",description:"Company settings updated successfully"})},preserveScroll:!0})},B=(m,t="USD")=>m?new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD"}).format(m):"$0.00",w=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",T=(m,t)=>{if(!m||!t)return"N/A";const g=m.toString().padStart(2,"0"),y=t.toString().length===4?t.toString().slice(-2):t.toString();return`${g}/${y}`};return(m,t)=>(o(),L(P,{breadcrumbs:c.breadcrumbItems,tenantSlug:c.tenantSlug},{default:b(()=>[l(i(A),{title:"Company"}),l(F,null,{default:b(()=>[e("div",R,[l(I,{title:"Company",description:"Manage your company information and subscription"}),l(i(S)),e("div",Y,[e("div",J,[e("button",{onClick:t[0]||(t[0]=g=>u.value="company"),class:N(["py-2 px-1 -mb-px font-medium text-sm",u.value==="company"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"])}," Company Settings ",2),e("button",{onClick:t[1]||(t[1]=g=>u.value="subscription"),class:N(["py-2 px-1 -mb-px font-medium text-sm",u.value==="subscription"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"])}," Subscription Details ",2)])]),u.value==="company"?(o(),n("div",W,[s.tenant.image_path?(o(),n("div",H,[t[4]||(t[4]=e("div",{class:"text-sm font-medium"},"Current Company Logo",-1)),e("div",K,[e("img",{src:`/storage/${s.tenant.image_path}`,alt:"Company Logo",class:"max-w-full max-h-full object-contain"},null,8,Q)]),t[5]||(t[5]=e("div",{class:"text-xs text-muted-foreground"}," Logo is optimized and converted to SVG for better quality ",-1))])):d("",!0),e("form",{onSubmit:M(D,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[e("div",X,[l(i(_),{for:"name"},{default:b(()=>t[6]||(t[6]=[x("Company Name")])),_:1}),l(i(h),{id:"name",modelValue:i(r).name,"onUpdate:modelValue":t[2]||(t[2]=g=>i(r).name=g),placeholder:"Enter company name",class:"mt-1 block w-full"},null,8,["modelValue"]),i(r).errors.name?(o(),n("p",Z,a(i(r).errors.name),1)):d("",!0)]),e("div",tt,[l(i(_),{for:"slug"},{default:b(()=>t[7]||(t[7]=[x("Slug")])),_:1}),l(i(h),{id:"slug",modelValue:i(r).slug,"onUpdate:modelValue":t[3]||(t[3]=g=>i(r).slug=g),placeholder:"Enter company slug",class:"mt-1 block w-full"},null,8,["modelValue"]),i(r).errors.slug?(o(),n("p",et,a(i(r).errors.slug),1)):d("",!0)]),e("div",st,[l(i(_),{for:"image"},{default:b(()=>t[8]||(t[8]=[x("Update Company Logo")])),_:1}),e("div",it,[f.value?(o(),n("div",ot,[e("img",{src:f.value,alt:"New Company Logo Preview",class:"max-w-full max-h-full object-contain"},null,8,nt)])):d("",!0),e("div",at,[l(i(h),{id:"image",type:"file",onChange:$,accept:"image/jpeg,image/png,image/gif,image/svg+xml",class:"mt-1 block w-full"}),t[9]||(t[9]=e("p",{class:"text-xs text-muted-foreground mt-1"}," Accepted formats: JPEG, PNG, GIF, SVG. Max size: 2MB. Will be optimized and converted to SVG. ",-1)),i(r).errors.image?(o(),n("p",rt,a(i(r).errors.image),1)):d("",!0)])])]),e("div",dt,[l(i(q),{type:"submit",disabled:i(r).processing},{default:b(()=>[i(r).processing?(o(),n("span",lt,"Updating...")):(o(),n("span",ct,"Save Changes"))]),_:1},8,["disabled"]),l(j,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:b(()=>[z(e("p",ut,"Saved.",512),[[E,i(r).recentlySuccessful]])]),_:1})])],32)])):d("",!0),u.value==="subscription"?(o(),n("div",mt,[s.subscription?(o(),n("div",gt,[e("div",pt,[e("div",bt,[e("h3",ft,a(s.subscription.name),1),e("p",vt,a(s.subscription.description||"No description available"),1)]),e("div",yt,[e("div",xt,a(B(s.subscription.price,s.subscription.currency_code)),1)]),e("div",_t,[l(i(S)),t[13]||(t[13]=e("h4",{class:"font-medium"},"Billing Information",-1)),e("div",ht,[e("div",St,[t[10]||(t[10]=e("div",{class:"text-xs text-muted-foreground"},"Next Billing",-1)),e("div",kt,a(w(s.subscription.next_billing_at)),1)]),e("div",wt,[t[11]||(t[11]=e("div",{class:"text-xs text-muted-foreground"},"Last Billing",-1)),e("div",Ct,a(w(s.subscription.last_billing_at)),1)]),e("div",Nt,[t[12]||(t[12]=e("div",{class:"text-xs text-muted-foreground"},"Payment Method",-1)),e("div",Vt,a(s.subscription.card_type)+" •••• "+a(s.subscription.last_four_digits),1),e("div",$t,"Expires "+a(T(s.subscription.expiry_month,s.subscription.expiry_year)),1)])])]),s.subscription.billing_address?(o(),n("div",Dt,[l(i(S)),t[14]||(t[14]=e("h4",{class:"font-medium"},"Billing Address",-1)),e("div",Bt,[s.subscription.billing_address.street?(o(),n("div",Tt,a(s.subscription.billing_address.street),1)):d("",!0),s.subscription.billing_address.street2?(o(),n("div",Ut,a(s.subscription.billing_address.street2),1)):d("",!0),e("div",null,[s.subscription.billing_address.city?(o(),n("span",Lt,a(s.subscription.billing_address.city)+", ",1)):d("",!0),s.subscription.billing_address.state?(o(),n("span",Mt,a(s.subscription.billing_address.state),1)):d("",!0),s.subscription.billing_address.zip?(o(),n("span",jt,a(s.subscription.billing_address.zip),1)):d("",!0)]),s.subscription.billing_address.country?(o(),n("div",zt,a(s.subscription.billing_address.country),1)):d("",!0),s.subscription.billing_address.phone?(o(),n("div",Et," Phone: "+a(s.subscription.billing_address.phone),1)):d("",!0)])])):d("",!0)])])):(o(),n("div",Gt,t[15]||(t[15]=[e("h3",{class:"text-lg font-medium mb-2"},"No Subscription Found",-1),e("p",{class:"text-muted-foreground"},"Your company doesn't have an active subscription.",-1)])))])):d("",!0)])]),_:1})]),_:1},8,["breadcrumbs","tenantSlug"]))}});export{Zt as default};
