import{H as i,i as r,X as n,a as ae,r as k,A as _t,W as wt,an as yt,f as _,j as l,B as s,u as t,G as p,O as a,P as m,I as re,ak as de,J as A,K as V,E as h,Y as M,al as he,am as De}from"./vendor-DQlNQ5gH.js";import{_ as y}from"./Icon.vue_vue_type_script_setup_true_lang-D_7hXODg.js";import{_ as K,a as X,b as O,c as w,d as Z,e as g}from"./TableRow.vue_vue_type_script_setup_true_lang-tbX_6Hnu.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-B-8911bK.js";import{_ as Ve}from"./Card.vue_vue_type_script_setup_true_lang-yOexdr0W.js";import{_ as bt}from"./CardHeader.vue_vue_type_script_setup_true_lang-BXftwvVe.js";import{_ as kt}from"./CardTitle.vue_vue_type_script_setup_true_lang-OH7QXspQ.js";import{_ as Oe}from"./CardContent.vue_vue_type_script_setup_true_lang-Dh-7LYTR.js";import{_ as L,a as Q,b as E,c as j,d as P}from"./DialogDescription.vue_vue_type_script_setup_true_lang-ffXSICao.js";import{_ as Y}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CJ4mwW2I.js";import{_ as b,a as D}from"./Label.vue_vue_type_script_setup_true_lang-BRq5T-WA.js";import{_ as Ne,a as Ie,b as Ue}from"./AlertDescription.vue_vue_type_script_setup_true_lang-DGF9dqnu.js";import{_ as St}from"./AppLayout.vue_vue_type_script_setup_true_lang-AWtMNQ9g.js";import{x as ye,W as C,g as Ct}from"./vendor-vue-CQn6KzTb.js";import{d as At}from"./vendor-lodash-BRlRsCW0.js";import{_ as Vt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-D2wO_Ovf.js";import"./vendor-icons-pKobgiP0.js";import"./vendor-ui-CGEGZLyF.js";import"./app-D7DQGb5e.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BpTGIYrD.js";const Ot={class:"inline-flex ml-1"},$t={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},ht={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},Dt={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-muted-foreground opacity-30",viewBox:"0 0 20 20",fill:"currentColor"},$e={__name:"SortIndicator",props:{column:{type:String,required:!0},sortColumn:{type:String,required:!0},sortDirection:{type:String,required:!0}},setup(c){return(f,U)=>(r(),i("div",Ot,[c.column===c.sortColumn&&c.sortDirection==="asc"?(r(),i("svg",$t,U[0]||(U[0]=[n("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)]))):c.column===c.sortColumn&&c.sortDirection==="desc"?(r(),i("svg",ht,U[1]||(U[1]=[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]))):(r(),i("svg",Dt,U[2]||(U[2]=[n("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])))]))}},Nt={class:"w-full max-w-screen-xl mx-auto p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},It={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6"},Ut={class:"flex flex-wrap gap-3"},Mt={class:"relative"},Rt={key:0,class:"absolute right-0 z-10 mt-1 w-48 rounded-md border bg-background shadow-lg"},zt={class:"py-1"},qt={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},Wt=["href"],Ft={key:2,class:"mb-6"},Tt={class:"rounded-md border-l-4 border-red-500 bg-red-50 p-4 shadow-sm dark:border-red-400 dark:bg-red-900/30"},Bt={class:"flex items-center"},Lt={class:"flex-shrink-0"},Qt={class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-800"},Et={class:"ml-3"},jt={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Pt={class:"mt-2"},Yt={class:"flex flex-col items-center md:items-start gap-2"},Ht={class:"flex flex-wrap gap-1 md:gap-2"},Gt={key:0,class:"text-sm text-muted-foreground"},Jt={key:0},Kt={key:1},Xt={key:2},Zt={key:3,class:"ml-1"},es={key:3,class:"mb-6 rounded-lg border bg-card p-4 shadow-sm mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto"},ts={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},ss={class:"mt-4 flex justify-end"},ls={key:4,class:"mb-6 rounded-lg border bg-card shadow-sm mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto"},os={class:"flex items-center justify-between border-b p-4"},ns={key:0,class:"p-4"},as={key:5,class:"mb-6 rounded-lg border bg-card shadow-sm"},rs={class:"flex items-center justify-between"},ds={class:"flex items-center gap-2"},us={key:0,class:"ml-4 flex flex-wrap gap-2 text-xs text-muted-foreground"},is={key:0,class:"rounded-full bg-muted px-2 py-1"},ms={key:1,class:"rounded-full bg-muted px-2 py-1"},fs={key:2,class:"rounded-full bg-muted px-2 py-1"},ps={class:"flex flex-col gap-1 md:gap-4"},cs={class:"grid grid-cols-1 sm:grid-cols-3 gap-1 md:gap-4 w-full"},vs=["value"],xs={key:0},gs=["value"],_s={key:0},ws={class:"flex justify-end"},ys={class:"overflow-x-auto border-t border-border bg-background dark:bg-background"},bs={class:"flex items-center justify-center"},ks=["checked"],Ss={class:"flex items-center"},Cs={class:"flex items-center"},As={class:"flex items-center"},Vs=["value"],Os={key:0,class:"ml-1 text-xs text-red-500"},$s={key:0},hs={key:0,class:"text-xs text-red-500"},Ds={key:1},Ns={key:1},Is={class:"flex space-x-2"},Us={key:0,class:"border-t bg-muted/20 px-4 py-3"},Ms={class:"flex flex-col sm:flex-row justify-between items-center gap-2"},Rs={class:"text-sm text-muted-foreground"},zs={class:"flex flex-col sm:flex-row items-center gap-2 sm:gap-4 w-full sm:w-auto"},qs={class:"flex items-center gap-2"},Ws={class:"flex flex-wrap"},Fs=["innerHTML"],Ts={key:0,class:"col-span-2"},Bs={class:"relative mt-1"},Ls=["value"],Qs={class:"col-span-2 sm:col-span-1"},Es={class:"col-span-2 sm:col-span-1"},js={class:"col-span-2 sm:col-span-1"},Ps={class:"col-span-2 sm:col-span-1"},Ys={class:"relative mt-1"},Hs=["value"],Gs={class:"col-span-2"},Js={class:"mt-1 rounded-md border border-input bg-background p-2"},Ks={class:"mb-2 flex flex-wrap gap-1"},Xs={key:0,class:"ml-1 text-[0.65rem] text-red-500 sm:text-xs"},Zs=["onClick"],el={class:"relative"},tl=["value","disabled"],sl={class:"col-span-2"},ll={class:"col-span-2 sm:col-span-1"},ol={class:"relative mt-1"},nl=["value","disabled"],al={class:"col-span-2 sm:col-span-1"},rl={class:"col-span-2 sm:col-span-1"},dl={class:"relative mt-1"},ul=["value","disabled"],il={class:"col-span-2 sm:col-span-1"},ml={class:"col-span-2 sm:col-span-1"},fl={class:"col-span-2 sm:col-span-1"},pl={class:"mt-1 flex items-center space-x-2"},cl={class:"col-span-2 sm:col-span-1"},vl={class:"relative mt-1"},xl={class:"col-span-2 sm:col-span-1"},gl={key:1},_l={class:"relative mt-1"},wl={key:2,class:"col-span-2"},yl={class:"space-y-4 sm:space-y-6"},bl={class:"space-y-1 sm:space-y-2"},kl={class:"rounded-md border"},Sl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Cl={key:0,class:"ml-1 text-xs text-red-500"},Al={class:"flex space-x-1 sm:space-x-2"},Vl={class:"space-y-4 sm:space-y-6"},Ol={class:"space-y-1 sm:space-y-2"},$l={class:"overflow-hidden rounded-md border"},hl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Dl={key:0,class:"ml-1 text-xs text-red-500"},Nl={class:"flex space-x-1 sm:space-x-2"},Il={class:"space-y-4 sm:space-y-6"},Ul={class:"space-y-1 sm:space-y-2"},Ml={class:"overflow-hidden rounded-md border"},Rl={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},zl={key:0,class:"ml-1 text-xs text-red-500"},ql={class:"flex space-x-1 sm:space-x-2"},Wl={class:"max-h-[60vh] overflow-x-auto overflow-y-auto"},Fl={class:"flex items-center gap-2"},Tl={key:1,class:"py-8 text-center text-muted-foreground"},Bl={__name:"Index",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},initialMinInvoiceAmount:{type:[Number,String,null],default:null},initialOutstandingDate:{type:[String,null],default:null},outstandingInvoices:{type:Array,default:()=>[]}},setup(c){const f=c,U=ae(()=>(N.value==="yesterday"||N.value==="current-week")&&f.weekNumber&&f.year?`Week ${f.weekNumber}, ${f.year}`:(N.value==="6w"||N.value==="quarterly")&&f.startWeekNumber&&f.endWeekNumber&&f.year?`Weeks ${f.startWeekNumber}-${f.endWeekNumber}, ${f.year}`:""),Me=[{title:f.tenantSlug?"Dashboard":"Admin Dashboard",href:f.tenantSlug?route("dashboard",{tenantSlug:f.tenantSlug}):route("admin.dashboard")},{title:"Repair Orders",href:f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin")}],ue=k(f.woStatuses||[]),ie=k(!1),ee=k({name:""}),me=k(""),$=k(""),W=k(!1),te=k(!1),fe=k(!1),pe=k(!1),be=k("Create Repair Order"),F=k("Create"),ce=k(null),T=k("ro_number"),R=k("asc"),N=k(f.dateFilter||"full"),ve=k(10),I=k([]),se=k(!1),H=k(!1),Re=ae(()=>f.repairOrders.data.length>0&&f.repairOrders.data.every(d=>I.value.includes(d.id)));function ze(d){d.target.checked?I.value=f.repairOrders.data.map(e=>e.id):I.value=[]}function qe(){I.value.length>0&&(se.value=!0)}function We(){const d=ye({ids:I.value}),e=f.SuperAdmin?"repair_orders.destroyBulk.admin":"repair_orders.destroyBulk",z=f.SuperAdmin?{}:{tenantSlug:f.tenantSlug};d.delete(route(e,z),{preserveScroll:!0,onSuccess:()=>{$.value=`${I.value.length} repair orders deleted successfully.`,I.value=[],se.value=!1},onError:q=>{console.error(q),alert("Error deleting repair orders")}})}const S=k({search:"",vendor_id:"",status:""}),u=ye({id:null,tenant_id:f.SuperAdmin?"":null,ro_number:"",ro_open_date:new Date().toISOString().split("T")[0],ro_close_date:"",truck_id:"",vendor_id:"",wo_number:"",wo_status_id:"",invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),le=ye({concern:""}),oe=ye({vendor_name:""}),Fe=ae(()=>f.areasOfConcern.filter(d=>!u.area_of_concerns.includes(d.id))),Te=()=>{u.reset(),u.tenant_id=f.SuperAdmin?"":null,u.invoice_received=!1,u.on_qs=!1,u.disputed=!1,u.dispute_outcome="",u.area_of_concerns=[],be.value="Create Repair Order",F.value="Create",W.value=!0},Be=d=>{u.reset(),u.id=d.id,u.tenant_id=d.tenant_id,u.ro_number=d.ro_number,u.ro_open_date=d.ro_open_date,u.ro_close_date=d.ro_close_date||"",u.truck_id=d.truck_id,u.vendor_id=d.vendor_id,u.wo_number=d.wo_number,u.wo_status_id=d.wo_status_id,u.invoice=d.invoice||"",u.invoice_amount=d.invoice_amount||"",u.invoice_received=!!d.invoice_received,u.on_qs=d.on_qs||"no",u.qs_invoice_date=d.qs_invoice_date||"",u.disputed=!!d.disputed,u.dispute_outcome=d.dispute_outcome||"",u.repairs_made=d.repairs_made||"",u.area_of_concerns=[],d.areas_of_concern&&Array.isArray(d.areas_of_concern)&&(u.area_of_concerns=d.areas_of_concern.map(e=>e.id)),be.value="Edit Repair Order",F.value="Update",W.value=!0},Le=()=>{u.reset(),W.value=!1},Qe=()=>{const d=f.SuperAdmin?route("repair_orders.store.admin"):route("repair_orders.store",f.tenantSlug);if(F.value==="Update"&&u.id){const e=f.SuperAdmin?route("repair_orders.update.admin",u.id):route("repair_orders.update",[f.tenantSlug,u.id]);u.put(e,{onSuccess:()=>{$.value="Repair order updated successfully!",W.value=!1,u.reset()}})}else u.post(d,{onSuccess:()=>{$.value="Repair order created successfully!",W.value=!1,u.reset()}})},Ee=d=>{ce.value=d,te.value=!0},je=()=>{const d=f.SuperAdmin?route("repair_orders.destroy.admin",ce.value):route("repair_orders.destroy",[f.tenantSlug,ce.value]);C.delete(d,{onSuccess:()=>{te.value=!1,ce.value=null}})},Pe=()=>{le.reset(),fe.value=!0},Ye=()=>{le.post(route("area_of_concerns.store.admin"),{onSuccess:()=>{le.reset()}})},He=d=>{confirm("Are you sure you want to delete this area of concern?")&&C.delete(route("area_of_concerns.destroy.admin",d))},Ge=d=>{confirm("Are you sure you want to restore this area of concern?")&&C.post(route("area_of_concerns.restore.admin",d))},Je=d=>{confirm("Are you sure you want to permanently delete this area of concern? This action cannot be undone.")&&C.delete(route("area_of_concerns.forceDelete.admin",d))},Ke=()=>{oe.reset(),pe.value=!0},Xe=()=>{oe.post(route("vendors.store.admin"),{onSuccess:()=>{oe.reset()}})},Ze=d=>{confirm("Are you sure you want to delete this vendor?")&&C.delete(route("vendors.destroy.admin",d))},et=d=>{confirm("Are you sure you want to restore this vendor?")&&C.post(route("vendors.restore.admin",d))},tt=d=>{confirm("Are you sure you want to permanently delete this vendor? This action cannot be undone.")&&C.delete(route("vendors.forceDelete.admin",d))},st=d=>{const e=parseInt(d.target.value);e&&!u.area_of_concerns.includes(e)&&u.area_of_concerns.push(e),d.target.value=""},lt=d=>{u.area_of_concerns=u.area_of_concerns.filter(e=>e!==d)},ot=d=>{d&&C.visit(d,{preserveState:!0})},ke=d=>{T.value===d?R.value=R.value==="asc"?"desc":"asc":(T.value=d,R.value="asc");const e=f.SuperAdmin?route("repair_orders.index.admin"):route("repair_orders.index",f.tenantSlug);C.get(e,{sort:T.value,direction:R.value,...S.value},{preserveState:!0})},nt=At(()=>{xe()},500),xe=()=>{const d=f.SuperAdmin?route("repair_orders.index.admin"):route("repair_orders.index",f.tenantSlug);C.get(d,{sort:T.value,direction:R.value,...S.value},{preserveState:!0})},at=()=>{S.value={search:"",vendor_id:"",status:""},xe()},ge=d=>{N.value=d;const e=f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin");C.get(e,{dateFilter:d,perPage:ve.value},{preserveState:!0})},rt=()=>{const d=f.tenantSlug?route("repair_orders.index",{tenantSlug:f.tenantSlug}):route("repair_orders.index.admin");C.get(d,{dateFilter:N.value,perPage:ve.value},{preserveState:!0})},dt=d=>{const e=d.target.files[0];if(!e)return;const z=new FormData;z.append("file",e);const q=f.SuperAdmin?route("repair_orders.import.admin"):route("repair_orders.import",f.tenantSlug);C.post(q,z,{onSuccess:()=>{$.value="Import completed successfully!",d.target.value=null},onError:o=>{console.error("Import errors:",o)}})},ut=()=>{if(f.repairOrders.data.length===0){me.value="No data available to export",setTimeout(()=>{me.value=""},3e3);return}window.location.href=f.SuperAdmin?route("repair_orders.export.admin"):route("repair_orders.export",f.tenantSlug)},G=d=>{if(!d)return"";const e=d.split("-");if(e.length!==3)return d;const[z,q,o]=e;return`${Number(q)}/${Number(o)}/${z}`},Se=d=>d?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d):"$0.00",ne=k(!1),it=ae(()=>"/storage/upload-data-temps/Repair Orders Template.csv");_t(()=>{const d=e=>{ne.value&&!e.target.closest(".relative")&&(ne.value=!1)};document.addEventListener("click",d),wt(()=>{document.removeEventListener("click",d)})});function mt(){ie.value=!0,ee.value={name:""}}function ft(){C.post(route("wo_statuses.store.admin"),ee.value,{onSuccess:()=>{ee.value.name="",$.value="Work order status created successfully.",setTimeout(()=>{$.value=""},3e3)}})}function pt(d){confirm("Are you sure you want to delete this work order status?")&&C.delete(route("wo_statuses.destroy.admin",d),{onSuccess:()=>{$.value="Work order status deleted successfully.",setTimeout(()=>{$.value=""},3e3)}})}function ct(d){C.post(route("wo_statuses.restore.admin",d),{},{onSuccess:()=>{$.value="Work order status restored successfully.",setTimeout(()=>{$.value=""},3e3)}})}function vt(d){confirm("Are you sure you want to permanently delete this work order status? This action cannot be undone.")&&C.delete(route("wo_statuses.forceDelete.admin",d),{onSuccess:()=>{$.value="Work order status permanently deleted.",setTimeout(()=>{$.value=""},3e3)}})}const xt=ae(()=>f.canceledQSInvoices.length>0),_e=k(!1),Ce=k(f.initialMinInvoiceAmount||null),Ae=k(f.initialOutstandingDate||null),J=k(!1),gt=()=>{C.visit(route("repair_orders.index",{tenantSlug:f.tenantSlug,dateFilter:N.value,minInvoiceAmount:Ce.value||null,outstandingDate:Ae.value||null}),{preserveState:!0,preserveScroll:!0,only:["maintenanceData"]})};return(d,e)=>{const z=yt("Badge");return r(),_(St,{breadcrumbs:Me,tenantSlug:c.tenantSlug},{default:l(()=>{var q;return[s(t(Ct),{title:"Repair Orders"}),n("div",Nt,[$.value?(r(),_(t(Ne),{key:0,variant:"success"},{default:l(()=>[s(t(Ie),null,{default:l(()=>e[53]||(e[53]=[a("Success")])),_:1}),s(t(Ue),null,{default:l(()=>[a(m($.value),1)]),_:1})]),_:1})):p("",!0),me.value?(r(),_(t(Ne),{key:1,variant:"destructive"},{default:l(()=>[s(t(Ie),null,{default:l(()=>e[54]||(e[54]=[a("Error")])),_:1}),s(t(Ue),null,{default:l(()=>[a(m(me.value),1)]),_:1})]),_:1})):p("",!0),n("div",It,[e[62]||(e[62]=n("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold"},"Repair Orders",-1)),n("div",Ut,[s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:Te,variant:"default"},{default:l(()=>[s(y,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),e[55]||(e[55]=a(" Create New Repair Order "))]),_:1}),I.value.length>0?(r(),_(t(x),{key:0,onClick:e[0]||(e[0]=o=>qe()),variant:"destructive"},{default:l(()=>[s(y,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),a(" Delete Selected ("+m(I.value.length)+") ",1)]),_:1})):p("",!0),c.SuperAdmin?(r(),_(t(x),{key:1,class:"px-2 py-0 md:px-4 md:py-2",onClick:Pe,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[56]||(e[56]=a(" Manage Areas of Concern "))]),_:1})):p("",!0),c.SuperAdmin?(r(),_(t(x),{key:2,class:"px-2 py-0 md:px-4 md:py-2",onClick:Ke,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[57]||(e[57]=a(" Manage Vendors "))]),_:1})):p("",!0),c.SuperAdmin?(r(),_(t(x),{key:3,class:"px-2 py-0 md:px-4 md:py-2",onClick:mt,variant:"outline"},{default:l(()=>[s(y,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),e[58]||(e[58]=a(" Manage WO Statuses "))]),_:1})):p("",!0),n("div",Mt,[s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:e[1]||(e[1]=o=>ne.value=!ne.value),variant:"secondary"},{default:l(()=>[s(y,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),e[59]||(e[59]=a(" Upload CSV ")),s(y,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1}),ne.value?(r(),i("div",Rt,[n("div",zt,[n("label",qt,[e[60]||(e[60]=n("span",null,"Upload CSV File",-1)),n("input",{type:"file",class:"hidden",onChange:dt,accept:".csv"},null,32)]),n("a",{href:it.value,download:"Repair Orders Template.csv",class:"block px-4 py-2 text-sm hover:bg-muted"}," Download Template ",8,Wt)])])):p("",!0)]),s(t(x),{class:"px-2 py-0 md:px-4 md:py-2",onClick:re(ut,["prevent"]),variant:"outline"},{default:l(()=>[s(y,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),e[61]||(e[61]=a(" Download CSV "))]),_:1})])]),xt.value?(r(),i("div",Ft,[n("div",Tt,[n("div",Bt,[n("div",Lt,[n("div",Qt,[s(y,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),n("div",Et,[e[64]||(e[64]=n("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),n("div",jt,m(((q=f.canceledQSInvoices)==null?void 0:q.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),n("div",Pt,[s(t(x),{onClick:e[2]||(e[2]=o=>_e.value=!0),variant:"destructive",size:"sm"},{default:l(()=>e[63]||(e[63]=[a(" View Details ")])),_:1})])])])])])):p("",!0),s(t(Ve),null,{default:l(()=>[s(t(Oe),{class:"p-2 md:p-4 lg:p-6"},{default:l(()=>[n("div",Yt,[n("div",Ht,[s(t(x),{onClick:e[3]||(e[3]=o=>ge("yesterday")),variant:"outline",size:"sm",class:de({"border-primary bg-primary/10 text-primary":N.value==="yesterday"})},{default:l(()=>e[65]||(e[65]=[a(" Yesterday ")])),_:1},8,["class"]),s(t(x),{onClick:e[4]||(e[4]=o=>ge("current-week")),variant:"outline",size:"sm",class:de({"border-primary bg-primary/10 text-primary":N.value==="current-week"})},{default:l(()=>e[66]||(e[66]=[a(" WTD ")])),_:1},8,["class"]),s(t(x),{onClick:e[5]||(e[5]=o=>ge("6w")),variant:"outline",size:"sm",class:de({"border-primary bg-primary/10 text-primary":N.value==="6w"})},{default:l(()=>e[67]||(e[67]=[a(" T6W ")])),_:1},8,["class"]),s(t(x),{onClick:e[6]||(e[6]=o=>ge("quarterly")),variant:"outline",size:"sm",class:de({"border-primary bg-primary/10 text-primary":N.value==="quarterly"})},{default:l(()=>e[68]||(e[68]=[a(" Quarterly ")])),_:1},8,["class"])]),c.dateRange?(r(),i("div",Gt,[N.value==="yesterday"&&c.dateRange.start?(r(),i("span",Jt," Showing data from "+m(G(c.dateRange.start)),1)):c.dateRange.start&&c.dateRange.end?(r(),i("span",Kt," Showing data from "+m(G(c.dateRange.start))+" to "+m(G(c.dateRange.end)),1)):(r(),i("span",Xt,m(c.dateRange.label),1)),U.value?(r(),i("span",Zt,"("+m(U.value)+")",1)):p("",!0)])):p("",!0)])]),_:1})]),_:1}),c.SuperAdmin?p("",!0):(r(),i("div",es,[e[72]||(e[72]=n("h3",{class:"mb-4 text-lg font-semibold"},"Outstanding Invoices Filter",-1)),n("div",ts,[n("div",null,[s(t(b),{for:"min-invoice-amount"},{default:l(()=>e[69]||(e[69]=[a("Minimum Invoice Amount ($)")])),_:1}),s(t(D),{id:"min-invoice-amount",modelValue:Ce.value,"onUpdate:modelValue":e[7]||(e[7]=o=>Ce.value=o),type:"number",min:"0",step:"100",placeholder:"Enter minimum amount",class:"mt-1"},null,8,["modelValue"])]),n("div",null,[s(t(b),{for:"outstanding-since"},{default:l(()=>e[70]||(e[70]=[a("Outstanding Since")])),_:1}),s(t(D),{id:"outstanding-since",modelValue:Ae.value,"onUpdate:modelValue":e[8]||(e[8]=o=>Ae.value=o),type:"date",class:"mt-1"},null,8,["modelValue"])])]),n("div",ss,[s(t(x),{onClick:gt},{default:l(()=>e[71]||(e[71]=[a("Apply Filter")])),_:1})])])),c.outstandingInvoices&&c.outstandingInvoices.length>0?(r(),i("div",ls,[n("div",os,[e[73]||(e[73]=n("h3",{class:"text-lg font-semibold"},"Outstanding Invoices",-1)),n("div",null,[s(z,{variant:"outline",class:"text-sm"},{default:l(()=>[a(m(c.outstandingInvoices.length)+" invoices",1)]),_:1}),s(t(x),{variant:"ghost",size:"sm",onClick:e[9]||(e[9]=o=>J.value=!J.value)},{default:l(()=>[a(m(J.value?"Hide Invoices":"Show Invoices")+" ",1),s(y,{name:J.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),J.value?(r(),i("div",ns,[s(t(K),null,{default:l(()=>[s(t(X),null,{default:l(()=>[s(t(O),null,{default:l(()=>[s(t(w),null,{default:l(()=>e[74]||(e[74]=[a("RO Number")])),_:1}),s(t(w),null,{default:l(()=>e[75]||(e[75]=[a("Vendor")])),_:1}),s(t(w),null,{default:l(()=>e[76]||(e[76]=[a("Week")])),_:1}),s(t(w),{class:"text-right"},{default:l(()=>e[77]||(e[77]=[a("Amount")])),_:1})]),_:1})]),_:1}),s(t(Z),null,{default:l(()=>[(r(!0),i(A,null,V(c.outstandingInvoices,o=>(r(),_(t(O),{key:o.ro_number},{default:l(()=>[s(t(g),null,{default:l(()=>[a(m(o.ro_number),1)]),_:2},1024),s(t(g),null,{default:l(()=>[a(m(o.vendor_name),1)]),_:2},1024),s(t(g),null,{default:l(()=>[a("W"+m(o.week_number)+"/"+m(o.year),1)]),_:2},1024),s(t(g),{class:"text-right"},{default:l(()=>[a(m(Se(o.invoice_amount)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):p("",!0)])):J.value?(r(),i("div",as,e[78]||(e[78]=[n("div",{class:"border-b p-4"},[n("h3",{class:"text-lg font-semibold"},"Outstanding Invoices")],-1),n("div",{class:"p-4 text-center text-muted-foreground"},"No outstanding invoices match the current criteria",-1)]))):p("",!0),s(t(Ve),null,{default:l(()=>[s(t(bt),{class:"p-2 md:p-4 lg:p-6"},{default:l(()=>{var o;return[n("div",rs,[n("div",ds,[s(t(kt),{class:"text-lg md:text-xl lg:text-2xl"},{default:l(()=>e[79]||(e[79]=[a("Filters")])),_:1}),!H.value&&(S.value.search||S.value.vendor_id||S.value.status)?(r(),i("div",us,[S.value.search?(r(),i("span",is,"Search: "+m(S.value.search),1)):p("",!0),S.value.vendor_id?(r(),i("span",ms,"Vendor: "+m(((o=c.vendors.find(v=>v.id==S.value.vendor_id))==null?void 0:o.vendor_name)||S.value.vendor_id),1)):p("",!0),S.value.status?(r(),i("span",fs,"Status: "+m(S.value.status),1)):p("",!0)])):p("",!0)]),s(t(x),{variant:"ghost",size:"sm",onClick:e[10]||(e[10]=v=>H.value=!H.value)},{default:l(()=>[a(m(H.value?"Hide Filters":"Show Filters")+" ",1),s(y,{name:H.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]}),_:1}),H.value?(r(),_(t(Oe),{key:0,class:"p-2 md:p-4 lg:p-6"},{default:l(()=>[n("div",ps,[n("div",cs,[n("div",null,[s(t(b),{for:"search"},{default:l(()=>e[80]||(e[80]=[a("Search")])),_:1}),s(t(D),{class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10",id:"search",modelValue:S.value.search,"onUpdate:modelValue":e[11]||(e[11]=o=>S.value.search=o),type:"text",placeholder:"Search by RO#, Invoice, etc.",onInput:t(nt)},null,8,["modelValue","onInput"])]),n("div",null,[s(t(b),{for:"vendor_filter"},{default:l(()=>e[81]||(e[81]=[a("Vendor")])),_:1}),h(n("select",{id:"vendor_filter","onUpdate:modelValue":e[12]||(e[12]=o=>S.value.vendor_id=o),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm",onChange:xe},[e[82]||(e[82]=n("option",{value:""},"All Vendors",-1)),(r(!0),i(A,null,V(c.vendors,o=>(r(),i("option",{key:o.id,value:o.id},[a(m(o.vendor_name)+" ",1),o.deleted_at?(r(),i("span",xs,"(Deleted)")):p("",!0)],8,vs))),128))],544),[[M,S.value.vendor_id]])]),n("div",null,[s(t(b),{for:"status_filter"},{default:l(()=>e[83]||(e[83]=[a("Status")])),_:1}),h(n("select",{id:"status_filter","onUpdate:modelValue":e[13]||(e[13]=o=>S.value.status=o),class:"flex h-10 w-full items-center rounded-md border border-input bg-background px-3 py-2 text-sm",onChange:xe},[e[84]||(e[84]=n("option",{value:""},"All Statuses",-1)),e[85]||(e[85]=n("option",{disabled:"",value:""},"Select status",-1)),(r(!0),i(A,null,V(ue.value,o=>(r(),i("option",{key:o.id,value:o.name},[a(m(o.name)+" ",1),o.deleted_at?(r(),i("span",_s,"(Deleted)")):p("",!0)],8,gs))),128))],544),[[M,S.value.status]])])]),n("div",ws,[s(t(x),{onClick:at,variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"mr-2 h-4 w-4"}),e[86]||(e[86]=a(" Reset Filters "))]),_:1})])])]),_:1})):p("",!0)]),_:1}),s(t(Ve),{class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto"},{default:l(()=>[s(t(Oe),{class:"p-0"},{default:l(()=>[n("div",ys,[s(t(K),{class:"relative h-[600px] overflow-auto"},{default:l(()=>[s(t(X),null,{default:l(()=>[s(t(O),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:l(()=>[s(t(w),{class:"w-[50px]"},{default:l(()=>[n("div",bs,[n("input",{type:"checkbox",onChange:ze,checked:Re.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,ks)])]),_:1}),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[14]||(e[14]=o=>ke("ro_number"))},{default:l(()=>[n("div",Ss,[e[87]||(e[87]=a(" RO# ")),s($e,{column:"ro_number",sortColumn:T.value,sortDirection:R.value},null,8,["sortColumn","sortDirection"])])]),_:1}),c.SuperAdmin?(r(),_(t(w),{key:0,class:"whitespace-nowrap"},{default:l(()=>e[88]||(e[88]=[a("Company Name")])),_:1})):p("",!0),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[15]||(e[15]=o=>ke("ro_open_date"))},{default:l(()=>[n("div",Cs,[e[89]||(e[89]=a(" Open Date ")),s($e,{column:"ro_open_date",sortColumn:T.value,sortDirection:R.value},null,8,["sortColumn","sortDirection"])])]),_:1}),s(t(w),{class:"cursor-pointer whitespace-nowrap",onClick:e[16]||(e[16]=o=>ke("ro_close_date"))},{default:l(()=>[n("div",As,[e[90]||(e[90]=a(" Close Date ")),s($e,{column:"ro_close_date",sortColumn:T.value,sortDirection:R.value},null,8,["sortColumn","sortDirection"])])]),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[91]||(e[91]=[a("Truck")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[92]||(e[92]=[a("Vendor")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[93]||(e[93]=[a("Areas of Concern")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[94]||(e[94]=[a("WO#")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[95]||(e[95]=[a("WO Status")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[96]||(e[96]=[a("Invoice")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[97]||(e[97]=[a("Invoice Amount")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[98]||(e[98]=[a("Invoice Received")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[99]||(e[99]=[a("On QS")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[100]||(e[100]=[a("QS Invoice Date")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[101]||(e[101]=[a("Disputed")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[102]||(e[102]=[a("Actions")])),_:1})]),_:1})]),_:1}),s(t(Z),null,{default:l(()=>[c.repairOrders.data.length===0?(r(),_(t(O),{key:0},{default:l(()=>[s(t(g),{colspan:c.SuperAdmin?16:15,class:"py-8 text-center"},{default:l(()=>e[103]||(e[103]=[a(" No repair orders found. ")])),_:1},8,["colspan"])]),_:1})):p("",!0),(r(!0),i(A,null,V(c.repairOrders.data,o=>(r(),_(t(O),{key:o.id,class:"hover:bg-muted/50"},{default:l(()=>[s(t(g),{class:"text-center"},{default:l(()=>[h(n("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":e[17]||(e[17]=v=>I.value=v),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,Vs),[[he,I.value]])]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(o.ro_number),1)]),_:2},1024),c.SuperAdmin?(r(),_(t(g),{key:0,class:"whitespace-nowrap"},{default:l(()=>{var v;return[a(m(((v=o.tenant)==null?void 0:v.name)??"—"),1)]}),_:2},1024)):p("",!0),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(G(o.ro_open_date)),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(o.ro_close_date?G(o.ro_close_date):"N/A"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v;return[a(m(((v=o.truck)==null?void 0:v.truckid)??"—"),1)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v,B;return[a(m(((v=o.vendor)==null?void 0:v.vendor_name)??"—")+" ",1),(B=o.vendor)!=null&&B.deleted_at?(r(),i("span",Os,"(Deleted)")):p("",!0)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[o.areas_of_concern&&o.areas_of_concern.length>0?(r(),i("div",$s,[(r(!0),i(A,null,V(o.areas_of_concern,(v,B)=>(r(),i("span",{key:v.id,class:"inline-block"},[a(m(v.concern)+" ",1),v.deleted_at?(r(),i("span",hs,"(Deleted)")):p("",!0),B<o.areas_of_concern.length-1?(r(),i("span",Ds,", ")):p("",!0)]))),128))])):(r(),i("span",Ns,"—"))]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(o.wo_number),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>{var v;return[a(m(((v=o.wo_status)==null?void 0:v.name)||"—"),1)]}),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(o.invoice),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(Se(o.invoice_amount)),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(o.invoice_received?"Yes":"No"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(o.on_qs?o.on_qs.charAt(0).toUpperCase()+o.on_qs.slice(1):"No"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(o.qs_invoice_date?G(o.qs_invoice_date):"N/A"),1)]),_:2},1024),s(t(g),{class:"whitespace-nowrap"},{default:l(()=>[a(m(o.disputed?"Yes":"No"),1)]),_:2},1024),s(t(g),null,{default:l(()=>[n("div",Is,[s(t(x),{onClick:v=>Be(o),variant:"warning",size:"sm"},{default:l(()=>[s(y,{name:"pencil",class:"mr-1 h-4 w-4"}),e[104]||(e[104]=a(" Edit "))]),_:2},1032,["onClick"]),s(t(x),{onClick:v=>Ee(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"mr-1 h-4 w-4"}),e[105]||(e[105]=a(" Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),c.repairOrders.links?(r(),i("div",Us,[n("div",Ms,[n("div",Rs,"Showing "+m(c.repairOrders.data.length)+" entries",1),n("div",zs,[n("div",qs,[s(t(b),{for:"perPage",class:"text-sm"},{default:l(()=>e[106]||(e[106]=[a("Per page:")])),_:1}),h(n("select",{id:"perPage","onUpdate:modelValue":e[18]||(e[18]=o=>ve.value=o),onChange:rt,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[107]||(e[107]=[n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1),n("option",{value:"100"},"100",-1)]),544),[[M,ve.value]])]),n("div",Ws,[(r(!0),i(A,null,V(c.repairOrders.links,o=>(r(),_(t(x),{key:o.label,onClick:v=>ot(o.url),disabled:!o.url,variant:"ghost",size:"sm",class:de(["mx-1",{"border-primary bg-primary/10 text-primary":o.active}])},{default:l(()=>[n("span",{innerHTML:o.label},null,8,Fs)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):p("",!0)]),_:1})]),_:1}),s(t(L),{open:W.value,"onUpdate:open":e[36]||(e[36]=o=>W.value=o)},{default:l(()=>[s(t(Q),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:l(()=>[s(t(E),{class:"px-4 sm:px-6"},{default:l(()=>[s(t(j),{class:"text-lg sm:text-xl"},{default:l(()=>[a(m(be.value),1)]),_:1}),s(t(P),{class:"text-xs sm:text-sm"},{default:l(()=>[a(" Fill in the details to "+m(F.value.toLowerCase())+" a repair order. ",1)]),_:1})]),_:1}),n("form",{onSubmit:re(Qe,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-2 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-3 sm:p-6"},[c.SuperAdmin?(r(),i("div",Ts,[s(t(b),{for:"tenant",class:"text-xs sm:text-sm"},{default:l(()=>e[108]||(e[108]=[a("Company Name")])),_:1}),n("div",Bs,[h(n("select",{id:"tenant","onUpdate:modelValue":e[19]||(e[19]=o=>t(u).tenant_id=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[109]||(e[109]=n("option",{disabled:"",value:""},"Select a tenant",-1)),(r(!0),i(A,null,V(c.tenants,o=>(r(),i("option",{key:o.id,value:o.id},m(o.name),9,Ls))),128))],512),[[M,t(u).tenant_id]]),e[110]||(e[110]=n("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[n("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):p("",!0),n("div",Qs,[s(t(b),{for:"ro_number",class:"text-xs sm:text-sm"},{default:l(()=>e[111]||(e[111]=[a("RO#")])),_:1}),s(t(D),{id:"ro_number",modelValue:t(u).ro_number,"onUpdate:modelValue":e[20]||(e[20]=o=>t(u).ro_number=o),type:"text",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),n("div",Es,[s(t(b),{for:"ro_open_date",class:"text-xs sm:text-sm"},{default:l(()=>e[112]||(e[112]=[a("RO Open Date")])),_:1}),s(t(D),{id:"ro_open_date",modelValue:t(u).ro_open_date,"onUpdate:modelValue":e[21]||(e[21]=o=>t(u).ro_open_date=o),type:"date",required:"",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),n("div",js,[s(t(b),{for:"ro_close_date",class:"text-xs sm:text-sm"},{default:l(()=>e[113]||(e[113]=[a("RO Close Date")])),_:1}),s(t(D),{id:"ro_close_date",modelValue:t(u).ro_close_date,"onUpdate:modelValue":e[22]||(e[22]=o=>t(u).ro_close_date=o),type:"date",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),n("div",Ps,[s(t(b),{for:"truck_id",class:"text-xs sm:text-sm"},{default:l(()=>e[114]||(e[114]=[a("Truck")])),_:1}),n("div",Ys,[h(n("select",{id:"truck_id","onUpdate:modelValue":e[23]||(e[23]=o=>t(u).truck_id=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[115]||(e[115]=n("option",{disabled:"",value:""},"Select a truck",-1)),(r(!0),i(A,null,V(c.trucks,o=>(r(),i("option",{key:o.id,value:o.id},m(o.truckid),9,Hs))),128))],512),[[M,t(u).truck_id]]),e[116]||(e[116]=n("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[n("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n("div",Gs,[s(t(b),{for:"area_of_concerns",class:"text-xs sm:text-sm"},{default:l(()=>e[117]||(e[117]=[a("Areas Of Concern")])),_:1}),n("div",Js,[n("div",Ks,[(r(!0),i(A,null,V(t(u).area_of_concerns,o=>{var v,B;return r(),i("div",{key:o,class:"flex items-center rounded-md bg-primary/10 px-1.5 py-0.5 text-xs text-primary sm:px-2 sm:py-1 sm:text-sm"},[a(m((v=c.areasOfConcern.find(we=>we.id===o))==null?void 0:v.concern)+" ",1),(B=c.areasOfConcern.find(we=>we.id===o))!=null&&B.deleted_at?(r(),i("span",Xs,"(Deleted)")):p("",!0),n("button",{type:"button",onClick:we=>lt(o),class:"ml-0.5 text-primary hover:text-primary/80 sm:ml-1"},[s(y,{name:"x",class:"h-2.5 w-2.5 sm:h-3 sm:w-3"})],8,Zs)])}),128))]),n("div",el,[n("select",{id:"area_of_concerns_select",onChange:e[24]||(e[24]=o=>st(o)),class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[118]||(e[118]=n("option",{value:""},"Select an area of concern to add",-1)),(r(!0),i(A,null,V(Fe.value,o=>(r(),i("option",{key:o.id,value:o.id,disabled:o.deleted_at},m(o.concern)+" "+m(o.deleted_at?"(Deleted)":""),9,tl))),128))],32),e[119]||(e[119]=n("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[n("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),n("div",sl,[s(t(b),{for:"repairs_made",class:"text-xs sm:text-sm"},{default:l(()=>e[120]||(e[120]=[a("Repairs Made")])),_:1}),h(n("textarea",{id:"repairs_made","onUpdate:modelValue":e[25]||(e[25]=o=>t(u).repairs_made=o),class:"mt-1 flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-1.5 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:min-h-[80px] sm:text-sm"},null,512),[[De,t(u).repairs_made]])]),n("div",ll,[s(t(b),{for:"vendor_id",class:"text-xs sm:text-sm"},{default:l(()=>e[121]||(e[121]=[a("Vendor")])),_:1}),n("div",ol,[h(n("select",{id:"vendor_id","onUpdate:modelValue":e[26]||(e[26]=o=>t(u).vendor_id=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[122]||(e[122]=n("option",{disabled:"",value:""},"Select a vendor",-1)),(r(!0),i(A,null,V(c.vendors,o=>(r(),i("option",{key:o.id,value:o.id,disabled:o.deleted_at},m(o.vendor_name)+" "+m(o.deleted_at?"(Deleted)":""),9,nl))),128))],512),[[M,t(u).vendor_id]]),e[123]||(e[123]=n("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[n("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n("div",al,[s(t(b),{for:"wo_number",class:"text-xs sm:text-sm"},{default:l(()=>e[124]||(e[124]=[a("WO#")])),_:1}),s(t(D),{id:"wo_number",modelValue:t(u).wo_number,"onUpdate:modelValue":e[27]||(e[27]=o=>t(u).wo_number=o),type:"text",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),n("div",rl,[s(t(b),{for:"wo_status_id",class:"text-xs sm:text-sm"},{default:l(()=>e[125]||(e[125]=[a("WO Status")])),_:1}),n("div",dl,[h(n("select",{id:"wo_status_id","onUpdate:modelValue":e[28]||(e[28]=o=>t(u).wo_status_id=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},[e[126]||(e[126]=n("option",{disabled:"",value:""},"Select status",-1)),(r(!0),i(A,null,V(ue.value,o=>(r(),i("option",{key:o.id,value:o.id,disabled:o.deleted_at},m(o.name)+" "+m(o.deleted_at?"(Deleted)":""),9,ul))),128))],512),[[M,t(u).wo_status_id]]),e[127]||(e[127]=n("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[n("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n("div",il,[s(t(b),{for:"invoice",class:"text-xs sm:text-sm"},{default:l(()=>e[128]||(e[128]=[a("Invoice")])),_:1}),s(t(D),{id:"invoice",modelValue:t(u).invoice,"onUpdate:modelValue":e[29]||(e[29]=o=>t(u).invoice=o),type:"text",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),n("div",ml,[s(t(b),{for:"invoice_amount",class:"text-xs sm:text-sm"},{default:l(()=>e[129]||(e[129]=[a("Invoice Amount")])),_:1}),s(t(D),{id:"invoice_amount",modelValue:t(u).invoice_amount,"onUpdate:modelValue":e[30]||(e[30]=o=>t(u).invoice_amount=o),type:"number",step:"0.01",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),n("div",fl,[s(t(b),{for:"invoice_received",class:"text-xs sm:text-sm"},{default:l(()=>e[130]||(e[130]=[a("Invoice Received")])),_:1}),n("div",pl,[h(n("input",{id:"invoice_received","onUpdate:modelValue":e[31]||(e[31]=o=>t(u).invoice_received=o),type:"checkbox",class:"h-3.5 w-3.5 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary sm:h-4 sm:w-4"},null,512),[[he,t(u).invoice_received]]),e[131]||(e[131]=n("label",{for:"invoice_received",class:"text-xs sm:text-sm"},"Yes",-1))])]),n("div",cl,[s(t(b),{for:"on_qs",class:"text-xs sm:text-sm"},{default:l(()=>e[132]||(e[132]=[a("On QS")])),_:1}),n("div",vl,[h(n("select",{id:"on_qs","onUpdate:modelValue":e[32]||(e[32]=o=>t(u).on_qs=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},e[133]||(e[133]=[n("option",{value:"yes"},"Yes",-1),n("option",{value:"no"},"No",-1),n("option",{value:"not expected"},"Not Expected",-1)]),512),[[M,t(u).on_qs]]),e[134]||(e[134]=n("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[n("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n("div",xl,[s(t(b),{for:"qs_invoice_date",class:"text-xs sm:text-sm"},{default:l(()=>e[135]||(e[135]=[a("QS Invoice Date")])),_:1}),s(t(D),{id:"qs_invoice_date",modelValue:t(u).qs_invoice_date,"onUpdate:modelValue":e[33]||(e[33]=o=>t(u).qs_invoice_date=o),type:"date",class:"h-9 px-3 py-1 text-xs sm:h-10 sm:text-sm"},null,8,["modelValue"])]),F.value==="Update"?(r(),i("div",gl,[s(t(b),{for:"disputed",class:"text-xs sm:text-sm"},{default:l(()=>e[136]||(e[136]=[a("Disputed?")])),_:1}),n("div",_l,[h(n("select",{id:"disputed","onUpdate:modelValue":e[34]||(e[34]=o=>t(u).disputed=o),required:"",class:"flex h-9 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-1 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:h-10 sm:text-sm"},e[137]||(e[137]=[n("option",{value:!0},"Yes",-1),n("option",{value:!1},"No",-1)]),512),[[M,t(u).disputed]]),e[138]||(e[138]=n("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-700"},[n("svg",{class:"h-3 w-3 opacity-50 sm:h-4 sm:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):p("",!0),F.value==="Update"?(r(),i("div",wl,[s(t(b),{for:"dispute_outcome",class:"text-xs sm:text-sm"},{default:l(()=>e[139]||(e[139]=[a("Dispute Outcome")])),_:1}),h(n("textarea",{id:"dispute_outcome","onUpdate:modelValue":e[35]||(e[35]=o=>t(u).dispute_outcome=o),class:"mt-1 flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-1.5 text-xs ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 sm:min-h-[80px] sm:text-sm"},null,512),[[De,t(u).dispute_outcome]])])):p("",!0),s(t(Y),{class:"col-span-2 mt-3 flex flex-col gap-2 sm:flex-row sm:gap-3"},{default:l(()=>[s(t(x),{type:"button",onClick:Le,variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>e[140]||(e[140]=[a("Cancel")])),_:1}),s(t(x),{type:"submit",variant:"default",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:l(()=>[a(m(F.value),1)]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),s(t(L),{open:te.value,"onUpdate:open":e[38]||(e[38]=o=>te.value=o)},{default:l(()=>[s(t(Q),{class:"max-w-[95vw] sm:max-w-[425px]"},{default:l(()=>[s(t(E),null,{default:l(()=>[s(t(j),null,{default:l(()=>e[141]||(e[141]=[a("Confirm Deletion")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>e[142]||(e[142]=[a(" Are you sure you want to delete this repair order? This action cannot be undone. ")])),_:1})]),_:1}),s(t(Y),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{type:"button",onClick:e[37]||(e[37]=o=>te.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[143]||(e[143]=[a("Cancel")])),_:1}),s(t(x),{type:"button",onClick:je,variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>e[144]||(e[144]=[a("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(L),{open:fe.value,"onUpdate:open":e[41]||(e[41]=o=>fe.value=o)},{default:l(()=>[s(t(Q),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(E),null,{default:l(()=>[s(t(j),null,{default:l(()=>e[145]||(e[145]=[a("Manage Areas of Concern")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>e[146]||(e[146]=[a(" Add or remove areas of concern for repair orders. ")])),_:1})]),_:1}),n("div",yl,[n("form",{onSubmit:re(Ye,["prevent"]),class:"space-y-3 sm:space-y-4"},[n("div",bl,[s(t(b),{for:"concern"},{default:l(()=>e[147]||(e[147]=[a("Area of Concern")])),_:1}),s(t(D),{id:"concern",modelValue:t(le).concern,"onUpdate:modelValue":e[39]||(e[39]=o=>t(le).concern=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[148]||(e[148]=[a("Add Area of Concern")])),_:1})],32),n("div",kl,[n("div",Sl,[s(t(K),null,{default:l(()=>[s(t(X),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(O),null,{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[149]||(e[149]=[a("Area of Concern")])),_:1}),s(t(w),{class:"w-20 text-xs sm:text-sm"},{default:l(()=>e[150]||(e[150]=[a("Actions")])),_:1})]),_:1})]),_:1}),s(t(Z),null,{default:l(()=>[c.areasOfConcern.length===0?(r(),_(t(O),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[151]||(e[151]=[a("No areas of concern found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(A,null,V(c.areasOfConcern,o=>(r(),_(t(O),{key:o.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[a(m(o.concern)+" ",1),o.deleted_at?(r(),i("span",Cl,"(Deleted)")):p("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[n("div",Al,[o.deleted_at?(r(),_(t(x),{key:0,onClick:v=>Ge(o.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),o.deleted_at?p("",!0):(r(),_(t(x),{key:1,onClick:v=>He(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(r(),_(t(x),{key:2,onClick:v=>Je(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(Y),null,{default:l(()=>[s(t(x),{onClick:e[40]||(e[40]=o=>fe.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[152]||(e[152]=[a("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(L),{open:pe.value,"onUpdate:open":e[44]||(e[44]=o=>pe.value=o)},{default:l(()=>[s(t(Q),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(E),null,{default:l(()=>[s(t(j),null,{default:l(()=>e[153]||(e[153]=[a("Manage Vendors")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>e[154]||(e[154]=[a(" Add or remove vendors for repair orders. ")])),_:1})]),_:1}),n("div",Vl,[n("form",{onSubmit:re(Xe,["prevent"]),class:"space-y-3 sm:space-y-4"},[n("div",Ol,[s(t(b),{for:"vendor_name"},{default:l(()=>e[155]||(e[155]=[a("Vendor Name")])),_:1}),s(t(D),{id:"vendor_name",modelValue:t(oe).vendor_name,"onUpdate:modelValue":e[42]||(e[42]=o=>t(oe).vendor_name=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[156]||(e[156]=[a("Add Vendor")])),_:1})],32),n("div",$l,[n("div",hl,[s(t(K),null,{default:l(()=>[s(t(X),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(O),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[157]||(e[157]=[a("Vendor Name")])),_:1}),s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[158]||(e[158]=[a("Actions")])),_:1})]),_:1})]),_:1}),s(t(Z),null,{default:l(()=>[c.vendors.length===0?(r(),_(t(O),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[159]||(e[159]=[a("No vendors found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(A,null,V(c.vendors,o=>(r(),_(t(O),{key:o.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[a(m(o.vendor_name)+" ",1),o.deleted_at?(r(),i("span",Dl,"(Deleted)")):p("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[n("div",Nl,[o.deleted_at?(r(),_(t(x),{key:0,onClick:v=>et(o.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),o.deleted_at?p("",!0):(r(),_(t(x),{key:1,onClick:v=>Ze(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(r(),_(t(x),{key:2,onClick:v=>tt(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(Y),null,{default:l(()=>[s(t(x),{onClick:e[43]||(e[43]=o=>pe.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[160]||(e[160]=[a("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(L),{open:se.value,"onUpdate:open":e[47]||(e[47]=o=>se.value=o)},{default:l(()=>[s(t(Q),{class:"max-w-[95vw] sm:max-w-[425px]"},{default:l(()=>[s(t(E),null,{default:l(()=>[s(t(j),null,{default:l(()=>e[161]||(e[161]=[a("Confirm Bulk Deletion")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>[a(" Are you sure you want to delete "+m(I.value.length)+" repair orders? This action cannot be undone. ",1)]),_:1})]),_:1}),s(t(Y),{class:"mt-4 flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{type:"button",onClick:e[45]||(e[45]=o=>se.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[162]||(e[162]=[a(" Cancel ")])),_:1}),s(t(x),{type:"button",onClick:e[46]||(e[46]=o=>We()),variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>e[163]||(e[163]=[a(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(t(L),{open:ie.value,"onUpdate:open":e[50]||(e[50]=o=>ie.value=o)},{default:l(()=>[s(t(Q),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:l(()=>[s(t(E),null,{default:l(()=>[s(t(j),null,{default:l(()=>e[164]||(e[164]=[a("Manage Work Order Statuses")])),_:1}),s(t(P),{class:"text-sm sm:text-base"},{default:l(()=>e[165]||(e[165]=[a(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),n("div",Il,[n("form",{onSubmit:re(ft,["prevent"]),class:"space-y-3 sm:space-y-4"},[n("div",Ul,[s(t(b),{for:"status_name"},{default:l(()=>e[166]||(e[166]=[a("Status Name")])),_:1}),s(t(D),{id:"status_name",modelValue:ee.value.name,"onUpdate:modelValue":e[48]||(e[48]=o=>ee.value.name=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),s(t(x),{type:"submit",class:"w-full"},{default:l(()=>e[167]||(e[167]=[a("Add Work Order Status")])),_:1})],32),n("div",Ml,[n("div",Rl,[s(t(K),null,{default:l(()=>[s(t(X),{class:"sticky top-0 z-10 bg-background"},{default:l(()=>[s(t(O),{class:"sticky top-0 z-10 border-b bg-background"},{default:l(()=>[s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[168]||(e[168]=[a("Status Name")])),_:1}),s(t(w),{class:"text-xs sm:text-sm"},{default:l(()=>e[169]||(e[169]=[a("Actions")])),_:1})]),_:1})]),_:1}),s(t(Z),null,{default:l(()=>[ue.value.length===0?(r(),_(t(O),{key:0},{default:l(()=>[s(t(g),{colspan:"2",class:"py-4 text-center text-sm"},{default:l(()=>e[170]||(e[170]=[a("No work order statuses found.")])),_:1})]),_:1})):p("",!0),(r(!0),i(A,null,V(ue.value,o=>(r(),_(t(O),{key:o.id},{default:l(()=>[s(t(g),{class:"text-xs sm:text-sm"},{default:l(()=>[a(m(o.name)+" ",1),o.deleted_at?(r(),i("span",zl,"(Deleted)")):p("",!0)]),_:2},1024),s(t(g),null,{default:l(()=>[n("div",ql,[o.deleted_at?(r(),_(t(x),{key:0,onClick:v=>ct(o.id),variant:"outline",size:"sm"},{default:l(()=>[s(y,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),o.deleted_at?p("",!0):(r(),_(t(x),{key:1,onClick:v=>pt(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(r(),_(t(x),{key:2,onClick:v=>vt(o.id),variant:"destructive",size:"sm"},{default:l(()=>[s(y,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),s(t(Y),null,{default:l(()=>[s(t(x),{onClick:e[49]||(e[49]=o=>ie.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[171]||(e[171]=[a("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),s(t(L),{open:_e.value,"onUpdate:open":e[52]||(e[52]=o=>_e.value=o)},{default:l(()=>[s(t(Q),{class:"max-h-[90vh] max-w-[95vw] overflow-y-auto md:max-w-[80vw] lg:max-w-4xl"},{default:l(()=>{var o;return[s(t(E),null,{default:l(()=>[s(t(j),{class:"flex items-center gap-2 text-lg md:text-xl"},{default:l(()=>[s(y,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),e[172]||(e[172]=a(" Canceled Invoices on QS "))]),_:1}),s(t(P),null,{default:l(()=>e[173]||(e[173]=[a(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),n("div",Wl,[(o=f.canceledQSInvoices)!=null&&o.length?(r(),_(t(K),{key:0},{default:l(()=>[s(t(X),null,{default:l(()=>[s(t(O),null,{default:l(()=>[s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[174]||(e[174]=[a("RO Number")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[175]||(e[175]=[a("Vendor")])),_:1}),s(t(w),{class:"whitespace-nowrap text-right"},{default:l(()=>e[176]||(e[176]=[a("Amount")])),_:1}),s(t(w),{class:"whitespace-nowrap"},{default:l(()=>e[177]||(e[177]=[a("Week")])),_:1})]),_:1})]),_:1}),s(t(Z),null,{default:l(()=>[(r(!0),i(A,null,V(f.canceledQSInvoices,v=>(r(),_(t(O),{key:v.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:l(()=>[s(t(g),{class:"font-medium"},{default:l(()=>[n("div",Fl,[s(y,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),a(" "+m(v.ro_number),1)])]),_:2},1024),s(t(g),null,{default:l(()=>[a(m(v.vendor_name),1)]),_:2},1024),s(t(g),{class:"text-right"},{default:l(()=>[a(m(Se(v.invoice_amount)),1)]),_:2},1024),s(t(g),null,{default:l(()=>[a("W"+m(v.week_number)+"/"+m(v.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),i("div",Tl,"No canceled QS invoices found."))]),s(t(Y),{class:"mt-4 flex flex-col gap-2 sm:flex-row"},{default:l(()=>[s(t(x),{onClick:e[51]||(e[51]=v=>_e.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>e[178]||(e[178]=[a("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])]}),_:1},8,["tenantSlug"])}}},mo=Vt(Bl,[["__scopeId","data-v-051c9a98"]]);export{mo as default};
