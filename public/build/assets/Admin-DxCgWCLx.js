import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-BDIhxQBF.js";import{_ as D}from"./Form.vue_vue_type_script_setup_true_lang-BPjL5_49.js";import{g as V}from"./vendor-vue-CQn6KzTb.js";import{_ as F,a as G,b as w,c as u,d as j,e as f}from"./TableRow.vue_vue_type_script_setup_true_lang-tbX_6Hnu.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-B-8911bK.js";import{_ as z}from"./Card.vue_vue_type_script_setup_true_lang-yOexdr0W.js";import{_ as H}from"./CardHeader.vue_vue_type_script_setup_true_lang-BXftwvVe.js";import{_ as J}from"./CardTitle.vue_vue_type_script_setup_true_lang-OH7QXspQ.js";import{_ as K}from"./CardContent.vue_vue_type_script_setup_true_lang-Dh-7LYTR.js";import{_ as T}from"./Badge.vue_vue_type_script_setup_true_lang-BgyirVRP.js";import{r as h,a as L,f as m,i,j as a,B as l,X as _,u as e,H as y,G as B,O as s,J as O,K as P,P as c}from"./vendor-DQlNQ5gH.js";import"./utils-D2wO_Ovf.js";import"./vendor-ui-CGEGZLyF.js";import"./Icon.vue_vue_type_script_setup_true_lang-D_7hXODg.js";import"./vendor-icons-pKobgiP0.js";import"./app-FCjPDk3H.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BpTGIYrD.js";import"./Label.vue_vue_type_script_setup_true_lang-BRq5T-WA.js";const X={class:"container w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},Y={class:"flex flex-col sm:flex-row justify-between items-center mb-6"},q={key:0},I={class:"overflow-x-auto"},Q={key:2,class:"text-center py-12"},ge={__name:"Admin",props:{thresholds:Array,metrics:Array,tenantSlug:{type:String,default:null}},setup(E){const o=E,{tenantSlug:d}=o,A=[{title:d?"Dashboard":"Admin Dashboard",href:d?route("dashboard",{tenantSlug:d}):route("admin.dashboard")},{title:"Safety Thresholds",href:route("sms-coaching.edit",{tenantSlug:d})}],p=h(!1),g=h({}),b=h(!1),$=n=>{switch(n){case!0:return"success";case!1:return"destructive";default:return"outline"}};function M(n){g.value=n,b.value=!1,p.value=!0}function S(){g.value={metric_name:"",good_threshold:null,bad_threshold:null,good_enabled:!0,bad_enabled:!0},b.value=!0,p.value=!0}function k(){p.value=!1,g.value={}}function C(n){return n??"-"}const v=L(()=>{if(!o.metrics||!o.thresholds)return[];const n=o.thresholds.map(t=>t.metric_name);return o.metrics.filter(t=>!n.includes(t))});return(n,t)=>(i(),m(N,{breadcrumbs:A,tenantSlug:e(d)},{default:a(()=>[l(e(V),{title:"Safety Thresholds Management"}),_("div",X,[_("div",Y,[t[1]||(t[1]=_("h1",{class:"text-2xl font-bold text-foreground"}," Safety Thresholds ",-1)),v.value.length>0?(i(),m(e(x),{key:0,onClick:S,variant:"default",class:"mt-4 sm:mt-0"},{default:a(()=>t[0]||(t[0]=[s(" Add New Threshold ")])),_:1})):B("",!0)]),p.value?(i(),y("div",q,[l(D,{tenantSlug:e(d),entry:g.value,isCreating:b.value,availableMetrics:v.value,onSaved:k,onCancel:k},null,8,["tenantSlug","entry","isCreating","availableMetrics"])])):o.thresholds&&o.thresholds.length>0?(i(),m(e(z),{key:1},{default:a(()=>[l(e(H),null,{default:a(()=>[l(e(J),null,{default:a(()=>t[2]||(t[2]=[s("Safety Thresholds")])),_:1})]),_:1}),l(e(K),null,{default:a(()=>[_("div",I,[l(e(F),null,{default:a(()=>[l(e(G),null,{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(u),null,{default:a(()=>t[3]||(t[3]=[s("Metric")])),_:1}),l(e(u),null,{default:a(()=>t[4]||(t[4]=[s("Good Threshold")])),_:1}),l(e(u),null,{default:a(()=>t[5]||(t[5]=[s("Good Enabled")])),_:1}),l(e(u),null,{default:a(()=>t[6]||(t[6]=[s("Bad Threshold")])),_:1}),l(e(u),null,{default:a(()=>t[7]||(t[7]=[s("Bad Enabled")])),_:1}),l(e(u),{class:"text-right"},{default:a(()=>t[8]||(t[8]=[s("Actions")])),_:1})]),_:1})]),_:1}),l(e(j),null,{default:a(()=>[(i(!0),y(O,null,P(o.thresholds,r=>(i(),m(e(w),{key:r.id},{default:a(()=>[l(e(f),{class:"capitalize"},{default:a(()=>[s(c(r.metric_name.replace(/_/g," ")),1)]),_:2},1024),l(e(f),null,{default:a(()=>[s(c(C(r.good_threshold)),1)]),_:2},1024),l(e(f),null,{default:a(()=>[l(e(T),{variant:$(r.good_enabled)},{default:a(()=>[s(c(r.good_enabled?"Enabled":"Disabled"),1)]),_:2},1032,["variant"])]),_:2},1024),l(e(f),null,{default:a(()=>[s(c(C(r.bad_threshold)),1)]),_:2},1024),l(e(f),null,{default:a(()=>[l(e(T),{variant:$(r.bad_enabled)},{default:a(()=>[s(c(r.bad_enabled?"Enabled":"Disabled"),1)]),_:2},1032,["variant"])]),_:2},1024),l(e(f),{class:"text-right"},{default:a(()=>[l(e(x),{variant:"outline",size:"sm",onClick:R=>M(r)},{default:a(()=>t[9]||(t[9]=[s(" Edit ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})):(i(),y("div",Q,[t[11]||(t[11]=_("h3",{class:"text-lg font-medium text-muted-foreground mb-4"},"No safety thresholds defined yet",-1)),v.value.length>0?(i(),m(e(x),{key:0,onClick:S,variant:"default"},{default:a(()=>t[10]||(t[10]=[s(" Create Your First Threshold ")])),_:1})):B("",!0)]))])]),_:1},8,["tenantSlug"]))}};export{ge as default};
