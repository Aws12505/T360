import{g as M,S as v,W as B}from"./vendor-vue-BsCVk3W_.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-CTYBMBH9.js";import{_ as O}from"./Layout.vue_vue_type_script_setup_true_lang-Ky4BYGJn.js";import{D as V}from"./DeleteConfirmation-BRa-XlWz.js";import{_ as E,a as G,b as S,c as x,d as P,e as f}from"./TableRow.vue_vue_type_script_setup_true_lang-CyEhCbZI.js";import{_ as I}from"./Card.vue_vue_type_script_setup_true_lang-D6lnctxv.js";import{_ as Z}from"./CardContent.vue_vue_type_script_setup_true_lang-Bg8Ud8NP.js";import{_ as w}from"./Badge.vue_vue_type_script_setup_true_lang-MdQcxSLl.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as A,E as L,q as U,r as W,F as H}from"./vendor-icons-Cd5utPp1.js";import{c as $,r as C,b as m,e as d,f as s,z as a,u as e,X as i,U as h,S as u,E as c,F as k,H as X,O as J}from"./vendor--q1ey8Ib.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-tTsIgFyK.js";import"./vendor-ui-VCcvGdtT.js";import"./Icon.vue_vue_type_script_setup_true_lang-Cf3euL4G.js";import"./useInitials-DzeGKvtI.js";import"./app-DSK4nD5u.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dc8NxSZT.js";import"./Button.vue_vue_type_script_setup_true_lang-CURKxeic.js";import"./Separator.vue_vue_type_script_setup_true_lang-lkFrsBLM.js";const K={class:"p-4 bg-muted/10 rounded-md"},Q={class:"text-sm font-medium text-foreground/90 line-clamp-2"},R={class:"space-y-6"},Y={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},ee={class:"overflow-x-auto"},te={class:"text-sm font-medium text-foreground line-clamp-2"},se={class:"flex justify-end space-x-3"},ae=["onClick"],re={class:"flex flex-col items-center justify-center space-y-4"},le={class:"bg-muted/20 p-4 rounded-full"},ne={key:0,class:"bg-muted/20 px-4 py-3 border-t flex flex-col sm:flex-row items-center justify-between gap-4"},ie={class:"flex space-x-2"},oe={__name:"Index",props:{templates:{type:Object,required:!0,default:()=>({data:[],meta:{},links:{}})},tenantSlug:String,permissions:Array},setup(o){const p=o,D=$(()=>[{title:p.tenantSlug?"Dashboard":"Admin Dashboard",href:p.tenantSlug?route("dashboard",{tenantSlug:p.tenantSlug}):route("admin.dashboard")},{title:"SMS Templates",href:route("sms-coaching-templates.index",{tenantSlug:p.tenantSlug})}]),_=l=>l?l.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",y=l=>{switch(l){case"good":return"success";case"bad":return"destructive";case"minor_improvement":return"warning";default:return"default"}},b=C(!1),g=C(null),N=l=>{g.value=l,b.value=!0},j=()=>{g.value&&B.delete(route("sms-coaching-templates.destroy",{tenantSlug:p.tenantSlug,id:g.value.id}),{preserveScroll:!0,onSuccess:()=>{b.value=!1}})},z={"{driver_first_name}":"First Name","{driver_last_name}":"Last Name","{driver_ontime_score}":"On-Time %","{driver_acceptance_score}":"Acceptance %","{driver_greenzone_score}":"Green Zone","{driver_severe_alerts}":"Severe Alerts","{company_avg_ontime}":"Avg On-Time %","{company_avg_acceptance}":"Avg Acceptance %","{company_avg_greenzone}":"Avg Green Zone"},T=l=>l?l.replace(/{[^}]+}/g,t=>`<${z[t]||t}>`):"",r=$(()=>Array.isArray(p.permissions)?p.permissions.map(l=>l==null?void 0:l.name).filter(Boolean):[]);return(l,t)=>(d(),m(F,{breadcrumbs:D.value,tenantSlug:o.tenantSlug,permissions:o.permissions},{default:s(()=>[a(e(M),{title:"SMS Coaching Templates"}),a(O,{permissions:o.permissions},{default:s(()=>[a(V,{show:b.value,template:g.value,onClose:t[0]||(t[0]=n=>b.value=!1),onConfirm:j},{title:s(()=>t[1]||(t[1]=[u("Delete Template")])),content:s(()=>{var n;return[t[2]||(t[2]=i("p",{class:"text-sm text-muted-foreground mb-4"}," Are you sure you want to delete this template? This action cannot be undone. ",-1)),i("div",K,[i("p",Q,h((n=g.value)!=null&&n.coaching_message?T(g.value.coaching_message):"No message"),1)])]}),_:1},8,["show","template"]),i("div",R,[i("div",Y,[t[4]||(t[4]=i("div",null,[i("h1",{class:"text-xl sm:text-2xl font-bold tracking-tight text-foreground"},"SMS Coaching Templates"),i("p",{class:"mt-1 text-sm text-muted-foreground max-w-3xl"}," Manage templates for performance feedback SMS coaching. Create templates for different driver performance scenarios. ")],-1)),r.value&&r.value.includes("sms-coaching-templates.create")?(d(),m(e(v),{key:0,href:l.route("sms-coaching-templates.create",{tenantSlug:o.tenantSlug}),class:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 text-sm font-medium shadow-sm transition-all h-10"},{default:s(()=>[a(e(A),{class:"h-7.5 w-7.5"}),t[3]||(t[3]=i("span",{class:"whitespace-nowrap"},"New Template",-1))]),_:1},8,["href"])):c("",!0)]),a(e(I),{class:"overflow-hidden border rounded-xl shadow-sm"},{default:s(()=>[a(e(Z),{class:"p-0"},{default:s(()=>[i("div",ee,[a(e(E),null,{default:s(()=>[a(e(G),{class:"bg-muted/30"},{default:s(()=>[a(e(S),null,{default:s(()=>[a(e(x),{class:"min-w-[160px]"},{default:s(()=>t[5]||(t[5]=[u("Message Preview")])),_:1}),a(e(x),{class:"hidden sm:table-cell"},{default:s(()=>t[6]||(t[6]=[u("Acceptance")])),_:1}),a(e(x),{class:"hidden sm:table-cell"},{default:s(()=>t[7]||(t[7]=[u("On-Time")])),_:1}),a(e(x),{class:"hidden md:table-cell"},{default:s(()=>t[8]||(t[8]=[u("Green Zone")])),_:1}),a(e(x),{class:"hidden md:table-cell"},{default:s(()=>t[9]||(t[9]=[u("Severe Alerts")])),_:1}),r.value&&(r.value.includes("sms-coaching-templates.update")||r.value.includes("sms-coaching-templates.delete")||r.value.includes("sms-coaching-templates.view"))?(d(),m(e(x),{key:0,class:"text-right min-w-[120px]"},{default:s(()=>t[10]||(t[10]=[u("Actions")])),_:1})):c("",!0)]),_:1})]),_:1}),a(e(P),null,{default:s(()=>[(d(!0),k(X,null,J(o.templates.data,n=>(d(),m(e(S),{key:n.id,class:"hover:bg-muted/10 transition-colors duration-150"},{default:s(()=>[a(e(f),{class:"max-w-[160px] lg:max-w-[240px] py-3"},{default:s(()=>[i("div",te,h(n.coaching_message?T(n.coaching_message):"No message"),1)]),_:2},1024),a(e(f),{class:"hidden sm:table-cell py-3"},{default:s(()=>[a(e(w),{variant:y(n.acceptance),class:"whitespace-nowrap capitalize text-xs"},{default:s(()=>[u(h(_(n.acceptance)),1)]),_:2},1032,["variant"])]),_:2},1024),a(e(f),{class:"hidden sm:table-cell py-3"},{default:s(()=>[a(e(w),{variant:y(n.ontime),class:"whitespace-nowrap capitalize text-xs"},{default:s(()=>[u(h(_(n.ontime)),1)]),_:2},1032,["variant"])]),_:2},1024),a(e(f),{class:"hidden md:table-cell py-3"},{default:s(()=>[a(e(w),{variant:y(n.greenzone),class:"whitespace-nowrap capitalize text-xs"},{default:s(()=>[u(h(_(n.greenzone)),1)]),_:2},1032,["variant"])]),_:2},1024),a(e(f),{class:"hidden md:table-cell py-3"},{default:s(()=>[a(e(w),{variant:y(n.severe_alerts),class:"whitespace-nowrap capitalize text-xs"},{default:s(()=>[u(h(_(n.severe_alerts)),1)]),_:2},1032,["variant"])]),_:2},1024),r.value&&(r.value.includes("sms-coaching-templates.update")||r.value.includes("sms-coaching-templates.delete")||r.value.includes("sms-coaching-templates.view"))?(d(),m(e(f),{key:0,class:"py-3"},{default:s(()=>[i("div",se,[r.value&&r.value.includes("sms-coaching-templates.view")?(d(),m(e(v),{key:0,href:l.route("sms-coaching-templates.show",{tenantSlug:o.tenantSlug,id:n.id}),class:"inline-flex items-center justify-center p-1 rounded-lg text-primary hover:bg-primary/10 transition-colors",title:"View Details"},{default:s(()=>[a(e(L),{class:"h-7.5 w-7.5"})]),_:2},1032,["href"])):c("",!0),r.value&&r.value.includes("sms-coaching-templates.update")?(d(),m(e(v),{key:1,href:l.route("sms-coaching-templates.edit",{tenantSlug:o.tenantSlug,id:n.id}),class:"inline-flex items-center justify-center p-1 rounded-lg text-primary hover:bg-primary/10 transition-colors",title:"Edit Template"},{default:s(()=>[a(e(U),{class:"h-7.5 w-7.5"})]),_:2},1032,["href"])):c("",!0),r.value&&r.value.includes("sms-coaching-templates.delete")?(d(),k("button",{key:2,onClick:de=>N(n),class:"inline-flex items-center justify-center p-1 rounded-lg text-destructive hover:bg-destructive/10 transition-colors",title:"Delete Template"},[a(e(W),{class:"h-7.5 w-7.5"})],8,ae)):c("",!0)])]),_:2},1024)):c("",!0)]),_:2},1024))),128)),o.templates.data.length===0?(d(),m(e(S),{key:0},{default:s(()=>[a(e(f),{colspan:6,class:"py-12 text-center"},{default:s(()=>[i("div",re,[i("div",le,[a(e(H),{class:"h-10 w-10 text-muted-foreground"})]),t[12]||(t[12]=i("div",{class:"space-y-1.5"},[i("h3",{class:"text-lg font-medium text-foreground"},"No templates found"),i("p",{class:"text-sm text-muted-foreground max-w-md"}," Get started by creating a new SMS coaching template for your drivers. ")],-1)),r.value&&r.value.includes("sms-coaching-templates.create")?(d(),m(e(v),{key:0,href:l.route("sms-coaching-templates.create",{tenantSlug:o.tenantSlug}),class:"inline-flex items-center gap-2 px-4 py-2.5 text-sm rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 h-10"},{default:s(()=>[a(e(A),{class:"h-5 w-5"}),t[11]||(t[11]=u(" Create Template "))]),_:1},8,["href"])):c("",!0)])]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1})]),o.templates.data.length>0?(d(),k("div",ne,[i("div",ie,[o.templates.prev_page_url?(d(),m(e(v),{key:0,href:o.templates.prev_page_url,class:"px-4 py-2 rounded-md text-sm font-medium text-foreground/80 hover:bg-muted/50 transition-colors border border-border h-10","preserve-scroll":""},{default:s(()=>t[13]||(t[13]=[u(" ← Previous ")])),_:1},8,["href"])):c("",!0),o.templates.next_page_url?(d(),m(e(v),{key:1,href:o.templates.next_page_url,class:"px-4 py-2 rounded-md text-sm font-medium text-foreground/80 hover:bg-muted/50 transition-colors border border-border h-10","preserve-scroll":""},{default:s(()=>t[14]||(t[14]=[u(" Next → ")])),_:1},8,["href"])):c("",!0)])])):c("",!0)]),_:1})]),_:1})])]),_:1},8,["permissions"])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}},Ne=q(oe,[["__scopeId","data-v-1e27644c"]]);export{Ne as default};
