import{W as y,g as S}from"./vendor-vue-CegDyOO_.js";import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-DvtjhaUB.js";import{u as D}from"./useInitials-DzeGKvtI.js";import{A as j,C,P as A,M as B,S as T,b as h,c as z,d as I,T as L,e as b}from"./vendor-icons-coAGW0bc.js";import{c as f,F as l,e as n,X as e,z as o,S as u,u as i,U as r,a3 as O,H as P,O as U,b as Z,f as $}from"./vendor-Bl7QtHDZ.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-DnnPsXYS.js";import"./vendor-ui-B_LrUle4.js";import"./Icon.vue_vue_type_script_setup_true_lang-BJi62zlW.js";import"./app-DSBC6pvU.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BGaPs1OX.js";import"./Button.vue_vue_type_script_setup_true_lang-CmY1RpaM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"min-h-screen bg-background p-4 md:p-6"},H={class:"mb-4"},M={class:"container max-w-6xl mx-auto"},N={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6"},V={class:"flex items-center border rounded-full px-3 py-1 text-sm mt-2 md:mt-0"},W={class:"bg-card rounded-lg border border-muted/30 shadow-sm"},X={class:"flex flex-col md:flex-row gap-6 p-6"},q={class:"md:w-1/3 flex flex-col items-center space-y-4"},E={class:"relative"},G={class:"w-32 h-32 rounded-full overflow-hidden border-2 border-primary"},R=["src"],J={key:1,class:"w-full h-full bg-muted/20 flex items-center justify-center"},K={class:"text-3xl font-bold text-primary"},Q={class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2"},Y={class:"px-2 py-1 text-sm font-bold bg-primary text-white rounded-full text-center"},ee={class:"text-center mt-6 space-y-2"},te={class:"text-xl font-bold"},se={class:"flex items-center justify-center text-muted-foreground"},re={class:"flex items-center justify-center text-muted-foreground"},ie={class:"pt-4"},oe={class:"font-medium"},de={class:"pt-1"},ne={class:"font-medium"},le={class:"md:w-2/3 space-y-6"},ae={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ce={class:"bg-primary/10 border border-primary/20 rounded-lg p-4"},me={class:"flex items-center"},ue={class:"text-2xl font-bold mt-2 text-primary"},fe={class:"bg-success/10 border border-success/20 rounded-lg p-4"},ve={class:"flex items-center"},xe={class:"text-2xl font-bold mt-2 text-success"},he={class:"bg-warning/10 border border-warning/20 rounded-lg p-4"},be={class:"flex items-center"},ge={class:"text-2xl font-bold mt-2 text-warning"},_e={class:"bg-success/10 border border-success/20 rounded-lg p-4"},pe={class:"flex justify-between items-center"},we={class:"font-semibold text-success flex items-center"},ye={class:"text-2xl font-bold text-success"},Se={class:"mt-2 h-2 w-full bg-success/20 rounded-full overflow-hidden"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},De={class:"border rounded-lg p-4"},je={class:"flex items-center justify-between"},Ce={class:"flex items-center"},Ae={class:"text-2xl font-bold"},Be={class:"border rounded-lg p-4"},Te={class:"flex items-center justify-between"},ze={class:"flex items-center"},Ie={class:"text-2xl font-bold"},Le={class:"border rounded-lg"},Oe={class:"border-b p-4"},Pe={class:"font-semibold flex items-center"},Ue={class:"p-4 space-y-3"},Ze={class:"flex items-center"},$e={class:"bg-destructive/10 text-destructive rounded-full w-8 h-8 flex items-center justify-center mr-3"},Fe={class:"font-bold"},He={__name:"DriverProfileComponent",props:{driver:{type:Object,required:!0},tenantSlug:String},setup(t){const d=t,{getInitials:c}=D(),m=f(()=>d.tenantSlug?route("driver.index",{tenantSlug:d.tenantSlug}):route("driver.index.admin"));function v(){m.value&&y.get(m.value)}function g(a){return a.replace(/([A-Z])/g," $1").replace(/^./,s=>s.toUpperCase())}const _=a=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(a),p=f(()=>d.driver.last_updated?_(new Date(d.driver.last_updated)):"-");return(a,s)=>(n(),l("div",F,[e("div",H,[e("button",{onClick:v,class:"inline-flex items-center text-sm text-primary hover:underline"},[o(i(j),{class:"h-4 w-4 mr-1"}),s[0]||(s[0]=u(" Back "))])]),e("div",M,[e("div",N,[s[1]||(s[1]=e("div",null,[e("h1",{class:"text-2xl font-bold"},"Driver Profile"),e("p",{class:"text-muted-foreground mt-1"},"Detailed performance metrics")],-1)),e("div",V,[o(i(C),{class:"mr-1 h-4 w-4"}),e("span",null,"Last updated: "+r(p.value),1)])]),e("div",W,[e("div",X,[e("div",q,[e("div",E,[e("div",G,[t.driver.image?(n(),l("img",{key:0,src:t.driver.image,alt:"Driver",class:"w-full h-full object-cover object-center"},null,8,R)):(n(),l("div",J,[e("div",K,r(i(c)(t.driver.name)),1)]))]),e("div",Q,[e("div",Y," Rank #"+r(t.driver.rank),1)])]),e("div",ee,[e("h2",te,r(t.driver.name),1),e("div",se,[o(i(A),{class:"mr-2 h-4 w-4"}),e("span",null,"+1 "+r(t.driver.phone),1)]),e("div",re,[o(i(B),{class:"mr-2 h-4 w-4"}),e("span",null,r(t.driver.email),1)]),e("div",ie,[s[2]||(s[2]=e("div",{class:"text-sm text-muted-foreground"},"Hire Date",-1)),e("div",oe,r(t.driver.hireDate),1)]),e("div",de,[s[3]||(s[3]=e("div",{class:"text-sm text-muted-foreground"},"Company",-1)),e("div",ne,r(t.driver.tenant),1)])])]),e("div",le,[e("div",ae,[e("div",ce,[e("div",me,[o(i(T),{class:"mr-2 h-5 w-5 text-primary"}),s[4]||(s[4]=e("h3",{class:"font-semibold text-primary"},"Overall Score",-1))]),e("div",ue,r(t.driver.overall_score),1)]),e("div",fe,[e("div",ve,[o(i(h),{class:"mr-2 h-5 w-5 text-success"}),s[5]||(s[5]=e("h3",{class:"font-semibold text-success"},"On-Time Score",-1))]),e("div",xe,r(t.driver.on_time_score),1)]),e("div",he,[e("div",be,[o(i(z),{class:"mr-2 h-5 w-5 text-warning"}),s[6]||(s[6]=e("h3",{class:"font-semibold text-warning"},"Acceptance Score",-1))]),e("div",ge,r(t.driver.acceptance_score),1)])]),e("div",_e,[e("div",pe,[e("h3",we,[o(i(I),{class:"mr-2 h-5 w-5"}),s[7]||(s[7]=u(" Green Zone Score "))]),e("div",ye,r(t.driver.greenZoneScore),1)]),e("div",Se,[e("div",{class:"h-full bg-success rounded-full",style:O({width:`${t.driver.greenZoneScore}%`})},null,4)])]),e("div",ke,[e("div",De,[e("div",je,[e("div",Ce,[o(i(h),{class:"mr-2 h-5 w-5 text-blue-500"}),s[8]||(s[8]=e("div",null,[e("h3",{class:"font-semibold"},"Minutes Analyzed"),e("p",{class:"text-sm text-muted-foreground"},"Total driving time analyzed")],-1))]),e("div",Ae,r(t.driver.minutesAnalyzed),1)])]),e("div",Be,[e("div",Te,[e("div",ze,[o(i(L),{class:"mr-2 h-5 w-5 text-indigo-500"}),s[9]||(s[9]=e("div",null,[e("h3",{class:"font-semibold"},"# of Trips"),e("p",{class:"text-sm text-muted-foreground"},"Completed trips")],-1))]),e("div",Ie,r(t.driver.trips),1)])])]),e("div",Le,[e("div",Oe,[e("h3",Pe,[o(i(b),{class:"mr-2 h-5 w-5 text-destructive"}),s[10]||(s[10]=u(" Infractions "))])]),e("div",Ue,[(n(!0),l(P,null,U(t.driver.infractions,(w,x)=>(n(),l("div",{key:x,class:"flex justify-between items-center py-2 border-b border-muted/20 last:border-0"},[e("div",Ze,[e("div",$e,[o(i(b),{class:"h-4 w-4"})]),e("span",null,r(g(x)),1)]),e("span",Fe,r(w),1)]))),128))])])])])])])]))}},et={__name:"Show",props:{driver:Object,tenantSlug:String,permissions:Array},setup(t){const d=t,c=f(()=>[{title:d.tenantSlug?"Dashboard":"Admin Dashboard",href:d.tenantSlug?route("dashboard",{tenantSlug:d.tenantSlug}):route("admin.dashboard")},{title:"Drivers",href:d.tenantSlug?route("driver.index",{tenantSlug:d.tenantSlug}):route("driver.index.admin")},{title:d.driver.name,href:"#"}]);return(m,v)=>(n(),Z(k,{breadcrumbs:c.value,tenantSlug:t.tenantSlug,permissions:t.permissions},{default:$(()=>[o(i(S),{title:"Driver Profile"}),o(He,{driver:t.driver,tenantSlug:t.tenantSlug},null,8,["driver","tenantSlug"])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}};export{et as default};
