import{g as ae,W as ne}from"./vendor-vue-BLQkEQ_D.js";import{_ as se}from"./AppLayout.vue_vue_type_script_setup_true_lang-CvhbqXcl.js";import{_ as q}from"./Icon.vue_vue_type_script_setup_true_lang-Bvtx7n_2.js";import{_ as S}from"./Badge.vue_vue_type_script_setup_true_lang-Cbc7GIY_.js";import{_ as Z}from"./Button.vue_vue_type_script_setup_true_lang-BbwYdLlm.js";import{_ as re,a as oe,b as ie,c as le,d as de}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BMgF8EFT.js";import{_ as ce}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B6J1QtuW.js";import{_ as ue,a as me,b as ee,c as E,d as fe,e as I}from"./TableRow.vue_vue_type_script_setup_true_lang-BYKXF4kE.js";import{e as M,a as D,H as p,i as x,X as e,P as r,ak as R,r as j,A as te,G as V,J as G,K as Q,B as i,j as d,O as v,u as c,f as P}from"./vendor-BFuKjz45.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-7fX89-0C.js";import"./vendor-ui-CqNqovUm.js";import"./app-CGq9Auu4.js";import"./vendor-icons-ILJ_3fu6.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CZUnzYQk.js";const ge={class:"mb-6"},be=M({__name:"DashboardHeader",props:{operationalExcellenceScore:{type:String,default:"Not Available"}},setup(t){const m=t,g=D(()=>{switch(m.operationalExcellenceScore){case"Fantastic +":return"text-green-600";case"Fantastic":return"text-emerald-600";case"Good":return"text-blue-600";case"Fair":return"text-amber-600";case"Poor":return"text-red-600";default:return"text-gray-600"}});return(h,_)=>(x(),p("div",ge,[e("h2",{class:R(["text-4xl font-bold tracking-tight",[g.value,"transition-colors duration-300"]])},r(t.operationalExcellenceScore),3)]))}}),ve={class:"mb-6"},xe={class:"border-b"},_e={class:"flex -mb-px space-x-8"},ye=["onClick"],pe={key:0,class:"mt-2 text-sm text-muted-foreground"},we={key:0,class:"ml-1"},he=M({__name:"TimePeriodTabs",props:{dateRangeText:{type:String,default:""},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},activeTabId:{type:String,default:"yesterday"}},emits:["tab-change"],setup(t,{emit:m}){const g=t,h=[{id:"yesterday",label:"Yesterday"},{id:"current-week",label:"WtD"},{id:"t6w",label:"T6W Scores"},{id:"quarterly",label:"Quarterly Scores"}],_=j(g.activeTabId),l=m,f=D(()=>(_.value==="yesterday"||_.value==="current-week")&&g.weekNumber&&g.year?`Week ${g.weekNumber}, ${g.year}`:(_.value==="t6w"||_.value==="quarterly")&&g.startWeekNumber&&g.endWeekNumber&&g.year?`Weeks ${g.startWeekNumber}-${g.endWeekNumber}, ${g.year}`:""),T=k=>{_.value=k,l("tab-change",k)};return te(()=>{l("tab-change",_.value)}),(k,B)=>(x(),p("div",ve,[e("div",xe,[e("div",_e,[(x(),p(G,null,Q(h,$=>e("button",{key:$.id,onClick:W=>T($.id),class:R(["py-2 px-1 border-b-2 text-sm font-medium transition-colors",_.value===$.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted-foreground"])},r($.label),11,ye)),64))])]),t.dateRangeText?(x(),p("div",pe,[e("span",null,r(t.dateRangeText),1),f.value?(x(),p("span",we,"("+r(f.value)+")",1)):V("",!0)])):V("",!0)]))}}),ke={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-6"},De={class:"bg-card rounded-lg border shadow-sm p-4"},$e={class:"flex items-center justify-between gap-3 mb-4"},Se={class:"space-y-2 text-sm max-h-40 overflow-y-auto"},Re={class:"bg-card rounded-lg border shadow-sm p-4"},Ne={class:"flex items-center justify-between gap-3 mb-4"},je={class:"space-y-2 text-sm max-h-40 overflow-y-auto"},Te={class:"bg-card rounded-lg border shadow-sm p-4"},Be={class:"flex items-center justify-between gap-3 mb-4"},Ce={class:"text-sm mb-2 space-y-2"},Fe={class:"flex justify-between"},Ae={class:"flex justify-between"},We={class:"flex justify-between"},Oe={class:"flex justify-between"},Pe={class:"bg-card rounded-lg border shadow-sm p-4"},Ve={class:"flex items-center justify-between gap-3 mb-4"},Me={class:"text-4xl font-bold text-indigo-600"},qe={class:"space-y-2 text-sm"},Ee={class:"flex justify-between items-center"},Ie={class:"flex items-center gap-2"},Ge={class:"w-12 text-right"},Qe={class:"w-16 text-right"},Ue={class:"flex justify-between items-center"},He={class:"flex items-center gap-2"},Ke={class:"w-12 text-right"},Le={class:"w-16 text-right"},ze={class:"flex justify-between items-center"},Je={class:"flex items-center gap-2"},Xe={class:"w-12 text-right"},Ye={class:"w-16 text-right"},Ze={class:"flex justify-between items-center"},et={class:"flex items-center gap-2"},tt={class:"w-12 text-right"},at={class:"w-16 text-right"},nt={class:"flex justify-between items-center"},st={class:"flex items-center gap-2"},rt={class:"w-12 text-right"},ot={class:"w-16 text-right"},it={class:"text-sm text-muted-foreground mt-3"},lt=M({__name:"PerformanceCards",props:{performanceData:{type:Object,default:()=>({})},performanceRatings:{type:Object,default:()=>({})},safetyData:{type:Object,default:()=>({})},delayBreakdowns:{type:Array,default:()=>[]},rejectionBreakdowns:{type:Array,default:()=>[]},maintenanceBreakdowns:{type:Object,default:()=>({})}},setup(t){const m=t,g=D(()=>[...m.delayBreakdowns].sort((n,a)=>a.total_delays-n.total_delays).slice(0,3)),h=D(()=>[...m.rejectionBreakdowns].sort((n,a)=>a.total_rejections-n.total_rejections).slice(0,3)),_=n=>n==null?"0%":`${Math.round(parseFloat(n))}%`,l=n=>(typeof n=="string"&&(n=parseFloat(n)),n==null||isNaN(n)?"0":Math.round(n).toString()),f=n=>(typeof n=="string"&&(n=parseFloat(n)),n==null||isNaN(n)?"0.00":n.toFixed(2)),T=n=>(typeof n=="string"&&(n=parseFloat(n)),n==null||isNaN(n)?"0.00":n.toFixed(2)),k=n=>{if(!n)return"Not Available";switch(n){case"gold":return"Gold Tier";case"silver":return"Silver Tier";case"not_eligible":return"Not Eligible";case"fantastic_plus":return"Fantastic +";case"fantastic":return"Fantastic";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return n}},B=n=>{if(!n)return"outline";switch(n){case"gold":return"gold";case"silver":return"silver";case"not_eligible":return"not-eligible";case"fantastic_plus":return"fantastic-plus";case"fantastic":return"fantastic";case"good":return"good";case"fair":return"fair";case"poor":return"poor";default:return"outline"}},$=n=>n?n==="Gold Tier"?"gold":n==="Silver Tier"?"silver":n==="Not Eligible"?"not-eligible":"outline":"outline",W=D(()=>{var s;if(!((s=m.safetyData)!=null&&s.ratings))return null;const n=m.safetyData.ratings,a={gold:3,silver:2,not_eligible:1},F=["traffic_light_violation","speeding_violations","following_distance","driver_distraction","sign_violations"];let o="gold";for(const y of F)n[y]&&a[n[y]]<a[o]&&(o=n[y]);switch(o){case"gold":return"Gold Tier";case"silver":return"Silver Tier";case"not_eligible":return"Not Eligible";default:return"Not Available"}}),C=n=>{if(!n)return"text-gray-600";switch(n){case"gold":return"text-amber-600";case"silver":return"text-slate-600";case"not_eligible":return"text-red-600";case"fantastic_plus":return"text-green-600";case"fantastic":return"text-emerald-600";case"good":return"text-blue-600";case"fair":return"text-amber-600";case"poor":return"text-red-600";default:return"text-indigo-600"}};return(n,a)=>{var F,o,s,y,w;return x(),p("div",ke,[e("div",De,[a[0]||(a[0]=e("h3",{class:"text-base font-semibold mb-1"},"Acceptance",-1)),a[1]||(a[1]=e("div",{class:"text-xs text-muted-foreground mb-1"},"Total Score",-1)),e("div",$e,[e("div",{class:R(["text-4xl font-bold",C(t.performanceRatings.average_acceptance)])},r(_(t.performanceData.average_acceptance)),3),i(c(S),{variant:B(t.performanceRatings.average_acceptance),class:"text-xs"},{default:d(()=>[v(r(k(t.performanceRatings.average_acceptance)),1)]),_:1},8,["variant"])]),a[2]||(a[2]=e("div",{class:"text-sm mb-2 flex justify-between"},[e("span",{class:"font-semibold"},"Rejections by Reason"),e("span",{class:"font-semibold"},"Total")],-1)),e("div",Se,[(x(!0),p(G,null,Q(h.value,(u,b)=>(x(),p("div",{key:b,class:"flex justify-between"},[e("span",null,r(u.reason_code),1),e("span",null,r(u.total_rejections),1)]))),128))])]),e("div",Re,[a[3]||(a[3]=e("h3",{class:"text-base font-semibold mb-1"},"On-Time",-1)),a[4]||(a[4]=e("div",{class:"text-xs text-muted-foreground mb-1"},"Total Score",-1)),e("div",Ne,[e("div",{class:R(["text-4xl font-bold",C(t.performanceRatings.average_on_time)])},r(_(t.performanceData.average_on_time)),3),i(c(S),{variant:B(t.performanceRatings.average_on_time),class:"text-xs"},{default:d(()=>[v(r(k(t.performanceRatings.average_on_time)),1)]),_:1},8,["variant"])]),a[5]||(a[5]=e("div",{class:"text-sm mb-2 flex justify-between"},[e("span",{class:"font-semibold"},"Delays by Reason"),e("span",{class:"font-semibold"},"Total")],-1)),e("div",je,[(x(!0),p(G,null,Q(g.value,(u,b)=>(x(),p("div",{key:b,class:"flex justify-between"},[e("span",null,r(u.code),1),e("span",null,r(u.total_delays),1)]))),128))])]),e("div",Te,[a[10]||(a[10]=e("h3",{class:"text-base font-semibold mb-1"},"Maintenance",-1)),a[11]||(a[11]=e("div",{class:"text-xs text-muted-foreground mb-1"},"MVtS Score",-1)),e("div",Be,[e("div",{class:R(["text-4xl font-bold",C(t.performanceRatings.average_maintenance_variance_to_spend)])},r(_(t.performanceData.average_maintenance_variance_to_spend)),3),i(c(S),{variant:B(t.performanceRatings.average_maintenance_variance_to_spend),class:"text-xs"},{default:d(()=>[v(r(k(t.performanceRatings.average_maintenance_variance_to_spend)),1)]),_:1},8,["variant"])]),e("div",Ce,[e("div",Fe,[a[6]||(a[6]=e("span",null,"Cost per mile",-1)),e("span",null,"$"+r(T(t.maintenanceBreakdowns.cpm)),1)]),e("div",Ae,[a[7]||(a[7]=e("span",null,"Num of WOs",-1)),e("span",null,r(t.maintenanceBreakdowns.total_repair_orders),1)]),e("div",We,[a[8]||(a[8]=e("span",null,"Current Costs",-1)),e("span",null,"$"+r(T(t.maintenanceBreakdowns.total_invoice_amount)),1)]),e("div",Oe,[a[9]||(a[9]=e("span",null,"Missing Invoices",-1)),e("span",null,r(t.maintenanceBreakdowns.missing_invoices_count||0),1)])])]),e("div",Pe,[a[17]||(a[17]=e("h3",{class:"text-base font-semibold mb-1"},"Netradyne Alerts Bonus Criteria",-1)),a[18]||(a[18]=e("div",{class:"text-xs text-muted-foreground mb-1"},"Green Zone Score",-1)),e("div",Ve,[e("div",Me,r(l(t.safetyData.average_driver_score||"N/A")),1),i(c(S),{variant:$(W.value),class:"text-xs"},{default:d(()=>[v(r(k(W.value)),1)]),_:1},8,["variant"])]),a[19]||(a[19]=e("div",{class:"flex justify-between items-center text-sm font-semibold mb-2"},[e("span",null,"Alert Type"),e("div",{class:"flex items-center gap-2"},[e("span",{class:"w-12 text-right"},"Total"),e("span",{class:"w-16 text-right"},"P1KH")])],-1)),e("div",qe,[e("div",Ee,[a[12]||(a[12]=e("span",null,"Distracted Driving",-1)),e("div",Ie,[e("span",Ge,r(l(t.safetyData.driver_distraction)),1),e("span",Qe,r(f((F=t.safetyData.rates)==null?void 0:F.driver_distraction)),1)])]),e("div",Ue,[a[13]||(a[13]=e("span",null,"Speeding",-1)),e("div",He,[e("span",Ke,r(l(t.safetyData.speeding_violations)),1),e("span",Le,r(f((o=t.safetyData.rates)==null?void 0:o.speeding_violations)),1)])]),e("div",ze,[a[14]||(a[14]=e("span",null,"Sign Violation",-1)),e("div",Je,[e("span",Xe,r(l(t.safetyData.sign_violations)),1),e("span",Ye,r(f((s=t.safetyData.rates)==null?void 0:s.sign_violations)),1)])]),e("div",Ze,[a[15]||(a[15]=e("span",null,"Traffic Light Violation",-1)),e("div",et,[e("span",tt,r(l(t.safetyData.traffic_light_violation)),1),e("span",at,r(f((y=t.safetyData.rates)==null?void 0:y.traffic_light_violation)),1)])]),e("div",nt,[a[16]||(a[16]=e("span",null,"Following Distance",-1)),e("div",st,[e("span",rt,r(l(t.safetyData.following_distance)),1),e("span",ot,r(f((w=t.safetyData.rates)==null?void 0:w.following_distance)),1)])])]),e("div",it,[e("div",null,"Total Hours Analyzed: "+r(l(t.safetyData.total_hours||0)),1)])])])}}}),dt={class:"bg-card rounded-lg border shadow-sm p-6 mb-6"},ct={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ut={class:"p-4 border rounded-lg"},mt={class:"flex items-center justify-between gap-3 mb-3"},ft={class:"p-4 border rounded-lg"},gt={class:"flex items-center justify-between gap-3 mb-3"},bt={class:"p-4 border rounded-lg"},vt={class:"flex items-center justify-between gap-3 mb-3"},xt=M({__name:"AdditionalMetricsCard",props:{performanceData:{type:Object,default:()=>({})},performanceRatings:{type:Object,default:()=>({})}},setup(t){const m=l=>l==null?"0":Math.round(parseFloat(l)).toString(),g=l=>{if(!l)return"Not Available";switch(l){case"fantastic_plus":return"Fantastic +";case"fantastic":return"Fantastic";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return l.charAt(0).toUpperCase()+l.slice(1).replace(/_/g," ")}},h=l=>{if(!l)return"outline";switch(l){case"fantastic_plus":return"fantastic-plus";case"fantastic":return"fantastic";case"good":return"good";case"fair":return"fair";case"poor":return"poor";default:return"outline"}},_=l=>{if(!l)return"text-gray-600";switch(l){case"fantastic_plus":return"text-green-600";case"fantastic":return"text-emerald-600";case"good":return"text-blue-600";case"fair":return"text-amber-600";case"poor":return"text-red-600";default:return"text-indigo-600"}};return(l,f)=>(x(),p("div",dt,[f[6]||(f[6]=e("h3",{class:"text-xl font-semibold mb-4"},"Additional Performance Metrics",-1)),e("div",ct,[e("div",ut,[f[0]||(f[0]=e("h4",{class:"text-lg font-medium mb-2"},"VCR-P",-1)),f[1]||(f[1]=e("div",{class:"text-sm text-muted-foreground mb-1"},"Count",-1)),e("div",mt,[e("div",{class:R(["text-3xl font-bold",_(t.performanceRatings.vcr_preventable)])},r(m(t.performanceData.vcr_preventable)),3),i(c(S),{variant:h(t.performanceRatings.vcr_preventable),class:"text-xs"},{default:d(()=>[v(r(g(t.performanceRatings.vcr_preventable)),1)]),_:1},8,["variant"])])]),e("div",ft,[f[2]||(f[2]=e("h4",{class:"text-lg font-medium mb-2"},"VMCR-P",-1)),f[3]||(f[3]=e("div",{class:"text-sm text-muted-foreground mb-1"},"Count",-1)),e("div",gt,[e("div",{class:R(["text-3xl font-bold",_(t.performanceRatings.vmcr_p)])},r(m(t.performanceData.vmcr_p)),3),i(c(S),{variant:h(t.performanceRatings.vmcr_p),class:"text-xs"},{default:d(()=>[v(r(g(t.performanceRatings.vmcr_p)),1)]),_:1},8,["variant"])])]),e("div",bt,[f[4]||(f[4]=e("h4",{class:"text-lg font-medium mb-2"},"Open BOC",-1)),f[5]||(f[5]=e("div",{class:"text-sm text-muted-foreground mb-1"},"Count",-1)),e("div",vt,[e("div",{class:R(["text-3xl font-bold",_(t.performanceRatings.open_boc)])},r(m(t.performanceData.open_boc)),3),i(c(S),{variant:h(t.performanceRatings.open_boc),class:"text-xs"},{default:d(()=>[v(r(g(t.performanceRatings.open_boc)),1)]),_:1},8,["variant"])])])])]))}}),_t={class:"container mx-auto p-6"},yt={class:"flex items-center justify-between mb-6"},pt={key:0,class:"mb-6"},wt={class:"bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 dark:border-red-400 p-4 rounded-md shadow-sm"},ht={class:"flex items-center"},kt={class:"flex-shrink-0"},Dt={class:"h-10 w-10 rounded-full bg-red-100 dark:bg-red-800 flex items-center justify-center"},$t={class:"ml-3"},St={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Rt={class:"mt-2"},Nt={class:"max-h-[60vh] overflow-y-auto"},jt={class:"flex items-center gap-2"},Tt={key:1,class:"text-center py-8 text-muted-foreground"},Ht=M({__name:"Summary",props:{tenantSlug:String,summaries:Object,delayBreakdowns:Object,rejectionBreakdowns:Object,maintenanceBreakdowns:Object,dateFilter:String,dateRange:Object},setup(t){const m=t;j("on-time");const g=j(m.dateFilter||"t6w"),h=j(null),_=j(null);j(!0);const l=j(!1),f=D(()=>{var o,s;return((s=(o=m.maintenanceBreakdowns)==null?void 0:o.canceled_qs_invoices)==null?void 0:s.length)>0});te(()=>{});const T=o=>o==null?"0.00":Number(o).toFixed(2),k=D(()=>{const s={yesterday:"yesterday","current-week":"current_week",t6w:"rolling_6_weeks",quarterly:"quarterly"}[g.value]||g.value;return n(s)}),B=o=>{g.value=o,ne.visit(route("dashboard",{tenantSlug:m.tenantSlug,dateFilter:o,minInvoiceAmount:h.value||null,outstandingDate:_.value||null}),{preserveState:!0,preserveScroll:!0,only:["summaries","delayBreakdowns","rejectionBreakdowns","maintenanceBreakdowns","dateFilter","dateRange"]})},$=[{title:m.tenantSlug?"Dashboard":"Admin Dashboard",href:m.tenantSlug?route("dashboard",{tenantSlug:m.tenantSlug}):route("admin.dashboard")},{title:"Performance Summary",href:route("dashboard",{tenantSlug:m.tenantSlug})}],W=D(()=>{var o,s;return(s=(o=m.summaries)==null?void 0:o.performance)!=null&&s.last_updated?C(new Date(m.summaries.performance.last_updated)):C(new Date)}),C=o=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(o),n=o=>{var y,w;if((w=(y=m.summaries)==null?void 0:y[o])!=null&&w.date_range){const u=new Date(m.summaries[o].date_range.start+"T12:00:00"),b=new Date(m.summaries[o].date_range.end+"T12:00:00");return`${a(u)} - ${a(b)}`}const s=new Date;switch(o){case"yesterday":{const u=new Date(s);return u.setDate(u.getDate()-1),a(u)}case"current_week":{const u=new Date(s);u.setDate(s.getDate()-s.getDay());const b=new Date(u);return b.setDate(u.getDate()+6),`${a(u)} - ${a(b)}`}case"rolling_6_weeks":{const u=new Date(s);u.setDate(s.getDate()-s.getDay()+6);const b=new Date(u);return b.setDate(u.getDate()-6*7+1),`${a(b)} - ${a(u)}`}case"quarterly":{const u=new Date(s),b=new Date(s);return b.setMonth(b.getMonth()-3),`${a(b)} - ${a(u)}`}default:return""}},a=o=>new Intl.DateTimeFormat("en-US",{month:"numeric",day:"numeric",year:"numeric"}).format(o),F=D(()=>{var u,b;if(!((b=(u=m.summaries)==null?void 0:u.performance)!=null&&b.ratings))return"Not Available";const o=m.summaries.performance.ratings,s={fantastic_plus:5,fantastic:4,good:3,fair:2,poor:1},y=["average_acceptance","average_on_time","average_maintenance_variance_to_spend","open_boc","vcr_preventable","vmcr_p"];let w="fantastic_plus";for(const A of y)o[A]&&s[o[A]]<s[w]&&(w=o[A]);switch(w){case"fantastic_plus":return"Fantastic +";case"fantastic":return"Fantastic";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return"Not Available"}});return(o,s)=>(x(),P(se,{breadcrumbs:$,tenantSlug:t.tenantSlug},{default:d(()=>{var y,w,u,b,A,U,H,K,L,z,J,X;return[i(c(ae),{title:"Performance Summary Dashboard"}),e("div",_t,[e("div",yt,[s[3]||(s[3]=e("h1",{class:"text-2xl font-bold"},null,-1)),i(c(S),{variant:"outline",class:"text-sm"},{default:d(()=>[i(q,{name:"calendar",class:"mr-1 h-4 w-4"}),v(" Last updated: "+r(W.value),1)]),_:1})]),i(be,{operationalExcellenceScore:F.value},null,8,["operationalExcellenceScore"]),f.value?(x(),p("div",pt,[e("div",wt,[e("div",ht,[e("div",kt,[e("div",Dt,[i(q,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),e("div",$t,[s[5]||(s[5]=e("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),e("div",St,r(((w=(y=t.maintenanceBreakdowns)==null?void 0:y.canceled_qs_invoices)==null?void 0:w.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),e("div",Rt,[i(c(Z),{onClick:s[0]||(s[0]=O=>l.value=!0),variant:"destructive",size:"sm"},{default:d(()=>s[4]||(s[4]=[v(" View Details ")])),_:1})])])])])])):V("",!0),i(he,{onTabChange:B,dateRangeText:k.value,weekNumber:(u=t.dateRange)==null?void 0:u.weekNumber,startWeekNumber:(b=t.dateRange)==null?void 0:b.startWeekNumber,endWeekNumber:(A=t.dateRange)==null?void 0:A.endWeekNumber,year:(U=t.dateRange)==null?void 0:U.year,activeTabId:g.value},null,8,["dateRangeText","weekNumber","startWeekNumber","endWeekNumber","year","activeTabId"]),t.summaries?(x(),P(lt,{key:1,performanceData:((H=t.summaries.performance)==null?void 0:H.data)||{},performanceRatings:((K=t.summaries.performance)==null?void 0:K.ratings)||{},safetyData:t.summaries.safety||{},delayBreakdowns:((L=t.delayBreakdowns)==null?void 0:L.by_code)||[],rejectionBreakdowns:((z=t.rejectionBreakdowns)==null?void 0:z.by_reason)||[],maintenanceBreakdowns:t.maintenanceBreakdowns||{}},null,8,["performanceData","performanceRatings","safetyData","delayBreakdowns","rejectionBreakdowns","maintenanceBreakdowns"])):V("",!0),t.summaries?(x(),P(xt,{key:2,performanceData:((J=t.summaries.performance)==null?void 0:J.data)||{},performanceRatings:((X=t.summaries.performance)==null?void 0:X.ratings)||{}},null,8,["performanceData","performanceRatings"])):V("",!0)]),i(c(re),{open:l.value,"onUpdate:open":s[2]||(s[2]=O=>l.value=O)},{default:d(()=>[i(c(oe),{class:"sm:max-w-lg"},{default:d(()=>{var O,Y;return[i(c(ie),null,{default:d(()=>[i(c(le),{class:"flex items-center gap-2"},{default:d(()=>[i(q,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),s[6]||(s[6]=v(" Canceled Invoices on QS "))]),_:1}),i(c(de),null,{default:d(()=>s[7]||(s[7]=[v(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),e("div",Nt,[(Y=(O=t.maintenanceBreakdowns)==null?void 0:O.canceled_qs_invoices)!=null&&Y.length?(x(),P(c(ue),{key:0},{default:d(()=>[i(c(me),null,{default:d(()=>[i(c(ee),null,{default:d(()=>[i(c(E),null,{default:d(()=>s[8]||(s[8]=[v("RO Number")])),_:1}),i(c(E),null,{default:d(()=>s[9]||(s[9]=[v("Vendor")])),_:1}),i(c(E),{class:"text-right"},{default:d(()=>s[10]||(s[10]=[v("Amount")])),_:1}),i(c(E),null,{default:d(()=>s[11]||(s[11]=[v("Week")])),_:1})]),_:1})]),_:1}),i(c(fe),null,{default:d(()=>[(x(!0),p(G,null,Q(t.maintenanceBreakdowns.canceled_qs_invoices,N=>(x(),P(c(ee),{key:N.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:d(()=>[i(c(I),{class:"font-medium"},{default:d(()=>[e("div",jt,[i(q,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),v(" "+r(N.ro_number),1)])]),_:2},1024),i(c(I),null,{default:d(()=>[v(r(N.vendor_name),1)]),_:2},1024),i(c(I),{class:"text-right"},{default:d(()=>[v("$"+r(T(N.invoice_amount)),1)]),_:2},1024),i(c(I),null,{default:d(()=>[v("W"+r(N.week_number)+"/"+r(N.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(x(),p("div",Tt," No canceled QS invoices found. "))]),i(c(ce),null,{default:d(()=>[i(c(Z),{onClick:s[1]||(s[1]=N=>l.value=!1),variant:"outline"},{default:d(()=>s[12]||(s[12]=[v("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])]}),_:1},8,["tenantSlug"]))}});export{Ht as default};
