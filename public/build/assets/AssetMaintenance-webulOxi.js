import{x as ge,W as xe,g as St}from"./vendor-vue-DlqTWUnc.js";import{_ as $t}from"./AppLayout.vue_vue_type_script_setup_true_lang-CSF-Jcxa.js";import{d as Pe,r as $,c as B,w as dt,A as mt,N as pt,F as v,e as d,b as w,k as g,X as l,l as t,f as a,u as e,S as o,U as c,G as _e,ah as ft,D as L,Y as H,H as T,O as q,ai as Ee,aj as we,ak as Vt,al as it,P as At,n as Dt,j as Ot}from"./vendor-nqffDiqV.js";import{_ as u}from"./Icon.vue_vue_type_script_setup_true_lang-_tpEHn8d.js";import{_ as ye,a as be,b as Q,c as U,d as ke,e as V}from"./TableRow.vue_vue_type_script_setup_true_lang-CT6WD3rC.js";import{_ as b}from"./Button.vue_vue_type_script_setup_true_lang-BcWvTmkm.js";import{_ as $e}from"./Card.vue_vue_type_script_setup_true_lang-DXX1LUuu.js";import{_ as ct}from"./CardHeader.vue_vue_type_script_setup_true_lang-DzPsrEyP.js";import{_ as vt}from"./CardTitle.vue_vue_type_script_setup_true_lang-Pyy0js-2.js";import{_ as Ve}from"./CardContent.vue_vue_type_script_setup_true_lang-B-Qm-reU.js";import{_ as de,a as ie,b as ue}from"./DialogDescription.vue_vue_type_script_setup_true_lang-BubjEd6N.js";import{_ as me,a as pe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CYrdtuEj.js";import{_ as fe}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DnuQ4cl-.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-Dcjf2cgk.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-CI2uedvx.js";import{_ as Ae,a as De,b as Oe}from"./AlertDescription.vue_vue_type_script_setup_true_lang-C25dbfP3.js";import{_ as st}from"./SortIndicator-C6WKrgVx.js";import{_ as Ut}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as ut}from"./app-BPnMQBia.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-DLhl0SSS.js";import"./vendor-ui-CX4lpbuH.js";import"./useInitials-DzeGKvtI.js";import"./vendor-icons-Bz_7KChj.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DnlBU1RD.js";const Mt={class:"w-full pt-6 md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-1 space-y-6"},Nt={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},Tt={class:"flex items-center gap-3"},It={class:"flex flex-wrap gap-3"},Ft={class:"relative"},zt={key:1,class:"absolute right-0 mt-1 w-48 rounded-md border bg-background shadow-lg z-10"},Bt={class:"py-1"},qt={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},Et=["href"],Pt={class:"flex justify-between items-center"},Lt={class:"text-sm hidden sm:inline"},Wt={class:"flex flex-col gap-6"},Rt={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},jt={class:"relative"},Qt={class:"relative"},Yt={class:"overflow-x-auto"},Gt={class:"flex items-center justify-center"},Ht=["checked"],Kt={class:"flex items-center space-x-1"},Zt={key:4,class:"ml-2"},Xt={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Jt={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},es={key:5,class:"ml-2 opacity-50"},ts={class:"flex flex-col items-center justify-center text-muted-foreground"},ss=["value"],ls={class:"flex space-x-2"},as={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},ns={class:"flex items-center gap-4 text-sm text-muted-foreground"},os={class:"flex items-center gap-1"},rs={class:"flex items-center gap-1"},ds={class:"relative"},is=["value"],us={class:"flex space-x-1"},ms={class:"flex items-center gap-2"},ps={key:0,class:"col-span-2 sm:col-span-1"},fs={class:"relative"},cs=["value"],vs={class:"col-span-2 sm:col-span-1"},xs={class:"col-span-2 sm:col-span-1"},gs={class:"relative"},ws={class:"col-span-2 sm:col-span-1"},ys={class:"relative"},bs={class:"col-span-2 sm:col-span-1"},ks={class:"relative"},_s={class:"col-span-2 sm:col-span-1"},hs={class:"col-span-2 sm:col-span-1"},Cs={class:"col-span-2 sm:col-span-1"},Ss={class:"relative"},$s={class:"col-span-2 sm:col-span-1"},Vs={class:"relative"},As={class:"col-span-2 sm:col-span-1"},Ds={class:"relative"},Os={class:"col-span-2 sm:col-span-1"},Us={class:"relative"},Ms={class:"col-span-2 sm:col-span-1"},Ns={class:"col-span-2 sm:col-span-1"},Ts={class:"col-span-2 sm:col-span-1"},Is={class:"relative"},Fs={class:"col-span-2 mt-4 flex justify-end gap-3"},zs=Pe({__name:"TrucksComponent",props:{entries:{},tenantSlug:{},SuperAdmin:{type:Boolean},tenants:{},perPage:{},permissions:{}},emits:["update:perPage"],setup(O,{emit:p}){const A=O,I=$({search:"",type:"",make:""}),z=$("truckid"),F=$("asc"),E=$(1),X=$(10),C=$(10),P=$([]),R=$(!1),j=$(""),M=$(""),K=$(!1),te=$(!1),Z=$(!1),y=$(null),ce=$(!1),ee=$(!1),k=ge({id:null,truckid:null,type:"daycab",make:"international",fuel:"diesel",license:null,vin:"",tenant_id:A.SuperAdmin?"":null,status:"active",inspection_status:"good",inspection_expiry_date:new Date().toISOString().split("T")[0]}),ne=ge({csv_file:null}),oe=$(null),Ue=B(()=>A.entries.filter(x=>{var n,i;return!(I.value.search&&!String(x.truckid).includes(I.value.search)&&!(x.vin||"").toLowerCase().includes(I.value.search.toLowerCase())||I.value.type&&((n=x.type)==null?void 0:n.toLowerCase())!=I.value.type||I.value.make&&((i=x.make)==null?void 0:i.toLowerCase())!=I.value.make)})),le=B(()=>[...Ue.value].sort((x,n)=>{let i=x[z.value],N=n[z.value];return i==null?1:N==null?-1:(typeof i=="string"&&(i=i.toLowerCase(),N=N.toLowerCase()),i<N?F.value==="asc"?-1:1:i>N?F.value==="asc"?1:-1:0)})),_=B(()=>Math.ceil(le.value.length/X.value)),m=B(()=>{const x=(E.value-1)*X.value,n=x+X.value;return le.value.slice(x,n)}),h=B(()=>m.value.length>0&&m.value.every(x=>P.value.includes(x.id))),W=["truckid","type","make","fuel","license","vin","inspection_status","inspection_expiry_date","status"];dt(j,x=>x&&setTimeout(()=>j.value="",5e3)),dt(X,x=>{C.value=x});function J(x){return x.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function re(x){return x?new Date(x+"T00:00:00").toLocaleDateString():"—"}function Ce(x,n){if(n==="inspection_status")return x.inspection_status==="good"?"Good":"Expired";if(n==="inspection_expiry_date")return re(x[n]);if(n==="fuel"&&x.fuel==="cng")return"CNG";const i=x[n];return typeof i=="string"?i.charAt(0).toUpperCase()+i.slice(1):i}const he=()=>{E.value=1};function Me(){I.value={search:"",type:"",make:""},he()}function Le(x){z.value===x?F.value=F.value==="asc"?"desc":"asc":(z.value=x,F.value="asc")}const We=()=>{X.value=C.value,he()},Ne=x=>{x>=1&&x<=_.value&&(E.value=x)};function Re(x){x.target.checked?m.value.forEach(i=>{P.value.includes(i.id)||P.value.push(i.id)}):P.value=P.value.filter(i=>!m.value.some(N=>N.id===i))}function je(){k.reset(),k.clearErrors(),k.id=null,K.value=!0}function Qe(x){k.reset(),k.clearErrors(),k.id=x.id,k.truckid=x.truckid,k.type=x.type?x.type.toLowerCase():"",k.make=x.make?x.make.toLowerCase():"",k.fuel=x.fuel,k.license=x.license,k.vin=x.vin,k.status=x.status,k.tenant_id=x.tenant_id,k.inspection_status=x.inspection_status||"good",k.inspection_expiry_date=x.inspection_expiry_date||new Date().toISOString().split("T")[0],K.value=!0}function Fe(){K.value=!1}function Se(){const x={...k.data(),truckid:Number(k.truckid),license:Number(k.license)},n=k.id?"put":"post",i=k.id?A.SuperAdmin?route("truck.update.admin",[k.id]):route("truck.update",[A.tenantSlug,k.id]):route(A.SuperAdmin?"truck.store.admin":"truck.store",{tenantSlug:A.tenantSlug});ce.value=!0,k[n](i,{data:x,onSuccess:()=>{j.value=k.id?"Truck updated.":"Truck created.",Fe()},onError:()=>M.value="Save failed",onFinish:()=>ce.value=!1})}function Ye(x){y.value=x,te.value=!0}function Ge(){if(!y.value)return;const x=A.SuperAdmin?route("truck.destroy.admin",[y.value.id]):route("truck.destroy",[A.tenantSlug,y.value.id]);k.delete(x,{onSuccess:()=>{j.value="Deleted successfully",te.value=!1}})}function He(){P.value.length&&(Z.value=!0)}function Ke(){const x=route(A.SuperAdmin?"truck.destroyBulk.admin":"truck.destroyBulk",{tenantSlug:A.tenantSlug});ge({ids:P.value}).delete(x,{onSuccess:()=>{j.value=`${P.value.length} deleted`,P.value=[],Z.value=!1}})}function Ze(x){var i;const n=(i=x.target.files)==null?void 0:i[0];n&&(ne.csv_file=n,ne.post(route(A.SuperAdmin?"truck.import.admin":"truck.import",{tenantSlug:A.tenantSlug}),{forceFormData:!0,onSuccess:()=>j.value="Imported",onError:()=>M.value="Import failed"}))}function Xe(){var x,n;if(!m.value.length){M.value="No data to export";return}(x=oe.value)==null||x.setAttribute("action",route(A.SuperAdmin?"truck.export.admin":"truck.export",{tenantSlug:A.tenantSlug})),(n=oe.value)==null||n.submit()}const Je=B(()=>"/storage/upload-data-temps/Trucks Template.csv");mt(()=>{const x=n=>{R.value&&!n.target.closest(".relative")&&(R.value=!1)};document.addEventListener("click",x),pt(()=>document.removeEventListener("click",x))});const et=B(()=>{if(_.value<=7)return Array.from({length:_.value},(N,tt)=>tt+1);const x=[];x.push(1),E.value>3&&x.push("...");const n=Math.max(2,E.value-1),i=Math.min(_.value-1,E.value+1);for(let N=n;N<=i;N++)x.push(N);return E.value<_.value-2&&x.push("..."),_.value>1&&x.push(_.value),x}),se=B(()=>A.permissions.map(x=>x.name));return(x,n)=>(d(),v("div",Mt,[j.value?(d(),w(e(Oe),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(Ae),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"check_circle",class:"h-5 w-5 text-green-500"}),n[29]||(n[29]=o(" Success "))]),_:1}),t(e(De),null,{default:a(()=>[o(c(j.value),1)]),_:1})]),_:1})):g("",!0),M.value?(d(),w(e(Oe),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(Ae),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"alert_circle",class:"h-5 w-5"}),n[30]||(n[30]=o(" Error "))]),_:1}),t(e(De),null,{default:a(()=>[o(c(M.value),1)]),_:1})]),_:1})):g("",!0),l("div",Nt,[l("div",Tt,[t(u,{name:"truck",class:"h-6 w-6 text-primary hidden sm:block"}),n[31]||(n[31]=l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Truck Management",-1))]),l("div",It,[se.value.includes("trucks.create")?(d(),w(e(b),{key:0,onClick:je,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),n[32]||(n[32]=o(" Create New Truck "))]),_:1})):g("",!0),P.value.length&&se.value.includes("trucks.delete")?(d(),w(e(b),{key:1,onClick:He,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),o(" Delete Selected ("+c(P.value.length)+") ",1)]),_:1})):g("",!0),l("div",Ft,[se.value.includes("trucks.import")?(d(),w(e(b),{key:0,onClick:n[0]||(n[0]=i=>R.value=!R.value),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),n[33]||(n[33]=o(" Upload CSV ")),t(u,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1})):g("",!0),R.value?(d(),v("div",zt,[l("div",Bt,[l("label",qt,[n[34]||(n[34]=l("span",null,"Upload CSV File",-1)),l("input",{type:"file",class:"hidden",onChange:Ze,accept:".csv,.txt"},null,32)]),l("a",{href:Je.value,download:"",class:"block px-4 py-2 text-sm hover:bg-muted"},"Download Template",8,Et)])])):g("",!0)]),se.value.includes("trucks.export")?(d(),w(e(b),{key:2,onClick:_e(Xe,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),n[35]||(n[35]=o(" Download CSV "))]),_:1})):g("",!0)])]),t(e($e),{class:"shadow-sm border"},{default:a(()=>[t(e(ct),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:a(()=>[l("div",Pt,[t(e(vt),{class:"text-lg md:text-xl lg:text-2xl flex items-center gap-2"},{default:a(()=>[t(u,{name:"filter",class:"h-5 w-5 text-muted-foreground"}),n[36]||(n[36]=o(" Filters "))]),_:1}),t(e(b),{variant:"ghost",size:"sm",onClick:n[1]||(n[1]=i=>ee.value=!ee.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:a(()=>[l("span",Lt,c(ee.value?"Hide Filters":"Show Filters"),1),t(u,{name:ee.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(ft,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:a(()=>[ee.value?(d(),w(e(Ve),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:a(()=>[l("div",Wt,[l("div",Rt,[l("div",null,[t(e(S),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"search",class:"h-4 w-4 text-muted-foreground"}),n[37]||(n[37]=o(" Search "))]),_:1}),t(e(Y),{id:"search",type:"text",modelValue:I.value.search,"onUpdate:modelValue":n[2]||(n[2]=i=>I.value.search=i),placeholder:"Search by truck ID or VIN...",onInput:he,class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),l("div",null,[t(e(S),{for:"type",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[38]||(n[38]=o(" Type "))]),_:1}),l("div",jt,[L(l("select",{id:"type","onUpdate:modelValue":n[3]||(n[3]=i=>I.value.type=i),onChange:he,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[39]||(n[39]=[l("option",{value:""},"All Types",-1),l("option",{value:"daycab"},"Daycab",-1),l("option",{value:"sleepercab"},"Sleepercab",-1)]),544),[[H,I.value.type]]),n[40]||(n[40]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(S),{for:"make",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[41]||(n[41]=o(" Make "))]),_:1}),l("div",Qt,[L(l("select",{id:"make","onUpdate:modelValue":n[4]||(n[4]=i=>I.value.make=i),onChange:he,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[42]||(n[42]=[l("option",{value:""},"All Makes",-1),l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),544),[[H,I.value.make]]),n[43]||(n[43]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),t(e(b),{onClick:Me,variant:"ghost",size:"sm",class:"self-start"},{default:a(()=>[t(u,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),n[44]||(n[44]=o(" Reset Filters "))]),_:1})])]),_:1})):g("",!0)]),_:1})]),_:1}),t(e($e),{class:"mx-auto max-w-[90vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:a(()=>[t(e(Ve),{class:"p-0"},{default:a(()=>[l("div",Yt,[t(e(ye),{class:"relative h-[500px] overflow-auto"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(Q),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:a(()=>[se.value.includes("trucks.delete")?(d(),w(e(U),{key:0,class:"w-12"},{default:a(()=>[l("div",Gt,[l("input",{type:"checkbox",checked:h.value,onChange:Re,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Ht)])]),_:1})):g("",!0),x.SuperAdmin?(d(),w(e(U),{key:1,class:"font-semibold"},{default:a(()=>n[45]||(n[45]=[o("Company")])),_:1})):g("",!0),(d(),v(T,null,q(W,i=>t(e(U),{key:i,onClick:N=>Le(i),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Kt,[i==="inspection_status"?(d(),v(T,{key:0},[o("Annual Inspection Status")],64)):i==="inspection_expiry_date"?(d(),v(T,{key:1},[o("Annual Inspection Expiration Date")],64)):i==="status"?(d(),v(T,{key:2},[o("Status")],64)):(d(),v(T,{key:3},[o(c(J(i)),1)],64)),z.value===i?(d(),v("div",Zt,[F.value==="asc"?(d(),v("svg",Xt,n[46]||(n[46]=[l("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(d(),v("svg",Jt,n[47]||(n[47]=[l("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(d(),v("div",es,n[48]||(n[48]=[l("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("path",{d:"M8 10l4-4 4 4"}),l("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),se.value.includes("trucks.update")||se.value.includes("trucks.delete")?(d(),w(e(U),{key:2,class:"font-semibold"},{default:a(()=>n[49]||(n[49]=[o("Actions")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[m.value.length?g("",!0):(d(),w(e(Q),{key:0},{default:a(()=>[t(e(V),{colspan:x.SuperAdmin?W.length+3:W.length+2,class:"py-8 text-center"},{default:a(()=>[l("div",ts,[t(u,{name:"search_x",class:"h-12 w-12 mb-2 opacity-30"}),n[50]||(n[50]=l("p",null,"No trucks found matching your criteria.",-1))])]),_:1},8,["colspan"])]),_:1})),(d(!0),v(T,null,q(m.value,i=>(d(),w(e(Q),{key:i.id,class:"hover:bg-muted/50"},{default:a(()=>[se.value.includes("trucks.delete")?(d(),w(e(V),{key:0,class:"text-center"},{default:a(()=>[L(l("input",{type:"checkbox",value:i.id,"onUpdate:modelValue":n[5]||(n[5]=N=>P.value=N),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,ss),[[Ee,P.value]])]),_:2},1024)):g("",!0),x.SuperAdmin?(d(),w(e(V),{key:1},{default:a(()=>{var N;return[o(c(((N=i.tenant)==null?void 0:N.name)||"—"),1)]}),_:2},1024)):g("",!0),(d(),v(T,null,q(W,N=>t(e(V),{key:N,class:"whitespace-nowrap"},{default:a(()=>[N==="status"?(d(),v("span",{key:0,class:we({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":i[N]==="active","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":i[N]==="inactive","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":i[N]==="Returned to AMZ"})},c(Ce(i,N)),3)):N==="inspection_status"?(d(),v("span",{key:1,class:we({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":i[N]==="good","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":i[N]==="expired"})},c(i[N]==="good"?"Good":"Expired"),3)):(d(),v(T,{key:2},[o(c(Ce(i,N)),1)],64))]),_:2},1024)),64)),se.value.includes("trucks.delete")||se.value.includes("trucks.update")?(d(),w(e(V),{key:2},{default:a(()=>[l("div",ls,[se.value.includes("trucks.update")?(d(),w(e(b),{key:0,variant:"warning",size:"sm",onClick:N=>Qe(i),class:"shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"pencil",class:"mr-1 h-4 w-4"}),n[51]||(n[51]=o(" Edit "))]),_:2},1032,["onClick"])):g("",!0),se.value.includes("trucks.delete")?(d(),w(e(b),{key:1,variant:"destructive",size:"sm",onClick:N=>Ye(i),class:"shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4"}),n[52]||(n[52]=o(" Delete "))]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",as,[l("div",ns,[l("span",os,[t(u,{name:"list",class:"h-4 w-4"}),o(" Showing "+c(m.value.length)+" of "+c(le.value.length)+" entries ",1)]),l("span",rs,[t(u,{name:"layout-grid",class:"h-4 w-4"}),n[53]||(n[53]=o(" Per page: "))]),l("div",ds,[L(l("select",{"onUpdate:modelValue":n[6]||(n[6]=i=>C.value=i),onChange:We,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(d(),v(T,null,q([10,25,50,100],i=>l("option",{key:i,value:i},c(i),9,is)),64))],544),[[H,C.value,void 0,{number:!0}]]),n[54]||(n[54]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",us,[t(e(b),{size:"sm",variant:"ghost",onClick:n[7]||(n[7]=i=>Ne(E.value-1)),disabled:E.value===1,class:"flex items-center gap-1"},{default:a(()=>[t(u,{name:"chevron-left",class:"h-4 w-4"}),n[55]||(n[55]=o(" Prev "))]),_:1},8,["disabled"]),(d(!0),v(T,null,q(et.value,i=>(d(),w(e(b),{key:i,size:"sm",variant:"ghost",onClick:N=>Ne(i),class:we({"border-primary bg-primary/10 text-primary font-medium":i===E.value})},{default:a(()=>[o(c(i),1)]),_:2},1032,["onClick","class"]))),128)),t(e(b),{size:"sm",variant:"ghost",onClick:n[8]||(n[8]=i=>Ne(E.value+1)),disabled:E.value===_.value,class:"flex items-center gap-1"},{default:a(()=>[n[56]||(n[56]=o(" Next ")),t(u,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})]),_:1}),t(e(ue),{open:K.value,"onUpdate:open":n[24]||(n[24]=i=>K.value=i)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:a(()=>[t(e(me),{class:"px-4 sm:px-6 border-b pb-4"},{default:a(()=>[l("div",ms,[t(u,{name:e(k).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(pe),{class:"text-lg sm:text-xl"},{default:a(()=>[o(c(e(k).id?"Edit Truck":"Create Truck"),1)]),_:1})]),t(e(ie),{class:"text-xs sm:text-sm mt-1"},{default:a(()=>[o("Fill in the details to "+c(e(k).id?"update":"create")+" a truck.",1)]),_:1})]),_:1}),l("form",{onSubmit:_e(Se,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-4 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-5 sm:p-6"},[n[90]||(n[90]=l("div",{class:"col-span-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Basic Information")],-1)),x.SuperAdmin?(d(),v("div",ps,[t(e(S),{for:"tenant",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),n[57]||(n[57]=o(" Company Name "))]),_:1}),l("div",fs,[L(l("select",{id:"tenant","onUpdate:modelValue":n[9]||(n[9]=i=>e(k).tenant_id=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[n[58]||(n[58]=l("option",{value:""},"Select Company",-1)),(d(!0),v(T,null,q(x.tenants,i=>(d(),v("option",{key:i.id,value:i.id},c(i.name),9,cs))),128))],512),[[H,e(k).tenant_id]]),n[59]||(n[59]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):g("",!0),l("div",vs,[t(e(S),{for:"truckid",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),n[60]||(n[60]=o(" Truck ID "))]),_:1}),t(e(Y),{id:"truckid",modelValue:e(k).truckid,"onUpdate:modelValue":n[10]||(n[10]=i=>e(k).truckid=i),modelModifiers:{number:!0},type:"number",required:"",placeholder:"Enter truck ID number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",xs,[t(e(S),{for:"type",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[61]||(n[61]=o(" Type "))]),_:1}),l("div",gs,[L(l("select",{id:"type","onUpdate:modelValue":n[11]||(n[11]=i=>e(k).type=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[62]||(n[62]=[l("option",{value:"daycab"},"Daycab",-1),l("option",{value:"sleepercab"},"Sleepercab",-1)]),512),[[H,e(k).type]]),n[63]||(n[63]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ws,[t(e(S),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[64]||(n[64]=o(" Make "))]),_:1}),l("div",ys,[L(l("select",{id:"make","onUpdate:modelValue":n[12]||(n[12]=i=>e(k).make=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[65]||(n[65]=[l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),512),[[H,e(k).make]]),n[66]||(n[66]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[91]||(n[91]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Additional Information")],-1)),l("div",bs,[t(e(S),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[67]||(n[67]=o(" Fuel "))]),_:1}),l("div",ks,[L(l("select",{id:"fuel","onUpdate:modelValue":n[13]||(n[13]=i=>e(k).fuel=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[68]||(n[68]=[l("option",{value:"diesel"},"Diesel",-1),l("option",{value:"cng"},"CNG",-1)]),512),[[H,e(k).fuel]]),n[69]||(n[69]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",_s,[t(e(S),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[70]||(n[70]=o(" License "))]),_:1}),t(e(Y),{id:"license",modelValue:e(k).license,"onUpdate:modelValue":n[14]||(n[14]=i=>e(k).license=i),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",hs,[t(e(S),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[71]||(n[71]=o(" VIN "))]),_:1}),t(e(Y),{id:"vin",modelValue:e(k).vin,"onUpdate:modelValue":n[15]||(n[15]=i=>e(k).vin=i),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[92]||(n[92]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),l("div",Cs,[t(e(S),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[72]||(n[72]=o(" Annual Inspection Status "))]),_:1}),l("div",Ss,[L(l("select",{id:"inspection_status","onUpdate:modelValue":n[16]||(n[16]=i=>e(k).inspection_status=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[73]||(n[73]=[l("option",{value:"good"},"Good",-1),l("option",{value:"expired"},"Expired",-1)]),512),[[H,e(k).inspection_status]]),n[74]||(n[74]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",$s,[t(e(S),{for:"status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),n[75]||(n[75]=o(" Status "))]),_:1}),l("div",Vs,[L(l("select",{id:"status","onUpdate:modelValue":n[17]||(n[17]=i=>e(k).status=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[76]||(n[76]=[l("option",{value:"active"},"Active",-1),l("option",{value:"inactive"},"Inactive",-1),l("option",{value:"Returned to AMZ"},"Returned to AMZ",-1)]),512),[[H,e(k).status]]),n[77]||(n[77]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",As,[t(e(S),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[78]||(n[78]=o(" Make "))]),_:1}),l("div",Ds,[L(l("select",{id:"make","onUpdate:modelValue":n[18]||(n[18]=i=>e(k).make=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[79]||(n[79]=[l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),512),[[H,e(k).make]]),n[80]||(n[80]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[93]||(n[93]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Additional Information")],-1)),l("div",Os,[t(e(S),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[81]||(n[81]=o(" Fuel "))]),_:1}),l("div",Us,[L(l("select",{id:"fuel","onUpdate:modelValue":n[19]||(n[19]=i=>e(k).fuel=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[82]||(n[82]=[l("option",{value:"diesel"},"Diesel",-1),l("option",{value:"cng"},"CNG",-1)]),512),[[H,e(k).fuel]]),n[83]||(n[83]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Ms,[t(e(S),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[84]||(n[84]=o(" License "))]),_:1}),t(e(Y),{id:"license",modelValue:e(k).license,"onUpdate:modelValue":n[20]||(n[20]=i=>e(k).license=i),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",Ns,[t(e(S),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[85]||(n[85]=o(" VIN "))]),_:1}),t(e(Y),{id:"vin",modelValue:e(k).vin,"onUpdate:modelValue":n[21]||(n[21]=i=>e(k).vin=i),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[94]||(n[94]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),l("div",Ts,[t(e(S),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[86]||(n[86]=o(" Annual Inspection Status "))]),_:1}),l("div",Is,[L(l("select",{id:"inspection_status","onUpdate:modelValue":n[22]||(n[22]=i=>e(k).inspection_status=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[87]||(n[87]=[l("option",{value:"good"},"Good",-1),l("option",{value:"expired"},"Expired",-1)]),512),[[H,e(k).inspection_status]]),n[88]||(n[88]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Fs,[t(e(b),{type:"button",variant:"outline",onClick:n[23]||(n[23]=i=>K.value=!1),class:"transition-all hover:shadow-sm"},{default:a(()=>[t(u,{name:"x",class:"mr-2 h-4 w-4"}),n[89]||(n[89]=o(" Cancel "))]),_:1}),t(e(b),{type:"submit",variant:"default",class:"transition-all hover:shadow-sm"},{default:a(()=>[t(u,{name:e(k).id?"pencil":"plus",class:"mr-2 h-4 w-4"},null,8,["name"]),o(" "+c(e(k).id?"Update":"Create"),1)]),_:1})])],32)]),_:1})]),_:1},8,["open"]),t(e(ue),{open:te.value,"onUpdate:open":n[26]||(n[26]=i=>te.value=i)},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(me),null,{default:a(()=>[t(e(pe),null,{default:a(()=>n[95]||(n[95]=[o("Confirm Deletion")])),_:1}),t(e(ie),null,{default:a(()=>n[96]||(n[96]=[o("Are you sure you want to delete this truck? This action cannot be undone.")])),_:1})]),_:1}),t(e(fe),{class:"mt-4"},{default:a(()=>[t(e(b),{variant:"outline",onClick:n[25]||(n[25]=i=>te.value=!1)},{default:a(()=>n[97]||(n[97]=[o("Cancel")])),_:1}),t(e(b),{variant:"destructive",onClick:Ge},{default:a(()=>n[98]||(n[98]=[o("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:Z.value,"onUpdate:open":n[28]||(n[28]=i=>Z.value=i)},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(me),null,{default:a(()=>[t(e(pe),null,{default:a(()=>n[99]||(n[99]=[o("Confirm Bulk Deletion")])),_:1}),t(e(ie),null,{default:a(()=>[o("Are you sure you want to delete "+c(P.value.length)+" trucks? This action cannot be undone.",1)]),_:1})]),_:1}),t(e(fe),{class:"mt-4"},{default:a(()=>[t(e(b),{variant:"outline",onClick:n[27]||(n[27]=i=>Z.value=!1)},{default:a(()=>n[100]||(n[100]=[o("Cancel")])),_:1}),t(e(b),{variant:"destructive",onClick:Ke},{default:a(()=>n[101]||(n[101]=[o("Delete Selected")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l("form",{ref_key:"exportForm",ref:oe,method:"GET",class:"hidden"},null,512)]))}}),Bs={class:"w-full pt-6 md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-1 space-y-6"},qs={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},Es={class:"flex items-center gap-3"},Ps={class:"flex flex-wrap gap-3"},Ls={class:"relative"},Ws={key:1,class:"absolute right-0 mt-1 w-48 rounded-md border bg-background shadow-md z-10 animate-in fade-in duration-200"},Rs={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted transition-colors"},js={key:2,class:"mb-6"},Qs={class:"rounded-md border-l-4 border-red-500 bg-red-50 p-4 shadow-sm dark:border-red-400 dark:bg-red-900/30"},Ys={class:"flex items-center"},Gs={class:"flex-shrink-0"},Hs={class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-800"},Ks={class:"ml-3"},Zs={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Xs={class:"mt-2"},Js={class:"flex flex-wrap gap-2"},el={key:0,class:"text-sm text-muted-foreground mt-2"},tl={key:0},sl={key:1},ll={key:2},al={key:3,class:"ml-1"},nl={key:3,class:"mx-auto mb-6 grid max-w-[95vw] grid-cols-1 gap-4 md:max-w-[64vw] md:grid-cols-2 lg:max-w-full"},ol={class:"rounded-lg border bg-card shadow-sm"},rl={class:"p-4"},dl={class:"space-y-3"},il={class:"text-sm"},ul={key:0,class:"text-center text-muted-foreground"},ml={class:"rounded-lg border bg-card shadow-sm"},pl={class:"p-4"},fl={class:"space-y-3"},cl={class:"text-sm"},vl={key:0,class:"text-center text-muted-foreground"},xl={key:4,class:"mx-auto mb-6 max-w-[90vw] overflow-x-auto rounded-lg border bg-card p-4 shadow-sm md:max-w-[64vw] lg:max-w-full"},gl={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},wl={key:5,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card shadow-sm md:max-w-[64vw] lg:max-w-full"},yl={class:"flex items-center justify-between border-b p-4"},bl={class:"flex items-start justify-between"},kl={class:"flex flex-col items-center space-y-1"},_l={key:0,class:"mb-6 rounded-lg border bg-card shadow-sm"},hl={class:"overflow-x-auto"},Cl={class:"max-h-60 overflow-y-auto sm:max-h-80 md:max-h-96"},Sl={key:6,class:"mb-6 rounded-lg border bg-card shadow-sm"},$l={class:"flex justify-between items-center"},Vl={class:"flex items-center gap-2"},Al={key:0,class:"ml-4 flex flex-wrap gap-2"},Dl={class:"text-sm hidden sm:inline"},Ol={class:"flex flex-col gap-6"},Ul={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},Ml={class:"relative"},Nl=["value"],Tl={class:"relative"},Il=["value"],Fl={class:"flex justify-end space-x-2"},zl={class:"overflow-x-auto"},Bl={class:"flex items-center justify-center"},ql=["checked"],El={class:"flex items-center space-x-1"},Pl={class:"flex items-center space-x-1"},Ll={class:"flex items-center space-x-1"},Wl={class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},Rl=["value"],jl={key:0},Ql={key:0},Yl={key:1},Gl={class:"flex space-x-2"},Hl={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},Kl={class:"flex items-center gap-4 text-sm text-muted-foreground"},Zl={class:"flex items-center gap-1"},Xl={class:"flex items-center gap-1"},Jl={class:"relative"},ea=["value"],ta={class:"flex space-x-1"},sa=["innerHTML"],la={key:8,class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},aa={class:"flex items-center gap-2"},na={class:"max-h-[70vh] overflow-y-auto px-4 sm:px-6"},oa={key:0,class:"col-span-2 mb-1"},ra={class:"relative"},da=["value"],ia={class:"col-span-2 border-b pb-1 mb-2 flex items-center gap-2"},ua={class:"grid grid-cols-2 gap-3 col-span-2"},ma={class:"relative"},pa=["value"],fa={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},ca={class:"col-span-2"},va={class:"flex flex-wrap gap-1 mb-2 bg-muted/30 p-2 rounded-md min-h-[40px]"},xa=["onClick"],ga={key:0,class:"text-muted-foreground text-sm italic"},wa={class:"relative"},ya=["value"],ba={class:"col-span-2"},ka={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},_a={class:"grid grid-cols-2 gap-3 col-span-2"},ha={class:"relative"},Ca=["value"],Sa={class:"relative"},$a=["value"],Va={class:"relative"},Aa={class:"grid grid-cols-2 gap-3 col-span-2"},Da={class:"relative"},Oa={class:"flex items-center space-x-2"},Ua={key:1,class:"col-span-2"},Ma={class:"border-b pb-1 mb-2 mt-1 flex items-center gap-2"},Na={class:"flex items-center space-x-2"},Ta={key:0,class:"mt-2"},Ia={class:"space-y-4 sm:space-y-6"},Fa={class:"space-y-1 sm:space-y-2"},za={class:"rounded-md border"},Ba={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},qa={key:0,class:"ml-1 text-xs text-red-500"},Ea={class:"flex space-x-1 sm:space-x-2"},Pa={class:"space-y-4 sm:space-y-6"},La={class:"space-y-1 sm:space-y-2"},Wa={class:"overflow-hidden rounded-md border"},Ra={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},ja={key:0,class:"ml-1 text-xs text-red-500"},Qa={class:"flex space-x-1 sm:space-x-2"},Ya={class:"space-y-4 sm:space-y-6"},Ga={class:"space-y-1 sm:space-y-2"},Ha={class:"overflow-hidden rounded-md border"},Ka={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Za={key:0,class:"ml-1 text-xs text-red-500"},Xa={class:"flex space-x-1 sm:space-x-2"},Ja={class:"max-h-[60vh] overflow-x-auto overflow-y-auto"},en={class:"flex items-center gap-2"},tn={key:1,class:"py-8 text-center text-muted-foreground"},sn="/storage/upload-data-temps/Repair Orders Template.csv",ln=Pe({__name:"RepairOrdersComponent",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({search:"",vendor_id:"",status_id:""})},perPage:{type:Number,default:10},openedComponent:{type:String,default:"trucks"},permissions:{type:Array,default:()=>[]}},setup(O){const p=O,A=$({...p.filters,dateFilter:p.dateFilter}),I=$(p.perPage),z=$([]),F=$(!1),E=$(""),X=$(""),C=$(!1),P=$(!1),R=$(!1),j=$(!1),M=$(!1),K=$(!1),te=$(!1),Z=$("Create"),y=ge({id:null,tenant_id:p.SuperAdmin?"":null,ro_number:"",ro_open_date:"",ro_close_date:"",truck_id:null,vendor_id:null,wo_number:"",wo_status_id:null,invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),ce=ge({concern:""}),ee=ge({vendor_name:""}),k=ge({name:""}),ne=B(()=>p.SuperAdmin),oe=B(()=>p.repairOrders.data.length>0),Ue=B(()=>oe.value&&p.repairOrders.data.every(f=>z.value.includes(f.id))),le=[{label:"Yesterday",value:"yesterday"},{label:"WTD",value:"current-week"},{label:"T6W",value:"6w"},{label:"Quarterly",value:"quarterly"}],_=f=>{if(!f)return"";const s=f.split("-");if(s.length!==3)return f;const[G,ve,r]=s;return`${Number(ve)}/${Number(r)}/${G}`};function m(f){return f?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f):"$0.00"}function h(f){A.value.dateFilter=f,W()}function W(){const f=p.SuperAdmin?"repair_orders.index.admin":"repair_orders.index",s={...p.SuperAdmin?{}:{tenantSlug:p.tenantSlug},...A.value,perPage:I.value,dateFilter:A.value.dateFilter,openedComponent:"repairOrders"};xe.visit(route(f,s),{only:["repairOrders","filters","perPage","dateFilter","weekNumber","startWeekNumber","endWeekNumber","year","workOrdersByTruck","workOrderByAreasOfConcern","openedComponent","dateRange"]})}function J(){A.value={...A.value,search:"",vendor_id:"",status_id:""},W()}const re=$({column:"ro_number",direction:"asc"});function Ce(f){re.value.column===f?re.value.direction=re.value.direction==="asc"?"desc":"asc":re.value={column:f,direction:"asc"},W()}function he(){W()}function Me(f){if(f){const s=new URL(f),G=s.origin+s.pathname;xe.get(G,{...A.value,perPage:I.value,dateFilter:A.value.dateFilter,openedComponent:"repairOrders",page:s.searchParams.get("page")||1},{preserveScroll:!0})}}function Le(f){const s=f.target.checked;z.value=s?p.repairOrders.data.map(G=>G.id):[]}function We(f){const s=f.target.files[0];if(!s)return;const G=new FormData;G.append("file",s);const ve=p.tenantSlug?route("repair_orders.import",{tenantSlug:p.tenantSlug}):route("repair_orders.import.admin");xe.post(ve,G,{onSuccess:()=>{E.value="Imported",f.target.value=null}})}function Ne(){if(!oe.value){X.value="No data";return}window.location.href=p.tenantSlug?route("repair_orders.export",{tenantSlug:p.tenantSlug}):route("repair_orders.export.admin")}function Re(){y.reset(),Z.value="Create",P.value=!0}function je(f){y.reset(),y.reset(),y.id=f.id,y.tenant_id=f.tenant_id,y.ro_number=f.ro_number,y.ro_open_date=f.ro_open_date,y.ro_close_date=f.ro_close_date||"",y.truck_id=f.truck_id,y.vendor_id=f.vendor_id,y.wo_number=f.wo_number,y.wo_status_id=f.wo_status_id,y.invoice=f.invoice||"",y.invoice_amount=f.invoice_amount||"",y.invoice_received=!!f.invoice_received,y.on_qs=f.on_qs||"no",y.qs_invoice_date=f.qs_invoice_date||"",y.disputed=!!f.disputed,y.dispute_outcome=f.dispute_outcome||"",y.repairs_made=f.repairs_made||"",y.area_of_concerns=[],f.areas_of_concern&&Array.isArray(f.areas_of_concern)&&(y.area_of_concerns=f.areas_of_concern.map(s=>s.id)),Z.value="Update",P.value=!0}function Qe(){y.reset(),P.value=!1}function Fe(){const f=Z.value==="Update"?p.tenantSlug?route("repair_orders.update",[p.tenantSlug,y.id]):route("repair_orders.update.admin",y.id):p.tenantSlug?route("repair_orders.store",{tenantSlug:p.tenantSlug}):route("repair_orders.store.admin");y[Z.value==="Update"?"put":"post"](f,{onSuccess:()=>{E.value=`${Z.value}d!`,P.value=!1}})}let Se=null;function Ye(f){Se=f,R.value=!0}function Ge(){if(Se===null)return;const f=p.tenantSlug?route("repair_orders.destroy",[p.tenantSlug,Se]):route("repair_orders.destroy.admin",Se);xe.delete(f,{onSuccess:()=>{E.value="Deleted",R.value=!1}})}function He(){j.value=!0}function Ke(){const f=p.tenantSlug?route("repair_orders.destroyBulk",{tenantSlug:p.tenantSlug}):route("repair_orders.destroyBulk.admin");ge({ids:z.value}).delete(f,{onSuccess:()=>{E.value=`${z.value.length} deleted`,z.value=[],j.value=!1}})}function Ze(){ce.reset(),M.value=!0}function Xe(){ce.post(route("area_of_concerns.store.admin"),{onSuccess:()=>ce.reset()})}function Je(f){xe.delete(route("area_of_concerns.destroy.admin",f))}function et(f){xe.post(route("area_of_concerns.restore.admin",f))}function se(){ee.reset(),K.value=!0}function x(){ee.post(route("vendors.store.admin"),{onSuccess:()=>ee.reset()})}function n(f){xe.delete(route("vendors.destroy.admin",f))}function i(f){xe.post(route("vendors.restore.admin",f))}function N(){k.reset(),te.value=!0}function tt(){k.post(route("wo_statuses.store.admin"),{onSuccess:()=>k.reset()})}function xt(f){xe.delete(route("wo_statuses.destroy.admin",f))}function gt(f){xe.post(route("wo_statuses.restore.admin",f))}const wt=B(()=>p.canceledQSInvoices.length>0),ze=$(!1),yt=B(()=>Object.fromEntries(p.areasOfConcern.map(f=>[f.id,f.concern]))),bt=B(()=>p.areasOfConcern.filter(f=>!y.area_of_concerns.includes(f.id)));function kt(f){const s=Number(f.target.value);s&&!y.area_of_concerns.includes(s)&&y.area_of_concerns.push(s),f.target.value=""}function _t(f){y.area_of_concerns=y.area_of_concerns.filter(s=>s!==f)}const lt=B(()=>(p.dateFilter==="yesterday"||p.dateFilter==="current-week")&&p.weekNumber&&p.year?`Week ${p.weekNumber}, ${p.year}`:(p.dateFilter==="6w"||p.dateFilter==="quarterly")&&p.startWeekNumber&&p.endWeekNumber&&p.year?`Weeks ${p.startWeekNumber}-${p.endWeekNumber}, ${p.year}`:"");mt(()=>{const f=s=>{C.value&&!s.target.closest(".relative")&&(C.value=!1)};document.addEventListener("click",f),pt(()=>document.removeEventListener("click",f))}),setTimeout(()=>E.value="",5e3);const at=B(()=>(p.workOrderByAreasOfConcern||[]).slice(0,5));B(()=>p.outstandingInvoices.reduce((f,s)=>{const G=Number(s.invoice_amount)||0;return f+G},0));const nt=B(()=>(p.workOrdersByTruck||[]).slice(0,5)),Be=$(null),qe=$(null),Te=$(!1),Ie=B(()=>p.outstandingInvoices.filter(f=>{const s=Be.value!=null?Number(f.invoice_amount)>=Be.value:!0,G=qe.value?new Date(f.qs_invoice_date)>new Date(qe.value):!0;return s&&G})),ht=B(()=>Ie.value.reduce((f,s)=>f+Number(s.invoice_amount||0),0)),ae=B(()=>p.permissions.map(f=>f.name)),ot=B(()=>{const f=[];A.value.search&&f.push(`Search: "${A.value.search}"`);const s=p.vendors.find(ve=>ve.id==A.value.vendor_id);s&&f.push(`Vendor: ${s.vendor_name}`);const G=p.woStatuses.find(ve=>ve.id==A.value.status_id);return G&&f.push(`Status: ${G.name}`),f});return(f,s)=>{var ve;const G=Vt("Badge");return d(),v("div",Bs,[E.value?(d(),w(e(Oe),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(Ae),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"check_circle",class:"h-5 w-5 text-green-500"}),s[49]||(s[49]=o(" Success "))]),_:1}),t(e(De),null,{default:a(()=>[o(c(E.value),1)]),_:1})]),_:1})):g("",!0),X.value?(d(),w(e(Oe),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(Ae),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"alert_circle",class:"h-5 w-5"}),s[50]||(s[50]=o(" Error "))]),_:1}),t(e(De),null,{default:a(()=>[o(c(X.value),1)]),_:1})]),_:1})):g("",!0),l("div",qs,[l("div",Es,[t(u,{name:"clipboard-list",class:"h-6 w-6 text-primary hidden sm:block"}),s[51]||(s[51]=l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Repair Orders",-1))]),l("div",Ps,[ae.value.includes("repair-orders.create")?(d(),w(e(b),{key:0,onClick:Re,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),s[52]||(s[52]=o(" Create New "))]),_:1})):g("",!0),z.value.length&&ae.value.includes("repair-orders.delete")?(d(),w(e(b),{key:1,onClick:He,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),o(" Delete Selected ("+c(z.value.length)+") ",1)]),_:1})):g("",!0),ne.value?(d(),w(e(b),{key:2,onClick:Ze,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[53]||(s[53]=o(" Areas "))]),_:1})):g("",!0),ne.value?(d(),w(e(b),{key:3,onClick:se,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[54]||(s[54]=o(" Vendors "))]),_:1})):g("",!0),ne.value?(d(),w(e(b),{key:4,onClick:N,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[55]||(s[55]=o(" Statuses "))]),_:1})):g("",!0),l("div",Ls,[ae.value.includes("repair-orders.import")?(d(),w(e(b),{key:0,onClick:s[0]||(s[0]=r=>C.value=!C.value),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),s[56]||(s[56]=o(" Upload CSV ")),t(u,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1})):g("",!0),C.value?(d(),v("div",Ws,[l("label",Rs,[s[57]||(s[57]=l("span",null,"Upload CSV",-1)),l("input",{type:"file",class:"hidden",onChange:We,accept:".csv"},null,32)]),l("a",{href:sn,download:"",class:"block px-4 py-2 text-sm hover:bg-muted transition-colors"},"Download Template")])):g("",!0)]),ae.value.includes("repair-orders.export")?(d(),w(e(b),{key:5,onClick:_e(Ne,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),s[58]||(s[58]=o(" Download CSV "))]),_:1})):g("",!0)])]),wt.value&&!O.SuperAdmin&&ae.value.includes("repair-orders.update")?(d(),v("div",js,[l("div",Qs,[l("div",Ys,[l("div",Gs,[l("div",Hs,[t(u,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),l("div",Ks,[s[60]||(s[60]=l("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),l("div",Zs,c(((ve=p.canceledQSInvoices)==null?void 0:ve.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),l("div",Xs,[t(e(b),{onClick:s[1]||(s[1]=r=>ze.value=!0),variant:"destructive",size:"sm"},{default:a(()=>s[59]||(s[59]=[o(" View Details ")])),_:1})])])])])])):g("",!0),t(e($e),{class:"shadow-sm border bg-card"},{default:a(()=>[t(e(Ve),{class:"p-3 md:p-4"},{default:a(()=>[l("div",Js,[(d(),v(T,null,q(le,r=>t(e(b),{key:r.value,size:"sm",variant:"outline",class:we({"border-primary bg-primary/10 text-primary":A.value.dateFilter===r.value}),onClick:D=>h(r.value)},{default:a(()=>[o(c(r.label),1)]),_:2},1032,["class","onClick"])),64))]),O.dateRange?(d(),v("div",el,[O.dateFilter==="yesterday"&&O.dateRange.start?(d(),v("span",tl," Showing data from "+c(_(O.dateRange.start)),1)):O.dateRange.start&&O.dateRange.end?(d(),v("span",sl," Showing data from "+c(_(O.dateRange.start))+" to "+c(_(O.dateRange.end)),1)):(d(),v("span",ll,c(O.dateRange.label),1)),lt.value?(d(),v("span",al,"("+c(lt.value)+")",1)):g("",!0)])):g("",!0)]),_:1})]),_:1}),(O.dateFilter==="quarterly"||O.dateFilter==="6w")&&!O.SuperAdmin?(d(),v("div",nl,[l("div",ol,[s[62]||(s[62]=l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Top 5 Frequent Repairs")],-1)),l("div",rl,[l("ul",dl,[s[61]||(s[61]=l("div",{class:"flex items-center justify-between"},[l("span",{class:"text-sm"},"Parts:"),l("span",{class:"text-sm"},"Work Orders:")],-1)),(d(!0),v(T,null,q(at.value,(r,D)=>(d(),v("li",{key:D,class:"flex items-center justify-between pr-4"},[l("span",il,c(r.concern),1),t(G,{variant:"outline"},{default:a(()=>[o(c(r.count),1)]),_:2},1024)]))),128)),at.value.length===0?(d(),v("li",ul,"No data available")):g("",!0)])])]),l("div",ml,[s[64]||(s[64]=l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Top 5 Frequently Repaired Tractors")],-1)),l("div",pl,[l("ul",fl,[s[63]||(s[63]=l("div",{class:"flex items-center justify-between"},[l("span",{class:"text-sm"},"Asset ID:"),l("span",{class:"text-sm"},"Work Orders:")],-1)),(d(!0),v(T,null,q(nt.value,(r,D)=>(d(),v("li",{key:D,class:"flex items-center justify-between pr-4"},[l("span",cl,c(r.truckid),1),t(G,{variant:"outline"},{default:a(()=>[o(c(r.work_order_count),1)]),_:2},1024)]))),128)),nt.value.length===0?(d(),v("li",vl,"No data available")):g("",!0)])])])])):g("",!0),O.SuperAdmin?g("",!0):(d(),v("div",xl,[s[67]||(s[67]=l("h3",{class:"mb-4 text-lg font-semibold"},"Outstanding Invoices Filter",-1)),l("div",gl,[l("div",null,[t(e(S),{for:"min-invoice-amount"},{default:a(()=>s[65]||(s[65]=[o("Minimum Invoice Amount ($)")])),_:1}),t(e(Y),{id:"min-invoice-amount",modelValue:Be.value,"onUpdate:modelValue":s[2]||(s[2]=r=>Be.value=r),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"Enter minimum amount",class:"mt-1"},null,8,["modelValue"])]),l("div",null,[t(e(S),{for:"outstanding-since"},{default:a(()=>s[66]||(s[66]=[o("Outstanding Since")])),_:1}),t(e(Y),{id:"outstanding-since",modelValue:qe.value,"onUpdate:modelValue":s[3]||(s[3]=r=>qe.value=r),type:"date",class:"mt-1"},null,8,["modelValue"])])])])),!O.SuperAdmin&&Ie.value.length>0?(d(),v("div",wl,[l("div",yl,[s[68]||(s[68]=l("h3",{class:"text-lg font-semibold"},"Outstanding Invoices",-1)),l("div",bl,[l("div",kl,[t(G,{variant:"outline",class:"text-sm"},{default:a(()=>[o(c(Ie.value.length)+" invoices ",1)]),_:1}),t(G,{variant:"outline",class:"text-sm"},{default:a(()=>[o(" total: $"+c(ht.value.toFixed(2)),1)]),_:1})]),t(e(b),{variant:"ghost",size:"sm",onClick:s[4]||(s[4]=r=>Te.value=!Te.value),class:"ml-4 mt-1"},{default:a(()=>[o(c(Te.value?"Hide Invoices":"Show Invoices")+" ",1),t(u,{name:Te.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),Te.value?(d(),v("div",_l,[l("div",hl,[l("div",Cl,[t(e(ye),{class:"min-w-full"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(Q),null,{default:a(()=>[t(e(U),null,{default:a(()=>s[69]||(s[69]=[o("RO Number")])),_:1}),t(e(U),null,{default:a(()=>s[70]||(s[70]=[o("Vendor")])),_:1}),t(e(U),null,{default:a(()=>s[71]||(s[71]=[o("Week")])),_:1}),t(e(U),{class:"text-right"},{default:a(()=>s[72]||(s[72]=[o("Amount")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[(d(!0),v(T,null,q(Ie.value,r=>(d(),w(e(Q),{key:r.ro_number},{default:a(()=>[t(e(V),null,{default:a(()=>[o(c(r.ro_number),1)]),_:2},1024),t(e(V),null,{default:a(()=>[o(c(r.vendor_name),1)]),_:2},1024),t(e(V),null,{default:a(()=>[o("W"+c(r.week_number)+"/"+c(r.year),1)]),_:2},1024),t(e(V),{class:"text-right"},{default:a(()=>[o(c(m(r.invoice_amount)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):g("",!0)])):g("",!0),!O.SuperAdmin&&Ie.value.length===0?(d(),v("div",Sl,s[73]||(s[73]=[l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Outstanding Invoices")],-1),l("div",{class:"p-4 text-center text-muted-foreground"},"No outstanding invoices match the current criteria",-1)]))):g("",!0),t(e($e),{class:"shadow-sm border"},{default:a(()=>[t(e(ct),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:a(()=>[l("div",$l,[l("div",Vl,[t(e(vt),{class:"text-lg md:text-xl lg:text-2xl"},{default:a(()=>s[74]||(s[74]=[o("Filters")])),_:1}),!F.value&&ot.value.length?(d(),v("div",Al,[(d(!0),v(T,null,q(ot.value,(r,D)=>(d(),v("div",{key:D,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},c(r),1))),128))])):g("",!0)]),t(e(b),{variant:"ghost",size:"sm",onClick:s[5]||(s[5]=r=>F.value=!F.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:a(()=>[l("span",Dl,c(F.value?"Hide Filters":"Show Filters"),1),t(u,{name:F.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(ft,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:a(()=>[F.value?(d(),w(e(Ve),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:a(()=>[l("div",Ol,[l("div",Ul,[l("div",null,[t(e(S),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"search",class:"h-4 w-4 text-muted-foreground"}),s[75]||(s[75]=o(" Search "))]),_:1}),t(e(Y),{id:"search",type:"text",modelValue:A.value.search,"onUpdate:modelValue":s[6]||(s[6]=r=>A.value.search=r),placeholder:"RO#, Invoice...",class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),l("div",null,[t(e(S),{for:"vendor",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),s[76]||(s[76]=o(" Vendor "))]),_:1}),l("div",Ml,[L(l("select",{id:"vendor","onUpdate:modelValue":s[7]||(s[7]=r=>A.value.vendor_id=r),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s[77]||(s[77]=l("option",{value:""},"All Vendors",-1)),(d(!0),v(T,null,q(O.vendors,r=>(d(),v("option",{key:r.id,value:r.id},c(r.vendor_name),9,Nl))),128))],512),[[H,A.value.vendor_id]]),s[78]||(s[78]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(S),{for:"status",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),s[79]||(s[79]=o(" Status "))]),_:1}),l("div",Tl,[L(l("select",{id:"status","onUpdate:modelValue":s[8]||(s[8]=r=>A.value.status_id=r),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s[80]||(s[80]=l("option",{value:""},"All Statuses",-1)),(d(!0),v(T,null,q(O.woStatuses,r=>(d(),v("option",{key:r.id,value:r.id},c(r.name),9,Il))),128))],512),[[H,A.value.status_id]]),s[81]||(s[81]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),l("div",Fl,[t(e(b),{onClick:J,variant:"ghost",size:"sm"},{default:a(()=>[t(u,{name:"rotate-ccw",class:"mr-2 h-4 w-4"}),s[82]||(s[82]=o(" Reset Filters "))]),_:1}),t(e(b),{onClick:W,variant:"default",size:"sm"},{default:a(()=>[t(u,{name:"filter",class:"mr-2 h-4 w-4"}),s[83]||(s[83]=o(" Apply Filters "))]),_:1})])])]),_:1})):g("",!0)]),_:1})]),_:1}),oe.value?(d(),w(e($e),{key:7,class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:a(()=>[t(e(Ve),{class:"p-0"},{default:a(()=>[l("div",zl,[t(e(ye),{class:"relative h-[500px] overflow-auto"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(Q),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:a(()=>[ae.value.includes("repair-orders.delete")?(d(),w(e(U),{key:0,class:"w-12"},{default:a(()=>[l("div",Bl,[l("input",{type:"checkbox",checked:Ue.value,onChange:Le,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,ql)])]),_:1})):g("",!0),t(e(U),{onClick:s[9]||(s[9]=r=>Ce("ro_number")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",El,[s[84]||(s[84]=o(" RO# ")),t(st,{column:"ro_number",sortState:re.value},null,8,["sortState"])])]),_:1}),ne.value?(d(),w(e(U),{key:1,class:"font-semibold"},{default:a(()=>s[85]||(s[85]=[o("Company")])),_:1})):g("",!0),t(e(U),{onClick:s[10]||(s[10]=r=>Ce("ro_open_date")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Pl,[s[86]||(s[86]=o(" Open Date ")),t(st,{column:"ro_open_date",sortState:re.value},null,8,["sortState"])])]),_:1}),t(e(U),{onClick:s[11]||(s[11]=r=>Ce("ro_close_date")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Ll,[s[87]||(s[87]=o(" Close Date ")),t(st,{column:"ro_close_date",sortState:re.value},null,8,["sortState"])])]),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[88]||(s[88]=[o("Truck")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[89]||(s[89]=[o("Vendor")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[90]||(s[90]=[o("Areas of Concern")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[91]||(s[91]=[o("WO#")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[92]||(s[92]=[o("WO Status")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[93]||(s[93]=[o("Invoice")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[94]||(s[94]=[o("Amount")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[95]||(s[95]=[o("Invoice Received")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[96]||(s[96]=[o("On QS")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[97]||(s[97]=[o("QS Invoice Date")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[98]||(s[98]=[o("Disputed")])),_:1}),ae.value.includes("repair-orders.delete")||ae.value.includes("repair-orders.update")?(d(),w(e(U),{key:2,class:"font-semibold"},{default:a(()=>s[99]||(s[99]=[o("Actions")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[O.repairOrders.data.length?g("",!0):(d(),w(e(Q),{key:0},{default:a(()=>[t(e(V),{colspan:ne.value?16:15,class:"py-8 text-center"},{default:a(()=>[l("div",Wl,[t(u,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),s[100]||(s[100]=l("h2",{class:"text-lg font-medium"},"No repair orders found.",-1)),s[101]||(s[101]=l("p",{class:"text-muted-foreground mt-2"},"There is no data to display at this time.",-1))])]),_:1},8,["colspan"])]),_:1})),(d(!0),v(T,null,q(O.repairOrders.data,r=>(d(),w(e(Q),{key:r.id,class:"hover:bg-muted/50 transition-colors"},{default:a(()=>[ae.value.includes("repair-orders.delete")?(d(),w(e(V),{key:0},{default:a(()=>[L(l("input",{type:"checkbox",value:r.id,"onUpdate:modelValue":s[12]||(s[12]=D=>z.value=D),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,8,Rl),[[Ee,z.value]])]),_:2},1024)):g("",!0),t(e(V),{class:"whitespace-nowrap font-medium"},{default:a(()=>[o(c(r.ro_number),1)]),_:2},1024),ne.value?(d(),w(e(V),{key:1,class:"whitespace-nowrap"},{default:a(()=>{var D;return[o(c(((D=r.tenant)==null?void 0:D.name)||"—"),1)]}),_:2},1024)):g("",!0),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(_(r.ro_open_date)),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(r.ro_close_date?_(r.ro_close_date):"N/A"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var D;return[o(c(((D=r.truck)==null?void 0:D.truckid)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var D;return[o(c(((D=r.vendor)==null?void 0:D.vendor_name)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var D;return[(D=r.areas_of_concern)!=null&&D.length?(d(),v("span",jl,[(d(!0),v(T,null,q(r.areas_of_concern,(rt,Ct)=>(d(),v("span",{key:rt.id},[o(c(rt.concern),1),Ct<r.areas_of_concern.length-1?(d(),v("span",Ql,", ")):g("",!0)]))),128))])):(d(),v("span",Yl,"—"))]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(r.wo_number||"—"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var D;return[o(c(((D=r.wo_status)==null?void 0:D.name)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(r.invoice||"—"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(m(r.invoice_amount)),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(r.invoice_received?"Yes":"No"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(r.on_qs?r.on_qs.charAt(0).toUpperCase()+r.on_qs.slice(1):"No"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(r.qs_invoice_date?_(r.qs_invoice_date):"N/A"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[o(c(r.disputed?"Yes":"No"),1)]),_:2},1024),ae.value.includes("repair-orders.update")||ae.value.includes("repair-orders.delete")?(d(),w(e(V),{key:2},{default:a(()=>[l("div",Gl,[ae.value.includes("repair-orders.update")?(d(),w(e(b),{key:0,size:"sm",variant:"warning",onClick:D=>je(r),class:"h-8 px-2"},{default:a(()=>[t(u,{name:"pencil",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),ae.value.includes("repair-orders.delete")?(d(),w(e(b),{key:1,size:"sm",variant:"destructive",onClick:D=>Ye(r.id),class:"h-8 px-2"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1}),l("div",Hl,[l("div",Kl,[l("span",Zl,[t(u,{name:"list",class:"h-4 w-4"}),o(" Showing "+c(O.repairOrders.data.length)+" of "+c(O.repairOrders.total)+" entries ",1)]),l("span",Xl,[t(u,{name:"layout-grid",class:"h-4 w-4"}),s[102]||(s[102]=o(" Per page: "))]),l("div",Jl,[L(l("select",{"onUpdate:modelValue":s[13]||(s[13]=r=>I.value=r),onChange:he,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(d(),v(T,null,q([10,25,50,100],r=>l("option",{key:r,value:r},c(r),9,ea)),64))],544),[[H,I.value,void 0,{number:!0}]]),s[103]||(s[103]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ta,[t(e(b),{size:"sm",variant:"ghost",onClick:s[14]||(s[14]=r=>Me(O.repairOrders.prev_page_url)),disabled:!O.repairOrders.prev_page_url,class:"flex items-center gap-1"},{default:a(()=>[t(u,{name:"chevron-left",class:"h-4 w-4"}),s[104]||(s[104]=o(" Prev "))]),_:1},8,["disabled"]),(d(!0),v(T,null,q(O.repairOrders.links.slice(1,-1),r=>(d(),w(e(b),{key:r.label,size:"sm",variant:"ghost",onClick:D=>Me(r.url),disabled:!r.url,class:we({"border-primary bg-primary/10 text-primary font-medium":r.active})},{default:a(()=>[l("span",{innerHTML:r.label},null,8,sa)]),_:2},1032,["onClick","disabled","class"]))),128)),t(e(b),{size:"sm",variant:"ghost",onClick:s[15]||(s[15]=r=>Me(O.repairOrders.next_page_url)),disabled:!O.repairOrders.next_page_url,class:"flex items-center gap-1"},{default:a(()=>[s[105]||(s[105]=o(" Next ")),t(u,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})):(d(),v("div",la,[t(u,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),s[106]||(s[106]=l("h2",{class:"text-lg font-medium"},"There is No Data to give Information about.",-1))])),t(e(ue),{open:P.value,"onUpdate:open":s[33]||(s[33]=r=>P.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:a(()=>[t(e(me),{class:"px-4 sm:px-6 border-b pb-3"},{default:a(()=>[l("div",aa,[t(u,{name:e(y).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(pe),{class:"text-lg sm:text-xl font-semibold"},{default:a(()=>[o(c(Z.value)+" Repair Order",1)]),_:1})]),t(e(ie),{class:"text-xs sm:text-sm mt-1 text-muted-foreground"},{default:a(()=>[o("Fill in the details to "+c(Z.value.toLowerCase())+" a repair order.",1)]),_:1})]),_:1}),l("div",na,[l("form",{onSubmit:_e(Fe,["prevent"]),class:"grid grid-cols-1 gap-3 p-3 sm:grid-cols-2 sm:gap-4 sm:p-4"},[ne.value?(d(),v("div",oa,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),s[107]||(s[107]=o(" Company "))]),_:1}),l("div",ra,[L(l("select",{"onUpdate:modelValue":s[16]||(s[16]=r=>e(y).tenant_id=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm ring-offset-background focus-visible:ring-2"},[s[108]||(s[108]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(T,null,q(O.tenants,r=>(d(),v("option",{key:r.id,value:r.id},c(r.name),9,da))),128))],512),[[H,e(y).tenant_id]]),s[109]||(s[109]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):g("",!0),l("div",ia,[t(u,{name:"info",class:"h-4 w-4 text-primary"}),s[110]||(s[110]=l("h3",{class:"text-md font-semibold text-primary"},"Basic Information",-1))]),l("div",ua,[l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),s[111]||(s[111]=o(" RO# "))]),_:1}),t(e(Y),{modelValue:e(y).ro_number,"onUpdate:modelValue":s[17]||(s[17]=r=>e(y).ro_number=r),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),s[112]||(s[112]=o(" Truck "))]),_:1}),l("div",ma,[L(l("select",{"onUpdate:modelValue":s[18]||(s[18]=r=>e(y).truck_id=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[113]||(s[113]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(T,null,q(O.trucks,r=>(d(),v("option",{key:r.id,value:r.id},c(r.truckid),9,pa))),128))],512),[[H,e(y).truck_id]]),s[114]||(s[114]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar",class:"h-4 w-4 text-muted-foreground"}),s[115]||(s[115]=o(" Open Date "))]),_:1}),t(e(Y),{type:"date",modelValue:e(y).ro_open_date,"onUpdate:modelValue":s[19]||(s[19]=r=>e(y).ro_open_date=r),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar-check",class:"h-4 w-4 text-muted-foreground"}),s[116]||(s[116]=o(" Close Date "))]),_:1}),t(e(Y),{type:"date",modelValue:e(y).ro_close_date,"onUpdate:modelValue":s[20]||(s[20]=r=>e(y).ro_close_date=r),class:"h-9 w-full"},null,8,["modelValue"])])]),l("div",fa,[t(u,{name:"wrench",class:"h-4 w-4 text-primary"}),s[117]||(s[117]=l("h3",{class:"text-md font-semibold text-primary"},"Repair Details",-1))]),l("div",ca,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"alert-triangle",class:"h-4 w-4 text-muted-foreground"}),s[118]||(s[118]=o(" Areas of Concern "))]),_:1}),l("div",va,[(d(!0),v(T,null,q(e(y).area_of_concerns,r=>(d(),v("span",{key:r,class:"badge bg-primary/10 text-primary px-2 py-1 rounded-md flex items-center"},[o(c(yt.value[r]),1),l("button",{onClick:D=>_t(r),class:"ml-1 hover:text-red-500 focus:outline-none"},"×",8,xa)]))),128)),e(y).area_of_concerns.length?g("",!0):(d(),v("span",ga,"No areas selected"))]),l("div",wa,[l("select",{onChange:s[21]||(s[21]=r=>kt(r)),class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[119]||(s[119]=l("option",{value:""},"Select an area to add",-1)),(d(!0),v(T,null,q(bt.value,r=>(d(),v("option",{key:r.id,value:r.id},c(r.concern),9,ya))),128))],32),s[120]||(s[120]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ba,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"clipboard-check",class:"h-4 w-4 text-muted-foreground"}),s[121]||(s[121]=o(" Repairs Made "))]),_:1}),L(l("textarea",{"onUpdate:modelValue":s[22]||(s[22]=r=>e(y).repairs_made=r),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[it,e(y).repairs_made]])]),l("div",ka,[t(u,{name:"receipt",class:"h-4 w-4 text-primary"}),s[122]||(s[122]=l("h3",{class:"text-md font-semibold text-primary"},"Vendor & Invoice Information",-1))]),l("div",_a,[l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"building-2",class:"h-4 w-4 text-muted-foreground"}),s[123]||(s[123]=o(" Vendor "))]),_:1}),l("div",ha,[L(l("select",{"onUpdate:modelValue":s[23]||(s[23]=r=>e(y).vendor_id=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[124]||(s[124]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(T,null,q(O.vendors,r=>(d(),v("option",{key:r.id,value:r.id},c(r.vendor_name),9,Ca))),128))],512),[[H,e(y).vendor_id]]),s[125]||(s[125]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"file-text",class:"h-4 w-4 text-muted-foreground"}),s[126]||(s[126]=o(" WO# "))]),_:1}),t(e(Y),{modelValue:e(y).wo_number,"onUpdate:modelValue":s[24]||(s[24]=r=>e(y).wo_number=r),class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),s[127]||(s[127]=o(" WO Status "))]),_:1}),l("div",Sa,[L(l("select",{"onUpdate:modelValue":s[25]||(s[25]=r=>e(y).wo_status_id=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[128]||(s[128]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(T,null,q(O.woStatuses,r=>(d(),v("option",{key:r.id,value:r.id},c(r.name),9,$a))),128))],512),[[H,e(y).wo_status_id]]),s[129]||(s[129]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"check-square",class:"h-4 w-4 text-muted-foreground"}),s[130]||(s[130]=o(" On QS "))]),_:1}),l("div",Va,[L(l("select",{"onUpdate:modelValue":s[26]||(s[26]=r=>e(y).on_qs=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},s[131]||(s[131]=[l("option",{value:"yes"},"Yes",-1),l("option",{value:"no"},"No",-1),l("option",{value:"not expected"},"Not Expected",-1)]),512),[[H,e(y).on_qs]]),s[132]||(s[132]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),l("div",Aa,[l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"file-invoice",class:"h-4 w-4 text-muted-foreground"}),s[133]||(s[133]=o(" Invoice "))]),_:1}),t(e(Y),{modelValue:e(y).invoice,"onUpdate:modelValue":s[27]||(s[27]=r=>e(y).invoice=r),class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"dollar-sign",class:"h-4 w-4 text-muted-foreground"}),s[134]||(s[134]=o(" Amount "))]),_:1}),l("div",Da,[s[135]||(s[135]=l("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-muted-foreground"},"$",-1)),t(e(Y),{type:"number",step:"0.01",modelValue:e(y).invoice_amount,"onUpdate:modelValue":s[28]||(s[28]=r=>e(y).invoice_amount=r),class:"pl-7 h-9 w-full"},null,8,["modelValue"])])]),l("div",Oa,[L(l("input",{type:"checkbox","onUpdate:modelValue":s[29]||(s[29]=r=>e(y).invoice_received=r),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[Ee,e(y).invoice_received]]),t(e(S),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:a(()=>[t(u,{name:"inbox",class:"h-4 w-4 text-muted-foreground"}),s[136]||(s[136]=o(" Invoice Received "))]),_:1})]),l("div",null,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar-days",class:"h-4 w-4 text-muted-foreground"}),s[137]||(s[137]=o(" QS Invoice Date "))]),_:1}),t(e(Y),{type:"date",modelValue:e(y).qs_invoice_date,"onUpdate:modelValue":s[30]||(s[30]=r=>e(y).qs_invoice_date=r),class:"h-9 w-full"},null,8,["modelValue"])])]),Z.value==="Update"?(d(),v("div",Ua,[l("div",Ma,[t(u,{name:"alert-octagon",class:"h-4 w-4 text-primary"}),s[138]||(s[138]=l("h3",{class:"text-md font-semibold text-primary"},"Dispute Information",-1))]),l("div",Na,[L(l("input",{type:"checkbox","onUpdate:modelValue":s[31]||(s[31]=r=>e(y).disputed=r),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[Ee,e(y).disputed]]),t(e(S),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:a(()=>[t(u,{name:"alert-circle",class:"h-4 w-4 text-muted-foreground"}),s[139]||(s[139]=o(" Disputed? "))]),_:1})]),e(y).disputed?(d(),v("div",Ta,[t(e(S),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"message-square",class:"h-4 w-4 text-muted-foreground"}),s[140]||(s[140]=o(" Dispute Outcome "))]),_:1}),L(l("textarea",{"onUpdate:modelValue":s[32]||(s[32]=r=>e(y).dispute_outcome=r),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[it,e(y).dispute_outcome]])])):g("",!0)])):g("",!0)],32)]),t(e(fe),{class:"px-4 sm:px-6 flex justify-end gap-2 mt-2 pt-3 border-t"},{default:a(()=>[t(e(b),{variant:"outline",onClick:Qe,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:a(()=>s[141]||(s[141]=[o("Cancel")])),_:1}),t(e(b),{type:"submit",onClick:Fe,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:a(()=>[o(c(Z.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:R.value,"onUpdate:open":s[35]||(s[35]=r=>R.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(me),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(pe),{class:"text-lg sm:text-xl"},{default:a(()=>s[142]||(s[142]=[o("Confirm Deletion")])),_:1}),t(e(ie),{class:"text-xs sm:text-sm"},{default:a(()=>s[143]||(s[143]=[o("This action cannot be undone.")])),_:1})]),_:1}),t(e(fe),{class:"px-4 sm:px-6 flex gap-2"},{default:a(()=>[t(e(b),{variant:"outline",onClick:s[34]||(s[34]=r=>R.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[144]||(s[144]=[o("Cancel")])),_:1}),t(e(b),{variant:"destructive",onClick:Ge,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[145]||(s[145]=[o("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:j.value,"onUpdate:open":s[37]||(s[37]=r=>j.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(me),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(pe),{class:"text-lg sm:text-xl"},{default:a(()=>[o("Delete "+c(z.value.length)+" Orders?",1)]),_:1}),t(e(ie),{class:"text-xs sm:text-sm"},{default:a(()=>s[146]||(s[146]=[o("This action cannot be undone.")])),_:1})]),_:1}),t(e(fe),{class:"px-4 sm:px-6 flex gap-2"},{default:a(()=>[t(e(b),{variant:"outline",onClick:s[36]||(s[36]=r=>j.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[147]||(s[147]=[o("Cancel")])),_:1}),t(e(b),{variant:"destructive",onClick:Ke,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[148]||(s[148]=[o("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:M.value,"onUpdate:open":s[40]||(s[40]=r=>M.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(me),null,{default:a(()=>[t(e(pe),null,{default:a(()=>s[149]||(s[149]=[o("Manage Areas of Concern")])),_:1}),t(e(ie),{class:"text-sm sm:text-base"},{default:a(()=>s[150]||(s[150]=[o("Add or remove areas of concern for repair orders.")])),_:1})]),_:1}),l("div",Ia,[l("form",{onSubmit:_e(Xe,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",Fa,[t(e(S),{for:"concern"},{default:a(()=>s[151]||(s[151]=[o("Area of Concern")])),_:1}),t(e(Y),{id:"concern",modelValue:e(ce).concern,"onUpdate:modelValue":s[38]||(s[38]=r=>e(ce).concern=r),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(b),{type:"submit",class:"w-full"},{default:a(()=>s[152]||(s[152]=[o("Add Area of Concern")])),_:1})],32),l("div",za,[l("div",Ba,[t(e(ye),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(Q),null,{default:a(()=>[t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[153]||(s[153]=[o("Area of Concern")])),_:1}),t(e(U),{class:"w-20 text-xs sm:text-sm"},{default:a(()=>s[154]||(s[154]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[p.areasOfConcern.length?g("",!0):(d(),w(e(Q),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[155]||(s[155]=[o("No areas of concern found.")])),_:1})]),_:1})),(d(!0),v(T,null,q(O.areasOfConcern,r=>(d(),w(e(Q),{key:r.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[o(c(r.concern)+" ",1),r.deleted_at?(d(),v("span",qa,"(Deleted)")):g("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",Ea,[r.deleted_at?(d(),w(e(b),{key:0,onClick:D=>et(r.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),r.deleted_at?g("",!0):(d(),w(e(b),{key:1,onClick:D=>Je(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"]))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(fe),null,{default:a(()=>[t(e(b),{onClick:s[39]||(s[39]=r=>M.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[156]||(s[156]=[o("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:K.value,"onUpdate:open":s[43]||(s[43]=r=>K.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(me),null,{default:a(()=>[t(e(pe),null,{default:a(()=>s[157]||(s[157]=[o("Manage Vendors")])),_:1}),t(e(ie),{class:"text-sm sm:text-base"},{default:a(()=>s[158]||(s[158]=[o("Add or remove vendors for repair orders.")])),_:1})]),_:1}),l("div",Pa,[l("form",{onSubmit:_e(x,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",La,[t(e(S),{for:"vendor_name"},{default:a(()=>s[159]||(s[159]=[o("Vendor Name")])),_:1}),t(e(Y),{id:"vendor_name",modelValue:e(ee).vendor_name,"onUpdate:modelValue":s[41]||(s[41]=r=>e(ee).vendor_name=r),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(b),{type:"submit",class:"w-full"},{default:a(()=>s[160]||(s[160]=[o("Add Vendor")])),_:1})],32),l("div",Wa,[l("div",Ra,[t(e(ye),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(Q),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[161]||(s[161]=[o("Vendor Name")])),_:1}),t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[162]||(s[162]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[O.vendors.length===0?(d(),w(e(Q),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[163]||(s[163]=[o("No vendors found.")])),_:1})]),_:1})):g("",!0),(d(!0),v(T,null,q(O.vendors,r=>(d(),w(e(Q),{key:r.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[o(c(r.vendor_name)+" ",1),r.deleted_at?(d(),v("span",ja,"(Deleted)")):g("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",Qa,[r.deleted_at?(d(),w(e(b),{key:0,onClick:D=>i(r.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),r.deleted_at?g("",!0):(d(),w(e(b),{key:1,onClick:D=>n(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),r.deleted_at?(d(),w(e(b),{key:2,onClick:D=>f.forceDeleteVendor(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(fe),null,{default:a(()=>[t(e(b),{onClick:s[42]||(s[42]=r=>K.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[164]||(s[164]=[o("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:te.value,"onUpdate:open":s[46]||(s[46]=r=>te.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(me),null,{default:a(()=>[t(e(pe),null,{default:a(()=>s[165]||(s[165]=[o("Manage Work Order Statuses")])),_:1}),t(e(ie),{class:"text-sm sm:text-base"},{default:a(()=>s[166]||(s[166]=[o(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),l("div",Ya,[l("form",{onSubmit:_e(tt,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",Ga,[t(e(S),{for:"status_name"},{default:a(()=>s[167]||(s[167]=[o("Status Name")])),_:1}),t(e(Y),{id:"status_name",modelValue:e(k).name,"onUpdate:modelValue":s[44]||(s[44]=r=>e(k).name=r),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(b),{type:"submit",class:"w-full"},{default:a(()=>s[168]||(s[168]=[o("Add Work Order Status")])),_:1})],32),l("div",Ha,[l("div",Ka,[t(e(ye),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(Q),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[169]||(s[169]=[o("Status Name")])),_:1}),t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[170]||(s[170]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[p.woStatuses.length?g("",!0):(d(),w(e(Q),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[171]||(s[171]=[o("No work order statuses found.")])),_:1})]),_:1})),(d(!0),v(T,null,q(p.woStatuses,r=>(d(),w(e(Q),{key:r.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[o(c(r.name)+" ",1),r.deleted_at?(d(),v("span",Za,"(Deleted)")):g("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",Xa,[r.deleted_at?(d(),w(e(b),{key:0,onClick:D=>gt(r.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),r.deleted_at?g("",!0):(d(),w(e(b),{key:1,onClick:D=>xt(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),r.deleted_at?(d(),w(e(b),{key:2,onClick:D=>f.forceDeleteStatus(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(fe),null,{default:a(()=>[t(e(b),{onClick:s[45]||(s[45]=r=>te.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[172]||(s[172]=[o("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ue),{open:ze.value,"onUpdate:open":s[48]||(s[48]=r=>ze.value=r)},{default:a(()=>[t(e(de),{class:"max-h-[90vh] max-w-[95vw] overflow-y-auto md:max-w-[80vw] lg:max-w-4xl"},{default:a(()=>{var r;return[t(e(me),null,{default:a(()=>[t(e(pe),{class:"flex items-center gap-2 text-lg md:text-xl"},{default:a(()=>[t(u,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),s[173]||(s[173]=o(" Canceled Invoices on QS "))]),_:1}),t(e(ie),null,{default:a(()=>s[174]||(s[174]=[o(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),l("div",Ja,[(r=p.canceledQSInvoices)!=null&&r.length?(d(),w(e(ye),{key:0},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(Q),null,{default:a(()=>[t(e(U),{class:"whitespace-nowrap"},{default:a(()=>s[175]||(s[175]=[o("RO Number")])),_:1}),t(e(U),{class:"whitespace-nowrap"},{default:a(()=>s[176]||(s[176]=[o("Vendor")])),_:1}),t(e(U),{class:"whitespace-nowrap text-right"},{default:a(()=>s[177]||(s[177]=[o("Amount")])),_:1}),t(e(U),{class:"whitespace-nowrap"},{default:a(()=>s[178]||(s[178]=[o("Week")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[(d(!0),v(T,null,q(p.canceledQSInvoices,D=>(d(),w(e(Q),{key:D.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:a(()=>[t(e(V),{class:"font-medium"},{default:a(()=>[l("div",en,[t(u,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),o(" "+c(D.ro_number),1)])]),_:2},1024),t(e(V),null,{default:a(()=>[o(c(D.vendor_name),1)]),_:2},1024),t(e(V),{class:"text-right"},{default:a(()=>[o(c(m(D.invoice_amount)),1)]),_:2},1024),t(e(V),null,{default:a(()=>[o("W"+c(D.week_number)+"/"+c(D.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(d(),v("div",tn,"No canceled QS invoices found."))]),t(e(fe),{class:"mt-4 flex flex-col gap-2 sm:flex-row"},{default:a(()=>[t(e(b),{onClick:s[47]||(s[47]=D=>ze.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[179]||(s[179]=[o("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])])}}}),an=Ut(ln,[["__scopeId","data-v-1f9806dd"]]),nn={class:"bg-card rounded-lg border shadow-sm p-4 md:p-6 mb-6"},on={class:"flex justify-between items-center mb-4"},rn={class:"overflow-x-auto max-h-80"},dn={class:"flex justify-center space-x-2"},un={key:0,class:"border-t mt-4 px-4 py-3 bg-muted/20"},mn={class:"flex flex-col sm:flex-row items-center justify-between gap-2"},pn={class:"text-sm text-muted-foreground"},fn={class:"flex flex-wrap gap-2"},cn={class:"grid grid-cols-2 gap-4"},vn={key:0,class:"grid grid-cols-2 gap-4"},xn={class:"mt-1"},gn={class:"mt-1"},wn=Pe({__name:"MilesDrivenTable",props:{milesEntries:{},tenantSlug:{},permissions:{}},setup(O){const p=O,A=$(!1),I=$("week_start_date"),z=$("desc"),F=$(1),E=$(10),X=$(!1),C=ge({id:null,year:"",week_number:"",week_start_date:"",week_end_date:"",miles:"",notes:""}),P=B(()=>{const _=[...p.milesEntries];return _.sort((m,h)=>{let W=m[I.value],J=h[I.value];return W>J?z.value==="asc"?1:-1:W<J?z.value==="asc"?-1:1:0}),_}),R=B(()=>Math.ceil(P.value.length/E.value)),j=B(()=>{const _=(F.value-1)*E.value,m=_+E.value;return P.value.slice(_,m)}),M=B(()=>{const _=[];if(R.value<=5)for(let h=1;h<=R.value;h++)_.push(h);else{let h=Math.max(1,F.value-Math.floor(2.5)),W=Math.min(R.value,h+5-1);W===R.value&&(h=Math.max(1,W-5+1));for(let J=h;J<=W;J++)_.push(J)}return _});function K(_){_<1||_>R.value||(F.value=_)}function te(_){I.value===_?z.value=z.value==="asc"?"desc":"asc":(I.value=_,z.value="asc"),F.value=1}function Z(_=null){if(C.reset(),C.clearErrors(),_){C.id=_.id,C.week_start_date=_.week_start_date,C.week_end_date=_.week_end_date,C.miles=_.miles,C.notes=_.notes;const m=new Date(_.week_start_date),h=new Date(Date.UTC(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()));h.setUTCDate(h.getUTCDate()+4-(h.getUTCDay()||7));const W=h.getUTCFullYear(),J=Math.ceil(((h-Date.UTC(W,0,1))/864e5+1)/7)+1;C.year=W,C.week_number=J}A.value=!0}function y(){const _=+C.year,m=+C.week_number;if(!_||!m){C.week_start_date="",C.week_end_date="";return}const h=new Date(Date.UTC(_,0,4)),W=h.getUTCDay()||7;h.setUTCDate(h.getUTCDate()+(m-1)*7+(1-W));const J=new Date(h);J.setUTCDate(h.getUTCDate()-1);const re=new Date(J);re.setUTCDate(J.getUTCDate()+6),C.week_start_date=J.toISOString().slice(0,10),C.week_end_date=re.toISOString().slice(0,10)}function ce(){const _=C.id?"miles_driven.update":"miles_driven.store",m=C.id?{tenantSlug:p.tenantSlug,milesDriven:C.id}:{tenantSlug:p.tenantSlug};C[C.id?"put":"post"](ut(_,m),{preserveScroll:!0,onSuccess:()=>{A.value=!1}})}const ee=$(null);function k(_){ee.value=_,X.value=!0}function ne(){if(!ee.value)return;const _="miles_driven.destroy",m={tenantSlug:p.tenantSlug,milesDriven:ee.value.id};C.delete(ut(_,m),{preserveScroll:!0,onSuccess:()=>{X.value=!1,ee.value=null}})}function oe(_){if(!_)return"";const m=new Date(_);return new Date(m.getTime()+m.getTimezoneOffset()*6e4).toLocaleDateString()}function Ue(_){return Number(_).toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:4})}const le=B(()=>p.permissions.map(_=>_.name));return(_,m)=>(d(),v("div",nn,[l("div",on,[m[14]||(m[14]=l("h3",{class:"text-base md:text-xl font-semibold"}," Miles Driven ",-1)),le.value.includes("miles-driven.create")?(d(),w(e(b),{key:0,onClick:m[0]||(m[0]=h=>Z()),variant:"default"},{default:a(()=>[t(u,{name:"plus",class:"mr-2 h-4 w-4"}),m[13]||(m[13]=l("span",null,"Add Miles Driven",-1))]),_:1})):g("",!0)]),l("div",rn,[t(e(ye),{class:"w-full table-auto"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(Q),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(U),{class:"cursor-pointer px-4 py-2 text-left",onClick:m[1]||(m[1]=h=>te("week_start_date"))},{default:a(()=>[m[15]||(m[15]=o(" Week Start ")),l("span",null,[I.value==="week_start_date"&&z.value==="asc"?(d(),w(u,{key:0,name:"chevron-up"})):I.value==="week_start_date"&&z.value==="desc"?(d(),w(u,{key:1,name:"chevron-down"})):(d(),w(u,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e(U),{class:"cursor-pointer px-4 py-2 text-left",onClick:m[2]||(m[2]=h=>te("week_end_date"))},{default:a(()=>[m[16]||(m[16]=o(" Week End ")),l("span",null,[I.value==="week_end_date"&&z.value==="asc"?(d(),w(u,{key:0,name:"chevron-up"})):I.value==="week_end_date"&&z.value==="desc"?(d(),w(u,{key:1,name:"chevron-down"})):(d(),w(u,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e(U),{class:"cursor-pointer px-4 py-2 text-left",onClick:m[3]||(m[3]=h=>te("miles"))},{default:a(()=>[m[17]||(m[17]=o(" Miles ")),l("span",null,[I.value==="miles"&&z.value==="asc"?(d(),w(u,{key:0,name:"chevron-up"})):I.value==="miles"&&z.value==="desc"?(d(),w(u,{key:1,name:"chevron-down"})):(d(),w(u,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),le.value.includes("miles-driven.update")||le.value.includes("miles-driven.delete")?(d(),w(e(U),{key:0,class:"text-center px-4 py-2"},{default:a(()=>m[18]||(m[18]=[o(" Actions ")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[(d(!0),v(T,null,q(j.value,h=>(d(),w(e(Q),{key:h.id,class:"border-b hover:bg-muted/20"},{default:a(()=>[t(e(V),{class:"px-4 py-3"},{default:a(()=>[o(c(oe(h.week_start_date)),1)]),_:2},1024),t(e(V),{class:"px-4 py-3"},{default:a(()=>[o(c(oe(h.week_end_date)),1)]),_:2},1024),t(e(V),{class:"px-4 py-3"},{default:a(()=>[o(c(Ue(h.miles)),1)]),_:2},1024),le.value.includes("miles-driven.update")||le.value.includes("miles-driven.delete")?(d(),w(e(V),{key:0,class:"text-center px-4 py-3"},{default:a(()=>[l("div",dn,[le.value.includes("miles-driven.update")?(d(),w(e(b),{key:0,variant:"outline",size:"sm",onClick:W=>Z(h)},{default:a(()=>[t(u,{name:"pencil",class:"mr-1 h-4 w-4"}),m[19]||(m[19]=l("span",null,"Edit",-1))]),_:2},1032,["onClick"])):g("",!0),le.value.includes("miles-driven.delete")?(d(),w(e(b),{key:1,variant:"destructive",size:"sm",onClick:W=>k(h)},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4"}),m[20]||(m[20]=l("span",null,"Delete",-1))]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128)),_.milesEntries.length?g("",!0):(d(),w(e(Q),{key:0},{default:a(()=>[t(e(V),{colspan:5,class:"py-4 text-center text-muted-foreground"},{default:a(()=>m[21]||(m[21]=[o(" No miles driven records found ")])),_:1})]),_:1}))]),_:1})]),_:1})]),R.value>1?(d(),v("div",un,[l("div",mn,[l("div",pn," Showing "+c(j.value.length)+" of "+c(_.milesEntries.length)+" entries ",1),l("div",fn,[t(e(b),{onClick:m[4]||(m[4]=h=>K(F.value-1)),disabled:F.value===1,variant:"ghost",size:"sm"},{default:a(()=>m[22]||(m[22]=[o(" Previous ")])),_:1},8,["disabled"]),(d(!0),v(T,null,q(M.value,h=>(d(),w(e(b),{key:h,onClick:W=>K(h),variant:"ghost",size:"sm",class:we({"border-primary bg-primary/10 text-primary":F.value===h})},{default:a(()=>[o(c(h),1)]),_:2},1032,["onClick","class"]))),128)),t(e(b),{onClick:m[5]||(m[5]=h=>K(F.value+1)),disabled:F.value===R.value,variant:"ghost",size:"sm"},{default:a(()=>m[23]||(m[23]=[o(" Next ")])),_:1},8,["disabled"])])])])):g("",!0),t(e(ue),{open:A.value,"onUpdate:open":m[10]||(m[10]=h=>A.value=h)},{default:a(()=>[t(e(de),{class:"sm:max-w-md w-full max-h-[90vh] overflow-auto"},{default:a(()=>[t(e(me),null,{default:a(()=>[t(e(pe),null,{default:a(()=>[o(c(e(C).id?"Edit Miles Driven":"Add Miles Driven"),1)]),_:1}),t(e(ie),{class:"text-muted-foreground"},{default:a(()=>[o(c(e(C).id?"Update this record.":"Fill in the new miles driven record."),1)]),_:1})]),_:1}),l("form",{onSubmit:_e(ce,["prevent"]),class:"grid gap-4 py-4"},[l("div",cn,[l("div",null,[t(e(S),{for:"year"},{default:a(()=>m[24]||(m[24]=[o("Year")])),_:1}),t(e(Y),{id:"year",type:"number",modelValue:e(C).year,"onUpdate:modelValue":m[6]||(m[6]=h=>e(C).year=h),modelModifiers:{number:!0},min:"2000",max:"2100",onInput:y},null,8,["modelValue"])]),l("div",null,[t(e(S),{for:"week_number"},{default:a(()=>m[25]||(m[25]=[o("Week #")])),_:1}),t(e(Y),{id:"week_number",type:"number",modelValue:e(C).week_number,"onUpdate:modelValue":m[7]||(m[7]=h=>e(C).week_number=h),modelModifiers:{number:!0},min:"1",max:"53",onInput:y},null,8,["modelValue"])])]),e(C).week_start_date?(d(),v("div",vn,[l("div",null,[t(e(S),null,{default:a(()=>m[26]||(m[26]=[o("Start (Sun)")])),_:1}),l("p",xn,c(oe(e(C).week_start_date)),1)]),l("div",null,[t(e(S),null,{default:a(()=>m[27]||(m[27]=[o("End (Sat)")])),_:1}),l("p",gn,c(oe(e(C).week_end_date)),1)])])):g("",!0),l("div",null,[t(e(S),{for:"miles"},{default:a(()=>m[28]||(m[28]=[o("Miles")])),_:1}),t(e(Y),{id:"miles",modelValue:e(C).miles,"onUpdate:modelValue":m[8]||(m[8]=h=>e(C).miles=h),type:"number",step:"0.0001",min:"0",max:"999999.9999"},null,8,["modelValue"])]),t(e(fe),{class:"mt-4"},{default:a(()=>[t(e(b),{variant:"outline",type:"button",onClick:m[9]||(m[9]=h=>A.value=!1)},{default:a(()=>m[29]||(m[29]=[o(" Cancel ")])),_:1}),t(e(b),{type:"submit",disabled:e(C).processing},{default:a(()=>m[30]||(m[30]=[o("Submit")])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(e(ue),{open:X.value,"onUpdate:open":m[12]||(m[12]=h=>X.value=h)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(me),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(pe),{class:"text-lg sm:text-xl"},{default:a(()=>m[31]||(m[31]=[o("Confirm Deletion")])),_:1}),t(e(ie),{class:"text-xs sm:text-sm"},{default:a(()=>m[32]||(m[32]=[o(" Are you sure you want to delete this miles driven record? This action cannot be undone. ")])),_:1})]),_:1}),t(e(fe),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(b),{type:"button",onClick:m[11]||(m[11]=h=>X.value=!1),variant:"outline",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>m[33]||(m[33]=[o(" Cancel ")])),_:1}),t(e(b),{type:"button",onClick:ne,variant:"destructive",class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>m[34]||(m[34]=[o(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}}),yn={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},bn={class:"border-b"},kn={class:"flex justify-center space-x-8 px-0 pt-4"},_n={key:0,class:"flex justify-center items-center p-12"},hn={key:1,class:"p-0"},Hn=Pe({__name:"AssetMaintenance",props:{entries:{type:Array,default:()=>[]},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},repairOrders:{type:Object,default:()=>({data:[],links:[]})},dateRange:{type:Object,default:null},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},dateFilter:{type:String,default:"yesterday"},tenantSlug:String,SuperAdmin:Boolean,perPage:{type:Number,default:10},openedComponent:{type:String,default:"repairOrders"},milesEntries:Array,permissions:Array},setup(O){const p=O,A=$(!1),I=$(""),z=$(""),F=$(p.openedComponent||"trucks"),E=B(()=>[{title:p.tenantSlug?"Dashboard":"Admin Dashboard",href:p.tenantSlug?route("dashboard",{tenantSlug:p.tenantSlug}):route("admin.dashboard")},{title:"Asset Maintenance",href:"#"}]),X=B(()=>F.value==="trucks"?zs:F.value==="milesDriven"?wn:an),C=B(()=>p.permissions.map(j=>j.name)),P=B(()=>F.value==="trucks"?{entries:p.entries,tenantSlug:p.tenantSlug,SuperAdmin:p.SuperAdmin,tenants:p.tenants,trucks:p.trucks,vendors:p.vendors,areasOfConcern:p.areasOfConcern,permissions:p.permissions}:F.value==="milesDriven"?{milesEntries:p.milesEntries,tenantSlug:p.tenantSlug,permissions:p.permissions}:{repairOrders:p.repairOrders,tenantSlug:p.tenantSlug,SuperAdmin:p.SuperAdmin,tenants:p.tenants,trucks:p.trucks,vendors:p.vendors,areasOfConcern:p.areasOfConcern,dateRange:p.dateRange,woStatuses:p.woStatuses,weekNumber:p.weekNumber,startWeekNumber:p.startWeekNumber,endWeekNumber:p.endWeekNumber,year:p.year,canceledQSInvoices:p.canceledQSInvoices,outstandingInvoices:p.outstandingInvoices,workOrdersByTruck:p.workOrdersByTruck,workOrderByAreasOfConcern:p.workOrderByAreasOfConcern,filters:p.filters,dateFilter:p.dateFilter,perPage:p.perPage,permissions:p.permissions});function R(j){A.value=!0,F.value=j;const M=new URL(window.location.href);M.search="",M.searchParams.set("openedComponent",j),window.history.replaceState({},"",M.href),setTimeout(()=>{A.value=!1},300)}return(j,M)=>(d(),w($t,{breadcrumbs:E.value,tenantSlug:O.tenantSlug,permissions:p.permissions},{default:a(()=>[t(e(St),{title:"Asset Maintenance"}),l("div",yn,[I.value?(d(),w(e(Oe),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(Ae),null,{default:a(()=>M[3]||(M[3]=[o("Success")])),_:1}),t(e(De),null,{default:a(()=>[o(c(I.value),1)]),_:1})]),_:1})):g("",!0),z.value?(d(),w(e(Oe),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(Ae),null,{default:a(()=>M[4]||(M[4]=[o("Error")])),_:1}),t(e(De),null,{default:a(()=>[o(c(z.value),1)]),_:1})]),_:1})):g("",!0),M[9]||(M[9]=l("div",{class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6"},[l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"}," Asset Maintenance "),l("div",{class:"flex flex-wrap gap-3 mt-2 sm:mt-0"})],-1)),t(e($e),{class:"shadow-sm border bg-card"},{default:a(()=>[t(e(Ve),{class:"p-0"},{default:a(()=>[l("div",bn,[l("div",kn,[C.value.includes("repair-orders.view")?(d(),w(e(b),{key:0,onClick:M[0]||(M[0]=K=>R("repairOrders")),variant:"ghost",class:we([[F.value==="repairOrders"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-0 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(u,{name:"clipboardList",class:"mr-2 h-4 w-4"}),M[5]||(M[5]=l("span",null,"Repair Orders",-1))]),_:1},8,["class"])):g("",!0),C.value.includes("miles-driven.view")?(d(),w(e(b),{key:1,onClick:M[1]||(M[1]=K=>R("milesDriven")),variant:"ghost",class:we([[F.value==="milesDriven"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(u,{name:"gauge",class:"mr-2 h-4 w-4"}),M[6]||(M[6]=l("span",null,"Miles Driven",-1))]),_:1},8,["class"])):g("",!0),C.value.includes("trucks.view")?(d(),w(e(b),{key:2,onClick:M[2]||(M[2]=K=>R("trucks")),variant:"ghost",class:we([[F.value==="trucks"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(u,{name:"truck",class:"mr-2 h-4 w-4"}),M[7]||(M[7]=l("span",null,"Trucks",-1))]),_:1},8,["class"])):g("",!0)])]),A.value?(d(),v("div",_n,M[8]||(M[8]=[l("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):(d(),v("div",hn,[(d(),w(At(X.value),Dt(Ot(P.value)),null,16))]))]),_:1})]),_:1})])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}});export{Hn as default};
