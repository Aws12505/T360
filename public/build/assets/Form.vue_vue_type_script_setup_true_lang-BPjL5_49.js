import{e as S,a as $,ao as N,f as x,i as n,u as e,ap as E,m as M,j as l,B as s,k as T,ak as j,aq as q,O as i,P as _,X as r,I as U,H as u,E as P,J as z,K as F,Y as L,G as v}from"./vendor-DQlNQ5gH.js";import{x as D}from"./vendor-vue-CQn6KzTb.js";import{_ as c,a as w}from"./Label.vue_vue_type_script_setup_true_lang-BRq5T-WA.js";import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang-B-8911bK.js";import{c as B}from"./utils-D2wO_Ovf.js";import{_ as G}from"./Card.vue_vue_type_script_setup_true_lang-yOexdr0W.js";import{_ as O}from"./CardContent.vue_vue_type_script_setup_true_lang-Dh-7LYTR.js";import{_ as A}from"./CardHeader.vue_vue_type_script_setup_true_lang-BXftwvVe.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-OH7QXspQ.js";import{L as I}from"./vendor-icons-pKobgiP0.js";const C=S({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(m,{emit:g}){const d=m,f=g,h=$(()=>{const{class:p,...b}=d;return b}),o=N(h,f);return(p,b)=>(n(),x(e(E),M(e(o),{class:e(B)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",d.class)}),{default:l(()=>[s(e(q),{class:j(e(B)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5"))},{default:l(()=>[T(p.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),J={class:"space-y-2"},K={key:0},X=["value"],Y={key:1,class:"text-lg font-medium capitalize text-foreground"},Q={class:"space-y-4 p-4 border rounded-md border-border bg-card"},R={class:"flex items-center justify-between"},W={key:0,class:"space-y-2"},Z={class:"space-y-4 p-4 border rounded-md border-border bg-card"},ee={class:"flex items-center justify-between"},te={key:0,class:"space-y-2"},oe={class:"flex justify-end space-x-3"},fe=S({__name:"Form",props:{entry:{type:Object,default:()=>({})},isCreating:{type:Boolean,default:!1},availableMetrics:{type:Array,default:()=>[]},tenantSlug:{type:String,default:null}},emits:["saved","cancel"],setup(m,{emit:g}){const d=m,f=g,{tenantSlug:h}=d,o=D({id:d.entry.id,metric_name:d.entry.metric_name||"",good_threshold:d.entry.good_threshold??null,bad_threshold:d.entry.bad_threshold??null,good_enabled:d.entry.good_enabled??!0,bad_enabled:d.entry.bad_enabled??!0}),p=$(()=>d.isCreating?"Create New Threshold":"Edit Threshold"),b=()=>{o.post(route("sms-coaching.update",{tenantSlug:h}),{onSuccess:()=>f("saved")})},V=y=>y.replace(/_/g," ");return(y,t)=>(n(),x(e(G),{class:"shadow-sm"},{default:l(()=>[s(e(A),null,{default:l(()=>[s(e(H),null,{default:l(()=>[i(_(p.value),1)]),_:1})]),_:1}),s(e(O),null,{default:l(()=>[r("form",{onSubmit:U(b,["prevent"]),class:"space-y-6"},[r("div",J,[s(e(c),{for:"metric_name"},{default:l(()=>t[6]||(t[6]=[i("Metric Name")])),_:1}),m.isCreating?(n(),u("div",K,[P(r("select",{id:"metric_name","onUpdate:modelValue":t[0]||(t[0]=a=>e(o).metric_name=a),required:"",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground dark:text-white shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[7]||(t[7]=r("option",{value:"",disabled:""},"Select a metric",-1)),(n(!0),u(z,null,F(m.availableMetrics,a=>(n(),u("option",{key:a,value:a,class:"capitalize"},_(V(a)),9,X))),128))],512),[[L,e(o).metric_name]])])):(n(),u("div",Y,_(V(e(o).metric_name)),1))]),r("div",Q,[r("div",R,[s(e(c),{for:"good_enabled",class:"text-base font-medium text-foreground"},{default:l(()=>t[8]||(t[8]=[i("Good Threshold")])),_:1}),s(e(C),{id:"good_enabled",modelValue:e(o).good_enabled,"onUpdate:modelValue":t[1]||(t[1]=a=>e(o).good_enabled=a)},null,8,["modelValue"])]),e(o).good_enabled?(n(),u("div",W,[s(e(c),{for:"good_threshold",class:"text-foreground"},{default:l(()=>t[9]||(t[9]=[i("Value")])),_:1}),s(e(w),{id:"good_threshold",modelValue:e(o).good_threshold,"onUpdate:modelValue":t[2]||(t[2]=a=>e(o).good_threshold=a),type:"number",step:"0.01",placeholder:"Enter threshold value",class:"w-full"},null,8,["modelValue"]),t[10]||(t[10]=r("p",{class:"text-sm text-muted-foreground"},' Values less than or equal to this threshold will be considered "good". ',-1))])):v("",!0)]),r("div",Z,[r("div",ee,[s(e(c),{for:"bad_enabled",class:"text-base font-medium text-foreground"},{default:l(()=>t[11]||(t[11]=[i("Bad Threshold")])),_:1}),s(e(C),{id:"bad_enabled",modelValue:e(o).bad_enabled,"onUpdate:modelValue":t[3]||(t[3]=a=>e(o).bad_enabled=a)},null,8,["modelValue"])]),e(o).bad_enabled?(n(),u("div",te,[s(e(c),{for:"bad_threshold",class:"text-foreground"},{default:l(()=>t[12]||(t[12]=[i("Value")])),_:1}),s(e(w),{id:"bad_threshold",modelValue:e(o).bad_threshold,"onUpdate:modelValue":t[4]||(t[4]=a=>e(o).bad_threshold=a),type:"number",step:"0.01",placeholder:"Enter threshold value",class:"w-full"},null,8,["modelValue"]),t[13]||(t[13]=r("p",{class:"text-sm text-muted-foreground"},' Values more than or equal to this threshold will be considered "bad". ',-1))])):v("",!0)]),r("div",oe,[s(e(k),{type:"button",onClick:t[5]||(t[5]=a=>f("cancel")),variant:"outline"},{default:l(()=>t[14]||(t[14]=[i(" Cancel ")])),_:1}),s(e(k),{type:"submit",disabled:e(o).processing},{default:l(()=>[e(o).processing?(n(),x(e(I),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):v("",!0),i(" "+_(e(o).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}))}});export{fe as _};
