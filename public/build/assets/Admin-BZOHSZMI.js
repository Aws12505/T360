import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-BoqS1NJK.js";import{_ as D}from"./Form.vue_vue_type_script_setup_true_lang-BcXAi8Jk.js";import{g as V}from"./vendor-vue-CX2lYCwr.js";import{_ as F,a as z,b as w,c as u,d as G,e as f}from"./TableRow.vue_vue_type_script_setup_true_lang-BEOVmLmh.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-D8N7iMlA.js";import{_ as j}from"./Card.vue_vue_type_script_setup_true_lang-BoKpLyfJ.js";import{_ as H}from"./CardHeader.vue_vue_type_script_setup_true_lang-DP10pkoB.js";import{_ as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-BblEC4LI.js";import{_ as L}from"./CardContent.vue_vue_type_script_setup_true_lang-CMp4m9t0.js";import{_ as T}from"./Badge.vue_vue_type_script_setup_true_lang-DnwceZBJ.js";import{r as h,c as Y,b as m,e as d,f as a,z as l,V as _,u as e,F as y,E,M as s,H as q,I as J,N as c}from"./vendor-V15tCYD7.js";import"./utils-mNqKJl5l.js";import"./vendor-ui-Bz5CVjPz.js";import"./Icon.vue_vue_type_script_setup_true_lang-BUfn1Nb5.js";import"./vendor-icons-BfFpU_zn.js";import"./app-DcxYiYPp.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CIZWYdx8.js";import"./Label.vue_vue_type_script_setup_true_lang-B5KT1zkt.js";const K={class:"container w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},O={class:"flex flex-col sm:flex-row justify-between items-center mb-6"},P={key:0},Q={class:"overflow-x-auto"},R={key:2,class:"text-center py-12"},ge={__name:"Admin",props:{thresholds:Array,metrics:Array,tenantSlug:{type:String,default:null}},setup(B){const o=B,{tenantSlug:i}=o,M=[{title:i?"Dashboard":"Admin Dashboard",href:i?route("dashboard",{tenantSlug:i}):route("admin.dashboard")},{title:"Safety Thresholds",href:route("sms-coaching.edit",{tenantSlug:i})}],p=h(!1),g=h({}),b=h(!1),$=n=>{switch(n){case!0:return"success";case!1:return"destructive";default:return"outline"}};function N(n){g.value=n,b.value=!1,p.value=!0}function S(){g.value={metric_name:"",good_threshold:null,bad_threshold:null,good_enabled:!0,bad_enabled:!0},b.value=!0,p.value=!0}function k(){p.value=!1,g.value={}}function C(n){return n??"-"}const v=Y(()=>{if(!o.metrics||!o.thresholds)return[];const n=o.thresholds.map(t=>t.metric_name);return o.metrics.filter(t=>!n.includes(t))});return(n,t)=>(d(),m(A,{breadcrumbs:M,tenantSlug:e(i)},{default:a(()=>[l(e(V),{title:"Safety Thresholds Management"}),_("div",K,[_("div",O,[t[1]||(t[1]=_("h1",{class:"text-2xl font-bold text-foreground"}," Safety Thresholds ",-1)),v.value.length>0?(d(),m(e(x),{key:0,onClick:S,variant:"default",class:"mt-4 sm:mt-0"},{default:a(()=>t[0]||(t[0]=[s(" Add New Threshold ")])),_:1})):E("",!0)]),p.value?(d(),y("div",P,[l(D,{tenantSlug:e(i),entry:g.value,isCreating:b.value,availableMetrics:v.value,onSaved:k,onCancel:k},null,8,["tenantSlug","entry","isCreating","availableMetrics"])])):o.thresholds&&o.thresholds.length>0?(d(),m(e(j),{key:1},{default:a(()=>[l(e(H),null,{default:a(()=>[l(e(I),null,{default:a(()=>t[2]||(t[2]=[s("Safety Thresholds")])),_:1})]),_:1}),l(e(L),null,{default:a(()=>[_("div",Q,[l(e(F),null,{default:a(()=>[l(e(z),null,{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(u),null,{default:a(()=>t[3]||(t[3]=[s("Metric")])),_:1}),l(e(u),null,{default:a(()=>t[4]||(t[4]=[s("Good Threshold")])),_:1}),l(e(u),null,{default:a(()=>t[5]||(t[5]=[s("Good Enabled")])),_:1}),l(e(u),null,{default:a(()=>t[6]||(t[6]=[s("Bad Threshold")])),_:1}),l(e(u),null,{default:a(()=>t[7]||(t[7]=[s("Bad Enabled")])),_:1}),l(e(u),{class:"text-right"},{default:a(()=>t[8]||(t[8]=[s("Actions")])),_:1})]),_:1})]),_:1}),l(e(G),null,{default:a(()=>[(d(!0),y(q,null,J(o.thresholds,r=>(d(),m(e(w),{key:r.id},{default:a(()=>[l(e(f),{class:"capitalize"},{default:a(()=>[s(c(r.metric_name.replace(/_/g," ")),1)]),_:2},1024),l(e(f),null,{default:a(()=>[s(c(C(r.good_threshold)),1)]),_:2},1024),l(e(f),null,{default:a(()=>[l(e(T),{variant:$(r.good_enabled)},{default:a(()=>[s(c(r.good_enabled?"Enabled":"Disabled"),1)]),_:2},1032,["variant"])]),_:2},1024),l(e(f),null,{default:a(()=>[s(c(C(r.bad_threshold)),1)]),_:2},1024),l(e(f),null,{default:a(()=>[l(e(T),{variant:$(r.bad_enabled)},{default:a(()=>[s(c(r.bad_enabled?"Enabled":"Disabled"),1)]),_:2},1032,["variant"])]),_:2},1024),l(e(f),{class:"text-right"},{default:a(()=>[l(e(x),{variant:"outline",size:"sm",onClick:U=>N(r)},{default:a(()=>t[9]||(t[9]=[s(" Edit ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})):(d(),y("div",R,[t[11]||(t[11]=_("h3",{class:"text-lg font-medium text-muted-foreground mb-4"},"No safety thresholds defined yet",-1)),v.value.length>0?(d(),m(e(x),{key:0,onClick:S,variant:"default"},{default:a(()=>t[10]||(t[10]=[s(" Create Your First Threshold ")])),_:1})):E("",!0)]))])]),_:1},8,["tenantSlug"]))}};export{ge as default};
