import{x as ge,W as fe,g as St}from"./vendor-vue-BsCVk3W_.js";import{_ as $t}from"./AppLayout.vue_vue_type_script_setup_true_lang-CBWDZp3W.js";import{d as Pe,r as S,c as E,w as dt,y as mt,N as pt,F as v,e as d,b as w,E as g,X as l,z as t,f as a,u as e,S as r,U as c,G as _e,ah as ft,C as L,Y as G,H as T,O as q,ai as qe,aj as we,ak as Vt,al as it,P as At,n as Dt,j as Ot}from"./vendor--q1ey8Ib.js";import{_ as u}from"./Icon.vue_vue_type_script_setup_true_lang-Cf3euL4G.js";import{_ as ye,a as be,b as j,c as M,d as ke,e as V}from"./TableRow.vue_vue_type_script_setup_true_lang-CyEhCbZI.js";import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang-CURKxeic.js";import{_ as Ve}from"./Card.vue_vue_type_script_setup_true_lang-D6lnctxv.js";import{_ as ct}from"./CardHeader.vue_vue_type_script_setup_true_lang-D36Fjuw_.js";import{_ as vt}from"./CardTitle.vue_vue_type_script_setup_true_lang-C7T0BrR7.js";import{_ as Ae}from"./CardContent.vue_vue_type_script_setup_true_lang-Bg8Ud8NP.js";import{_ as oe,a as de,b as ie,c as ue,d as me}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DBOy1nGk.js";import{_ as ce}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DB4EnxcN.js";import{_ as C}from"./Label.vue_vue_type_script_setup_true_lang-DXVzP2wd.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-D2siHqHg.js";import{_ as De,a as Oe,b as Ue}from"./AlertDescription.vue_vue_type_script_setup_true_lang-mn1DMMqr.js";import{_ as st}from"./SortIndicator-Djyqmfqp.js";import{_ as Ut}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as ut}from"./app-C2l3TcEW.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-tTsIgFyK.js";import"./vendor-ui-VCcvGdtT.js";import"./useInitials-DzeGKvtI.js";import"./vendor-icons-Cd5utPp1.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dc8NxSZT.js";const Mt={class:"w-full pt-6 md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-1 space-y-6"},Nt={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},Tt={class:"flex items-center gap-3"},It={class:"flex flex-wrap gap-3"},Ft={class:"relative"},zt={key:1,class:"absolute right-0 mt-1 w-48 rounded-md border bg-background shadow-lg z-10"},Bt={class:"py-1"},Et={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},qt=["href"],Pt={class:"flex justify-between items-center"},Lt={class:"text-sm hidden sm:inline"},Wt={class:"flex flex-col gap-6"},Rt={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},jt={class:"relative"},Qt={class:"relative"},Yt={class:"overflow-x-auto"},Gt={class:"flex items-center justify-center"},Ht=["checked"],Kt={class:"flex items-center space-x-1"},Zt={key:4,class:"ml-2"},Xt={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Jt={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},es={key:5,class:"ml-2 opacity-50"},ts={class:"flex flex-col items-center justify-center text-muted-foreground"},ss=["value"],ls={class:"flex space-x-2"},as={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},ns={class:"flex items-center gap-4 text-sm text-muted-foreground"},rs={class:"flex items-center gap-1"},os={class:"flex items-center gap-1"},ds={class:"relative"},is=["value"],us={class:"flex space-x-1"},ms={class:"flex items-center gap-2"},ps={key:0,class:"col-span-2 sm:col-span-1"},fs={class:"relative"},cs=["value"],vs={class:"col-span-2 sm:col-span-1"},xs={class:"col-span-2 sm:col-span-1"},gs={class:"relative"},ws={class:"col-span-2 sm:col-span-1"},ys={class:"relative"},bs={class:"col-span-2 sm:col-span-1"},ks={class:"relative"},_s={class:"col-span-2 sm:col-span-1"},hs={class:"col-span-2 sm:col-span-1"},Cs={class:"col-span-2 sm:col-span-1"},Ss={class:"relative"},$s={class:"col-span-2 sm:col-span-1"},Vs={class:"relative"},As={class:"col-span-2 sm:col-span-1"},Ds={class:"relative"},Os={class:"col-span-2 sm:col-span-1"},Us={class:"relative"},Ms={class:"col-span-2 sm:col-span-1"},Ns={class:"col-span-2 sm:col-span-1"},Ts={class:"col-span-2 sm:col-span-1"},Is={class:"relative"},Fs={class:"col-span-2 mt-4 flex justify-end gap-3"},zs=Pe({__name:"TrucksComponent",props:{entries:{},tenantSlug:{},SuperAdmin:{type:Boolean},tenants:{},perPage:{},permissions:{}},emits:["update:perPage"],setup(O,{emit:m}){const A=O,I=S({search:"",type:"",make:""}),z=S("truckid"),F=S("asc"),P=S(1),$=S(10),J=S(10),B=S([]),H=S(!1),R=S(""),U=S(""),K=S(!1),se=S(!1),Z=S(!1),y=S(null),ne=S(!1),le=S(!1),b=ge({id:null,truckid:null,type:"daycab",make:"international",fuel:"diesel",license:null,vin:"",tenant_id:A.SuperAdmin?"":null,status:"active",inspection_status:"good",inspection_expiry_date:new Date().toISOString().split("T")[0]}),ee=ge({csv_file:null}),ve=S(null),re=E(()=>A.entries.filter(x=>{var n,i;return!(I.value.search&&!String(x.truckid).includes(I.value.search)&&!(x.vin||"").toLowerCase().includes(I.value.search.toLowerCase())||I.value.type&&((n=x.type)==null?void 0:n.toLowerCase())!=I.value.type||I.value.make&&((i=x.make)==null?void 0:i.toLowerCase())!=I.value.make)})),h=E(()=>[...re.value].sort((x,n)=>{let i=x[z.value],N=n[z.value];return i==null?1:N==null?-1:(typeof i=="string"&&(i=i.toLowerCase(),N=N.toLowerCase()),i<N?F.value==="asc"?-1:1:i>N?F.value==="asc"?1:-1:0)})),f=E(()=>Math.ceil(h.value.length/$.value)),_=E(()=>{const x=(P.value-1)*$.value,n=x+$.value;return h.value.slice(x,n)}),X=E(()=>_.value.length>0&&_.value.every(x=>B.value.includes(x.id))),W=["truckid","type","make","fuel","license","vin","inspection_status","inspection_expiry_date","status"];dt(R,x=>x&&setTimeout(()=>R.value="",5e3)),dt($,x=>{J.value=x});function Ce(x){return x.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function xe(x){return x?new Date(x+"T00:00:00").toLocaleDateString():"—"}function Se(x,n){if(n==="inspection_status")return x.inspection_status==="good"?"Good":"Expired";if(n==="inspection_expiry_date")return xe(x[n]);if(n==="fuel"&&x.fuel==="cng")return"CNG";const i=x[n];return typeof i=="string"?i.charAt(0).toUpperCase()+i.slice(1):i}const he=()=>{P.value=1};function Me(){I.value={search:"",type:"",make:""},he()}function Le(x){z.value===x?F.value=F.value==="asc"?"desc":"asc":(z.value=x,F.value="asc")}const We=()=>{$.value=J.value,he()},Ne=x=>{x>=1&&x<=f.value&&(P.value=x)};function Re(x){x.target.checked?_.value.forEach(i=>{B.value.includes(i.id)||B.value.push(i.id)}):B.value=B.value.filter(i=>!_.value.some(N=>N.id===i))}function je(){b.reset(),b.clearErrors(),b.id=null,K.value=!0}function Qe(x){b.reset(),b.clearErrors(),b.id=x.id,b.truckid=x.truckid,b.type=x.type?x.type.toLowerCase():"",b.make=x.make?x.make.toLowerCase():"",b.fuel=x.fuel,b.license=x.license,b.vin=x.vin,b.status=x.status,b.tenant_id=x.tenant_id,b.inspection_status=x.inspection_status||"good",b.inspection_expiry_date=x.inspection_expiry_date||new Date().toISOString().split("T")[0],K.value=!0}function Fe(){K.value=!1}function $e(){const x={...b.data(),truckid:Number(b.truckid),license:Number(b.license)},n=b.id?"put":"post",i=b.id?A.SuperAdmin?route("truck.update.admin",[b.id]):route("truck.update",[A.tenantSlug,b.id]):route(A.SuperAdmin?"truck.store.admin":"truck.store",{tenantSlug:A.tenantSlug});ne.value=!0,b[n](i,{data:x,onSuccess:()=>{R.value=b.id?"Truck updated.":"Truck created.",Fe()},onError:()=>U.value="Save failed",onFinish:()=>ne.value=!1})}function Ye(x){y.value=x,se.value=!0}function Ge(){if(!y.value)return;const x=A.SuperAdmin?route("truck.destroy.admin",[y.value.id]):route("truck.destroy",[A.tenantSlug,y.value.id]);b.delete(x,{onSuccess:()=>{R.value="Deleted successfully",se.value=!1}})}function He(){B.value.length&&(Z.value=!0)}function Ke(){const x=route(A.SuperAdmin?"truck.destroyBulk.admin":"truck.destroyBulk",{tenantSlug:A.tenantSlug});ge({ids:B.value}).delete(x,{onSuccess:()=>{R.value=`${B.value.length} deleted`,B.value=[],Z.value=!1}})}function Ze(x){var i;const n=(i=x.target.files)==null?void 0:i[0];n&&(ee.csv_file=n,ee.post(route(A.SuperAdmin?"truck.import.admin":"truck.import",{tenantSlug:A.tenantSlug}),{forceFormData:!0,onSuccess:()=>R.value="Imported",onError:()=>U.value="Import failed"}))}function Xe(){var x,n;if(!_.value.length){U.value="No data to export";return}(x=ve.value)==null||x.setAttribute("action",route(A.SuperAdmin?"truck.export.admin":"truck.export",{tenantSlug:A.tenantSlug})),(n=ve.value)==null||n.submit()}const Je=E(()=>"/storage/upload-data-temps/Trucks Template.csv");mt(()=>{const x=n=>{H.value&&!n.target.closest(".relative")&&(H.value=!1)};document.addEventListener("click",x),pt(()=>document.removeEventListener("click",x))});const et=E(()=>{if(f.value<=7)return Array.from({length:f.value},(N,tt)=>tt+1);const x=[];x.push(1),P.value>3&&x.push("...");const n=Math.max(2,P.value-1),i=Math.min(f.value-1,P.value+1);for(let N=n;N<=i;N++)x.push(N);return P.value<f.value-2&&x.push("..."),f.value>1&&x.push(f.value),x}),te=E(()=>A.permissions.map(x=>x.name));return(x,n)=>(d(),v("div",Mt,[R.value?(d(),w(e(Ue),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"check_circle",class:"h-5 w-5 text-green-500"}),n[29]||(n[29]=r(" Success "))]),_:1}),t(e(Oe),null,{default:a(()=>[r(c(R.value),1)]),_:1})]),_:1})):g("",!0),U.value?(d(),w(e(Ue),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"alert_circle",class:"h-5 w-5"}),n[30]||(n[30]=r(" Error "))]),_:1}),t(e(Oe),null,{default:a(()=>[r(c(U.value),1)]),_:1})]),_:1})):g("",!0),l("div",Nt,[l("div",Tt,[t(u,{name:"truck",class:"h-6 w-6 text-primary hidden sm:block"}),n[31]||(n[31]=l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Truck Management",-1))]),l("div",It,[te.value.includes("trucks.create")?(d(),w(e(k),{key:0,onClick:je,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),n[32]||(n[32]=r(" Create New Truck "))]),_:1})):g("",!0),B.value.length&&te.value.includes("trucks.delete")?(d(),w(e(k),{key:1,onClick:He,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),r(" Delete Selected ("+c(B.value.length)+") ",1)]),_:1})):g("",!0),l("div",Ft,[te.value.includes("trucks.import")?(d(),w(e(k),{key:0,onClick:n[0]||(n[0]=i=>H.value=!H.value),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),n[33]||(n[33]=r(" Upload CSV ")),t(u,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1})):g("",!0),H.value?(d(),v("div",zt,[l("div",Bt,[l("label",Et,[n[34]||(n[34]=l("span",null,"Upload CSV File",-1)),l("input",{type:"file",class:"hidden",onChange:Ze,accept:".csv,.txt"},null,32)]),l("a",{href:Je.value,download:"",class:"block px-4 py-2 text-sm hover:bg-muted"},"Download Template",8,qt)])])):g("",!0)]),te.value.includes("trucks.export")?(d(),w(e(k),{key:2,onClick:_e(Xe,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),n[35]||(n[35]=r(" Download CSV "))]),_:1})):g("",!0)])]),t(e(Ve),{class:"shadow-sm border"},{default:a(()=>[t(e(ct),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:a(()=>[l("div",Pt,[t(e(vt),{class:"text-lg md:text-xl lg:text-2xl flex items-center gap-2"},{default:a(()=>[t(u,{name:"filter",class:"h-5 w-5 text-muted-foreground"}),n[36]||(n[36]=r(" Filters "))]),_:1}),t(e(k),{variant:"ghost",size:"sm",onClick:n[1]||(n[1]=i=>le.value=!le.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:a(()=>[l("span",Lt,c(le.value?"Hide Filters":"Show Filters"),1),t(u,{name:le.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(ft,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:a(()=>[le.value?(d(),w(e(Ae),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:a(()=>[l("div",Wt,[l("div",Rt,[l("div",null,[t(e(C),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"search",class:"h-4 w-4 text-muted-foreground"}),n[37]||(n[37]=r(" Search "))]),_:1}),t(e(Q),{id:"search",type:"text",modelValue:I.value.search,"onUpdate:modelValue":n[2]||(n[2]=i=>I.value.search=i),placeholder:"Search by truck ID or VIN...",onInput:he,class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"type",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[38]||(n[38]=r(" Type "))]),_:1}),l("div",jt,[L(l("select",{id:"type","onUpdate:modelValue":n[3]||(n[3]=i=>I.value.type=i),onChange:he,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[39]||(n[39]=[l("option",{value:""},"All Types",-1),l("option",{value:"daycab"},"Daycab",-1),l("option",{value:"sleepercab"},"Sleepercab",-1)]),544),[[G,I.value.type]]),n[40]||(n[40]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{for:"make",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[41]||(n[41]=r(" Make "))]),_:1}),l("div",Qt,[L(l("select",{id:"make","onUpdate:modelValue":n[4]||(n[4]=i=>I.value.make=i),onChange:he,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[42]||(n[42]=[l("option",{value:""},"All Makes",-1),l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),544),[[G,I.value.make]]),n[43]||(n[43]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),t(e(k),{onClick:Me,variant:"ghost",size:"sm",class:"self-start"},{default:a(()=>[t(u,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),n[44]||(n[44]=r(" Reset Filters "))]),_:1})])]),_:1})):g("",!0)]),_:1})]),_:1}),t(e(Ve),{class:"mx-auto max-w-[90vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:a(()=>[t(e(Ae),{class:"p-0"},{default:a(()=>[l("div",Yt,[t(e(ye),{class:"relative h-[500px] overflow-auto"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:a(()=>[te.value.includes("trucks.delete")?(d(),w(e(M),{key:0,class:"w-12"},{default:a(()=>[l("div",Gt,[l("input",{type:"checkbox",checked:X.value,onChange:Re,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Ht)])]),_:1})):g("",!0),x.SuperAdmin?(d(),w(e(M),{key:1,class:"font-semibold"},{default:a(()=>n[45]||(n[45]=[r("Company")])),_:1})):g("",!0),(d(),v(T,null,q(W,i=>t(e(M),{key:i,onClick:N=>Le(i),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Kt,[i==="inspection_status"?(d(),v(T,{key:0},[r("Annual Inspection Status")],64)):i==="inspection_expiry_date"?(d(),v(T,{key:1},[r("Annual Inspection Expiration Date")],64)):i==="status"?(d(),v(T,{key:2},[r("Status")],64)):(d(),v(T,{key:3},[r(c(Ce(i)),1)],64)),z.value===i?(d(),v("div",Zt,[F.value==="asc"?(d(),v("svg",Xt,n[46]||(n[46]=[l("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(d(),v("svg",Jt,n[47]||(n[47]=[l("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(d(),v("div",es,n[48]||(n[48]=[l("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("path",{d:"M8 10l4-4 4 4"}),l("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),te.value.includes("trucks.update")||te.value.includes("trucks.delete")?(d(),w(e(M),{key:2,class:"font-semibold"},{default:a(()=>n[49]||(n[49]=[r("Actions")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[_.value.length?g("",!0):(d(),w(e(j),{key:0},{default:a(()=>[t(e(V),{colspan:x.SuperAdmin?W.length+3:W.length+2,class:"py-8 text-center"},{default:a(()=>[l("div",ts,[t(u,{name:"search_x",class:"h-12 w-12 mb-2 opacity-30"}),n[50]||(n[50]=l("p",null,"No trucks found matching your criteria.",-1))])]),_:1},8,["colspan"])]),_:1})),(d(!0),v(T,null,q(_.value,i=>(d(),w(e(j),{key:i.id,class:"hover:bg-muted/50"},{default:a(()=>[te.value.includes("trucks.delete")?(d(),w(e(V),{key:0,class:"text-center"},{default:a(()=>[L(l("input",{type:"checkbox",value:i.id,"onUpdate:modelValue":n[5]||(n[5]=N=>B.value=N),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,ss),[[qe,B.value]])]),_:2},1024)):g("",!0),x.SuperAdmin?(d(),w(e(V),{key:1},{default:a(()=>{var N;return[r(c(((N=i.tenant)==null?void 0:N.name)||"—"),1)]}),_:2},1024)):g("",!0),(d(),v(T,null,q(W,N=>t(e(V),{key:N,class:"whitespace-nowrap"},{default:a(()=>[N==="status"?(d(),v("span",{key:0,class:we({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":i[N]==="active","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":i[N]==="inactive","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":i[N]==="Returned to AMZ"})},c(Se(i,N)),3)):N==="inspection_status"?(d(),v("span",{key:1,class:we({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":i[N]==="good","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":i[N]==="expired"})},c(i[N]==="good"?"Good":"Expired"),3)):(d(),v(T,{key:2},[r(c(Se(i,N)),1)],64))]),_:2},1024)),64)),te.value.includes("trucks.delete")||te.value.includes("trucks.update")?(d(),w(e(V),{key:2},{default:a(()=>[l("div",ls,[te.value.includes("trucks.update")?(d(),w(e(k),{key:0,variant:"warning",size:"sm",onClick:N=>Qe(i),class:"shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"pencil",class:"mr-1 h-4 w-4"}),n[51]||(n[51]=r(" Edit "))]),_:2},1032,["onClick"])):g("",!0),te.value.includes("trucks.delete")?(d(),w(e(k),{key:1,variant:"destructive",size:"sm",onClick:N=>Ye(i),class:"shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4"}),n[52]||(n[52]=r(" Delete "))]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",as,[l("div",ns,[l("span",rs,[t(u,{name:"list",class:"h-4 w-4"}),r(" Showing "+c(_.value.length)+" of "+c(h.value.length)+" entries ",1)]),l("span",os,[t(u,{name:"layout-grid",class:"h-4 w-4"}),n[53]||(n[53]=r(" Per page: "))]),l("div",ds,[L(l("select",{"onUpdate:modelValue":n[6]||(n[6]=i=>J.value=i),onChange:We,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(d(),v(T,null,q([10,25,50,100],i=>l("option",{key:i,value:i},c(i),9,is)),64))],544),[[G,J.value,void 0,{number:!0}]]),n[54]||(n[54]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",us,[t(e(k),{size:"sm",variant:"ghost",onClick:n[7]||(n[7]=i=>Ne(P.value-1)),disabled:P.value===1,class:"flex items-center gap-1"},{default:a(()=>[t(u,{name:"chevron-left",class:"h-4 w-4"}),n[55]||(n[55]=r(" Prev "))]),_:1},8,["disabled"]),(d(!0),v(T,null,q(et.value,i=>(d(),w(e(k),{key:i,size:"sm",variant:"ghost",onClick:N=>Ne(i),class:we({"border-primary bg-primary/10 text-primary font-medium":i===P.value})},{default:a(()=>[r(c(i),1)]),_:2},1032,["onClick","class"]))),128)),t(e(k),{size:"sm",variant:"ghost",onClick:n[8]||(n[8]=i=>Ne(P.value+1)),disabled:P.value===f.value,class:"flex items-center gap-1"},{default:a(()=>[n[56]||(n[56]=r(" Next ")),t(u,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})]),_:1}),t(e(me),{open:K.value,"onUpdate:open":n[24]||(n[24]=i=>K.value=i)},{default:a(()=>[t(e(oe),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:a(()=>[t(e(de),{class:"px-4 sm:px-6 border-b pb-4"},{default:a(()=>[l("div",ms,[t(u,{name:e(b).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(ie),{class:"text-lg sm:text-xl"},{default:a(()=>[r(c(e(b).id?"Edit Truck":"Create Truck"),1)]),_:1})]),t(e(ue),{class:"text-xs sm:text-sm mt-1"},{default:a(()=>[r("Fill in the details to "+c(e(b).id?"update":"create")+" a truck.",1)]),_:1})]),_:1}),l("form",{onSubmit:_e($e,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-4 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-5 sm:p-6"},[n[90]||(n[90]=l("div",{class:"col-span-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Basic Information")],-1)),x.SuperAdmin?(d(),v("div",ps,[t(e(C),{for:"tenant",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),n[57]||(n[57]=r(" Company Name "))]),_:1}),l("div",fs,[L(l("select",{id:"tenant","onUpdate:modelValue":n[9]||(n[9]=i=>e(b).tenant_id=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[n[58]||(n[58]=l("option",{value:""},"Select Company",-1)),(d(!0),v(T,null,q(x.tenants,i=>(d(),v("option",{key:i.id,value:i.id},c(i.name),9,cs))),128))],512),[[G,e(b).tenant_id]]),n[59]||(n[59]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):g("",!0),l("div",vs,[t(e(C),{for:"truckid",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),n[60]||(n[60]=r(" Truck ID "))]),_:1}),t(e(Q),{id:"truckid",modelValue:e(b).truckid,"onUpdate:modelValue":n[10]||(n[10]=i=>e(b).truckid=i),modelModifiers:{number:!0},type:"number",required:"",placeholder:"Enter truck ID number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",xs,[t(e(C),{for:"type",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[61]||(n[61]=r(" Type "))]),_:1}),l("div",gs,[L(l("select",{id:"type","onUpdate:modelValue":n[11]||(n[11]=i=>e(b).type=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[62]||(n[62]=[l("option",{value:"daycab"},"Daycab",-1),l("option",{value:"sleepercab"},"Sleepercab",-1)]),512),[[G,e(b).type]]),n[63]||(n[63]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ws,[t(e(C),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[64]||(n[64]=r(" Make "))]),_:1}),l("div",ys,[L(l("select",{id:"make","onUpdate:modelValue":n[12]||(n[12]=i=>e(b).make=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[65]||(n[65]=[l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),512),[[G,e(b).make]]),n[66]||(n[66]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[91]||(n[91]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Additional Information")],-1)),l("div",bs,[t(e(C),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[67]||(n[67]=r(" Fuel "))]),_:1}),l("div",ks,[L(l("select",{id:"fuel","onUpdate:modelValue":n[13]||(n[13]=i=>e(b).fuel=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[68]||(n[68]=[l("option",{value:"diesel"},"Diesel",-1),l("option",{value:"cng"},"CNG",-1)]),512),[[G,e(b).fuel]]),n[69]||(n[69]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",_s,[t(e(C),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[70]||(n[70]=r(" License "))]),_:1}),t(e(Q),{id:"license",modelValue:e(b).license,"onUpdate:modelValue":n[14]||(n[14]=i=>e(b).license=i),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",hs,[t(e(C),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[71]||(n[71]=r(" VIN "))]),_:1}),t(e(Q),{id:"vin",modelValue:e(b).vin,"onUpdate:modelValue":n[15]||(n[15]=i=>e(b).vin=i),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[92]||(n[92]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),l("div",Cs,[t(e(C),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[72]||(n[72]=r(" Annual Inspection Status "))]),_:1}),l("div",Ss,[L(l("select",{id:"inspection_status","onUpdate:modelValue":n[16]||(n[16]=i=>e(b).inspection_status=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[73]||(n[73]=[l("option",{value:"good"},"Good",-1),l("option",{value:"expired"},"Expired",-1)]),512),[[G,e(b).inspection_status]]),n[74]||(n[74]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",$s,[t(e(C),{for:"status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),n[75]||(n[75]=r(" Status "))]),_:1}),l("div",Vs,[L(l("select",{id:"status","onUpdate:modelValue":n[17]||(n[17]=i=>e(b).status=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[76]||(n[76]=[l("option",{value:"active"},"Active",-1),l("option",{value:"inactive"},"Inactive",-1),l("option",{value:"Returned to AMZ"},"Returned to AMZ",-1)]),512),[[G,e(b).status]]),n[77]||(n[77]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",As,[t(e(C),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[78]||(n[78]=r(" Make "))]),_:1}),l("div",Ds,[L(l("select",{id:"make","onUpdate:modelValue":n[18]||(n[18]=i=>e(b).make=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[79]||(n[79]=[l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),512),[[G,e(b).make]]),n[80]||(n[80]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[93]||(n[93]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Additional Information")],-1)),l("div",Os,[t(e(C),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[81]||(n[81]=r(" Fuel "))]),_:1}),l("div",Us,[L(l("select",{id:"fuel","onUpdate:modelValue":n[19]||(n[19]=i=>e(b).fuel=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[82]||(n[82]=[l("option",{value:"diesel"},"Diesel",-1),l("option",{value:"cng"},"CNG",-1)]),512),[[G,e(b).fuel]]),n[83]||(n[83]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Ms,[t(e(C),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[84]||(n[84]=r(" License "))]),_:1}),t(e(Q),{id:"license",modelValue:e(b).license,"onUpdate:modelValue":n[20]||(n[20]=i=>e(b).license=i),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",Ns,[t(e(C),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[85]||(n[85]=r(" VIN "))]),_:1}),t(e(Q),{id:"vin",modelValue:e(b).vin,"onUpdate:modelValue":n[21]||(n[21]=i=>e(b).vin=i),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[94]||(n[94]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),l("div",Ts,[t(e(C),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(u,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[86]||(n[86]=r(" Annual Inspection Status "))]),_:1}),l("div",Is,[L(l("select",{id:"inspection_status","onUpdate:modelValue":n[22]||(n[22]=i=>e(b).inspection_status=i),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[87]||(n[87]=[l("option",{value:"good"},"Good",-1),l("option",{value:"expired"},"Expired",-1)]),512),[[G,e(b).inspection_status]]),n[88]||(n[88]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Fs,[t(e(k),{type:"button",variant:"outline",onClick:n[23]||(n[23]=i=>K.value=!1),class:"transition-all hover:shadow-sm"},{default:a(()=>[t(u,{name:"x",class:"mr-2 h-4 w-4"}),n[89]||(n[89]=r(" Cancel "))]),_:1}),t(e(k),{type:"submit",variant:"default",class:"transition-all hover:shadow-sm"},{default:a(()=>[t(u,{name:e(b).id?"pencil":"plus",class:"mr-2 h-4 w-4"},null,8,["name"]),r(" "+c(e(b).id?"Update":"Create"),1)]),_:1})])],32)]),_:1})]),_:1},8,["open"]),t(e(me),{open:se.value,"onUpdate:open":n[26]||(n[26]=i=>se.value=i)},{default:a(()=>[t(e(oe),null,{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(ie),null,{default:a(()=>n[95]||(n[95]=[r("Confirm Deletion")])),_:1}),t(e(ue),null,{default:a(()=>n[96]||(n[96]=[r("Are you sure you want to delete this truck? This action cannot be undone.")])),_:1})]),_:1}),t(e(ce),{class:"mt-4"},{default:a(()=>[t(e(k),{variant:"outline",onClick:n[25]||(n[25]=i=>se.value=!1)},{default:a(()=>n[97]||(n[97]=[r("Cancel")])),_:1}),t(e(k),{variant:"destructive",onClick:Ge},{default:a(()=>n[98]||(n[98]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(me),{open:Z.value,"onUpdate:open":n[28]||(n[28]=i=>Z.value=i)},{default:a(()=>[t(e(oe),null,{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(ie),null,{default:a(()=>n[99]||(n[99]=[r("Confirm Bulk Deletion")])),_:1}),t(e(ue),null,{default:a(()=>[r("Are you sure you want to delete "+c(B.value.length)+" trucks? This action cannot be undone.",1)]),_:1})]),_:1}),t(e(ce),{class:"mt-4"},{default:a(()=>[t(e(k),{variant:"outline",onClick:n[27]||(n[27]=i=>Z.value=!1)},{default:a(()=>n[100]||(n[100]=[r("Cancel")])),_:1}),t(e(k),{variant:"destructive",onClick:Ke},{default:a(()=>n[101]||(n[101]=[r("Delete Selected")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l("form",{ref_key:"exportForm",ref:ve,method:"GET",class:"hidden"},null,512)]))}}),Bs={class:"w-full pt-6 md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-1 space-y-6"},Es={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},qs={class:"flex items-center gap-3"},Ps={class:"flex flex-wrap gap-3"},Ls={class:"relative"},Ws={key:1,class:"absolute right-0 mt-1 w-48 rounded-md border bg-background shadow-md z-10 animate-in fade-in duration-200"},Rs={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted transition-colors"},js={key:2,class:"mb-6"},Qs={class:"rounded-md border-l-4 border-red-500 bg-red-50 p-4 shadow-sm dark:border-red-400 dark:bg-red-900/30"},Ys={class:"flex items-center"},Gs={class:"flex-shrink-0"},Hs={class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-800"},Ks={class:"ml-3"},Zs={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Xs={class:"mt-2"},Js={class:"flex flex-wrap gap-2"},el={key:0,class:"text-sm text-muted-foreground mt-2"},tl={key:0},sl={key:1},ll={key:2},al={key:3,class:"ml-1"},nl={key:3,class:"mx-auto mb-6 grid max-w-[95vw] grid-cols-1 gap-4 md:max-w-[64vw] md:grid-cols-2 lg:max-w-full"},rl={class:"rounded-lg border bg-card shadow-sm"},ol={class:"p-4"},dl={class:"space-y-3"},il={class:"text-sm"},ul={key:0,class:"text-center text-muted-foreground"},ml={class:"rounded-lg border bg-card shadow-sm"},pl={class:"p-4"},fl={class:"space-y-3"},cl={class:"text-sm"},vl={key:0,class:"text-center text-muted-foreground"},xl={key:4,class:"mx-auto mb-6 max-w-[90vw] overflow-x-auto rounded-lg border bg-card p-4 shadow-sm md:max-w-[64vw] lg:max-w-full"},gl={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},wl={key:5,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card shadow-sm md:max-w-[64vw] lg:max-w-full"},yl={class:"flex items-center justify-between border-b p-4"},bl={class:"flex items-start justify-between"},kl={class:"flex flex-col items-center space-y-1"},_l={key:0,class:"mb-6 rounded-lg border bg-card shadow-sm"},hl={class:"overflow-x-auto"},Cl={class:"max-h-60 overflow-y-auto sm:max-h-80 md:max-h-96"},Sl={key:6,class:"mb-6 rounded-lg border bg-card shadow-sm"},$l={class:"flex justify-between items-center"},Vl={class:"flex items-center gap-2"},Al={key:0,class:"ml-4 flex flex-wrap gap-2"},Dl={class:"text-sm hidden sm:inline"},Ol={class:"flex flex-col gap-6"},Ul={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},Ml={class:"relative"},Nl=["value"],Tl={class:"relative"},Il=["value"],Fl={class:"flex justify-end space-x-2"},zl={class:"overflow-x-auto"},Bl={class:"flex items-center justify-center"},El=["checked"],ql={class:"flex items-center space-x-1"},Pl={class:"flex items-center space-x-1"},Ll={class:"flex items-center space-x-1"},Wl={class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},Rl=["value"],jl={key:0},Ql={key:0},Yl={key:1},Gl={class:"flex space-x-2"},Hl={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},Kl={class:"flex items-center gap-4 text-sm text-muted-foreground"},Zl={class:"flex items-center gap-1"},Xl={class:"flex items-center gap-1"},Jl={class:"relative"},ea=["value"],ta={class:"flex space-x-1"},sa=["innerHTML"],la={key:8,class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},aa={class:"flex items-center gap-2"},na={class:"max-h-[70vh] overflow-y-auto px-4 sm:px-6"},ra={key:0,class:"col-span-2 mb-1"},oa={class:"relative"},da=["value"],ia={class:"col-span-2 border-b pb-1 mb-2 flex items-center gap-2"},ua={class:"grid grid-cols-2 gap-3 col-span-2"},ma={class:"relative"},pa=["value"],fa={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},ca={class:"col-span-2"},va={class:"flex flex-wrap gap-1 mb-2 bg-muted/30 p-2 rounded-md min-h-[40px]"},xa=["onClick"],ga={key:0,class:"text-muted-foreground text-sm italic"},wa={class:"relative"},ya=["value"],ba={class:"col-span-2"},ka={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},_a={class:"grid grid-cols-2 gap-3 col-span-2"},ha={class:"relative"},Ca=["value"],Sa={class:"relative"},$a=["value"],Va={class:"relative"},Aa={class:"grid grid-cols-2 gap-3 col-span-2"},Da={class:"relative"},Oa={class:"flex items-center space-x-2"},Ua={key:1,class:"col-span-2"},Ma={class:"border-b pb-1 mb-2 mt-1 flex items-center gap-2"},Na={class:"flex items-center space-x-2"},Ta={key:0,class:"mt-2"},Ia={class:"space-y-4 sm:space-y-6"},Fa={class:"space-y-1 sm:space-y-2"},za={class:"rounded-md border"},Ba={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Ea={key:0,class:"ml-1 text-xs text-red-500"},qa={class:"flex space-x-1 sm:space-x-2"},Pa={class:"space-y-4 sm:space-y-6"},La={class:"space-y-1 sm:space-y-2"},Wa={class:"overflow-hidden rounded-md border"},Ra={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},ja={key:0,class:"ml-1 text-xs text-red-500"},Qa={class:"flex space-x-1 sm:space-x-2"},Ya={class:"space-y-4 sm:space-y-6"},Ga={class:"space-y-1 sm:space-y-2"},Ha={class:"overflow-hidden rounded-md border"},Ka={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Za={key:0,class:"ml-1 text-xs text-red-500"},Xa={class:"flex space-x-1 sm:space-x-2"},Ja={class:"max-h-[60vh] overflow-x-auto overflow-y-auto"},en={class:"flex items-center gap-2"},tn={key:1,class:"py-8 text-center text-muted-foreground"},sn="/storage/upload-data-temps/Repair Orders Template.csv",ln=Pe({__name:"RepairOrdersComponent",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({search:"",vendor_id:"",status_id:""})},perPage:{type:Number,default:10},openedComponent:{type:String,default:"trucks"},permissions:{type:Array,default:()=>[]}},setup(O){const m=O,A=S({...m.filters,dateFilter:m.dateFilter}),I=S(m.perPage),z=S([]),F=S(!1),P=S(""),$=S(""),J=S(!1),B=S(!1),H=S(!1),R=S(!1),U=S(!1),K=S(!1),se=S(!1),Z=S("Create"),y=ge({id:null,tenant_id:m.SuperAdmin?"":null,ro_number:"",ro_open_date:"",ro_close_date:"",truck_id:null,vendor_id:null,wo_number:"",wo_status_id:null,invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),ne=ge({concern:""}),le=ge({vendor_name:""}),b=ge({name:""}),ee=E(()=>m.SuperAdmin),ve=E(()=>m.repairOrders.data.length>0),re=E(()=>ve.value&&m.repairOrders.data.every(p=>z.value.includes(p.id))),h=[{label:"Yesterday",value:"yesterday"},{label:"WTD",value:"current-week"},{label:"T6W",value:"6w"},{label:"Quarterly",value:"quarterly"}],f=p=>{if(!p)return"";const s=p.split("-");if(s.length!==3)return p;const[Y,pe,o]=s;return`${Number(pe)}/${Number(o)}/${Y}`};function _(p){return p?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p):"$0.00"}function X(p){A.value.dateFilter=p,W()}function W(){const p=m.SuperAdmin?"repair_orders.index.admin":"repair_orders.index",s={...m.SuperAdmin?{}:{tenantSlug:m.tenantSlug},...A.value,perPage:I.value,dateFilter:A.value.dateFilter,openedComponent:"repairOrders"};fe.visit(route(p,s),{only:["repairOrders","filters","perPage","dateFilter","weekNumber","startWeekNumber","endWeekNumber","year","workOrdersByTruck","workOrderByAreasOfConcern","openedComponent"]})}function Ce(){A.value={...A.value,search:"",vendor_id:"",status_id:""},W()}const xe=S({column:"ro_number",direction:"asc"});function Se(p){xe.value.column===p?xe.value.direction=xe.value.direction==="asc"?"desc":"asc":xe.value={column:p,direction:"asc"},W()}function he(){W()}function Me(p){if(p){const s=new URL(p),Y=s.origin+s.pathname;fe.get(Y,{...A.value,perPage:I.value,dateFilter:A.value.dateFilter,openedComponent:"repairOrders",page:s.searchParams.get("page")||1},{preserveScroll:!0})}}function Le(p){const s=p.target.checked;z.value=s?m.repairOrders.data.map(Y=>Y.id):[]}function We(p){const s=p.target.files[0];if(!s)return;const Y=new FormData;Y.append("file",s);const pe=m.tenantSlug?route("repair_orders.import",{tenantSlug:m.tenantSlug}):route("repair_orders.import.admin");fe.post(pe,Y,{onSuccess:()=>{P.value="Imported",p.target.value=null}})}function Ne(){if(!ve.value){$.value="No data";return}window.location.href=m.tenantSlug?route("repair_orders.export",{tenantSlug:m.tenantSlug}):route("repair_orders.export.admin")}function Re(){y.reset(),Z.value="Create",B.value=!0}function je(p){y.reset(),y.reset(),y.id=p.id,y.tenant_id=p.tenant_id,y.ro_number=p.ro_number,y.ro_open_date=p.ro_open_date,y.ro_close_date=p.ro_close_date||"",y.truck_id=p.truck_id,y.vendor_id=p.vendor_id,y.wo_number=p.wo_number,y.wo_status_id=p.wo_status_id,y.invoice=p.invoice||"",y.invoice_amount=p.invoice_amount||"",y.invoice_received=!!p.invoice_received,y.on_qs=p.on_qs||"no",y.qs_invoice_date=p.qs_invoice_date||"",y.disputed=!!p.disputed,y.dispute_outcome=p.dispute_outcome||"",y.repairs_made=p.repairs_made||"",y.area_of_concerns=[],p.areas_of_concern&&Array.isArray(p.areas_of_concern)&&(y.area_of_concerns=p.areas_of_concern.map(s=>s.id)),Z.value="Update",B.value=!0}function Qe(){y.reset(),B.value=!1}function Fe(){const p=Z.value==="Update"?m.tenantSlug?route("repair_orders.update",[m.tenantSlug,y.id]):route("repair_orders.update.admin",y.id):m.tenantSlug?route("repair_orders.store",{tenantSlug:m.tenantSlug}):route("repair_orders.store.admin");y[Z.value==="Update"?"put":"post"](p,{onSuccess:()=>{P.value=`${Z.value}d!`,B.value=!1}})}let $e=null;function Ye(p){$e=p,H.value=!0}function Ge(){if($e===null)return;const p=m.tenantSlug?route("repair_orders.destroy",[m.tenantSlug,$e]):route("repair_orders.destroy.admin",$e);fe.delete(p,{onSuccess:()=>{P.value="Deleted",H.value=!1}})}function He(){R.value=!0}function Ke(){const p=m.tenantSlug?route("repair_orders.destroyBulk",{tenantSlug:m.tenantSlug}):route("repair_orders.destroyBulk.admin");ge({ids:z.value}).delete(p,{onSuccess:()=>{P.value=`${z.value.length} deleted`,z.value=[],R.value=!1}})}function Ze(){ne.reset(),U.value=!0}function Xe(){ne.post(route("area_of_concerns.store.admin"),{onSuccess:()=>ne.reset()})}function Je(p){fe.delete(route("area_of_concerns.destroy.admin",p))}function et(p){fe.post(route("area_of_concerns.restore.admin",p))}function te(){le.reset(),K.value=!0}function x(){le.post(route("vendors.store.admin"),{onSuccess:()=>le.reset()})}function n(p){fe.delete(route("vendors.destroy.admin",p))}function i(p){fe.post(route("vendors.restore.admin",p))}function N(){b.reset(),se.value=!0}function tt(){b.post(route("wo_statuses.store.admin"),{onSuccess:()=>b.reset()})}function xt(p){fe.delete(route("wo_statuses.destroy.admin",p))}function gt(p){fe.post(route("wo_statuses.restore.admin",p))}const wt=E(()=>m.canceledQSInvoices.length>0),ze=S(!1),yt=E(()=>Object.fromEntries(m.areasOfConcern.map(p=>[p.id,p.concern]))),bt=E(()=>m.areasOfConcern.filter(p=>!y.area_of_concerns.includes(p.id)));function kt(p){const s=Number(p.target.value);s&&!y.area_of_concerns.includes(s)&&y.area_of_concerns.push(s),p.target.value=""}function _t(p){y.area_of_concerns=y.area_of_concerns.filter(s=>s!==p)}const lt=E(()=>(m.dateFilter==="yesterday"||m.dateFilter==="current-week")&&m.weekNumber&&m.year?`Week ${m.weekNumber}, ${m.year}`:(m.dateFilter==="6w"||m.dateFilter==="quarterly")&&m.startWeekNumber&&m.endWeekNumber&&m.year?`Weeks ${m.startWeekNumber}-${m.endWeekNumber}, ${m.year}`:"");mt(()=>{const p=s=>{J.value&&!s.target.closest(".relative")&&(J.value=!1)};document.addEventListener("click",p),pt(()=>document.removeEventListener("click",p))}),setTimeout(()=>P.value="",5e3);const at=E(()=>(m.workOrderByAreasOfConcern||[]).slice(0,5));E(()=>m.outstandingInvoices.reduce((p,s)=>{const Y=Number(s.invoice_amount)||0;return p+Y},0));const nt=E(()=>(m.workOrdersByTruck||[]).slice(0,5)),Be=S(null),Ee=S(null),Te=S(!1),Ie=E(()=>m.outstandingInvoices.filter(p=>{const s=Be.value!=null?Number(p.invoice_amount)>=Be.value:!0,Y=Ee.value?new Date(p.qs_invoice_date)>new Date(Ee.value):!0;return s&&Y})),ht=E(()=>Ie.value.reduce((p,s)=>p+Number(s.invoice_amount||0),0)),ae=E(()=>m.permissions.map(p=>p.name)),rt=E(()=>{const p=[];A.value.search&&p.push(`Search: "${A.value.search}"`);const s=m.vendors.find(pe=>pe.id==A.value.vendor_id);s&&p.push(`Vendor: ${s.vendor_name}`);const Y=m.woStatuses.find(pe=>pe.id==A.value.status_id);return Y&&p.push(`Status: ${Y.name}`),p});return(p,s)=>{var pe;const Y=Vt("Badge");return d(),v("div",Bs,[P.value?(d(),w(e(Ue),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"check_circle",class:"h-5 w-5 text-green-500"}),s[49]||(s[49]=r(" Success "))]),_:1}),t(e(Oe),null,{default:a(()=>[r(c(P.value),1)]),_:1})]),_:1})):g("",!0),$.value?(d(),w(e(Ue),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),{class:"flex items-center gap-2"},{default:a(()=>[t(u,{name:"alert_circle",class:"h-5 w-5"}),s[50]||(s[50]=r(" Error "))]),_:1}),t(e(Oe),null,{default:a(()=>[r(c($.value),1)]),_:1})]),_:1})):g("",!0),l("div",Es,[l("div",qs,[t(u,{name:"clipboard-list",class:"h-6 w-6 text-primary hidden sm:block"}),s[51]||(s[51]=l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Repair Orders",-1))]),l("div",Ps,[ae.value.includes("repair-orders.create")?(d(),w(e(k),{key:0,onClick:Re,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),s[52]||(s[52]=r(" Create New "))]),_:1})):g("",!0),z.value.length&&ae.value.includes("repair-orders.delete")?(d(),w(e(k),{key:1,onClick:He,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),r(" Delete Selected ("+c(z.value.length)+") ",1)]),_:1})):g("",!0),ee.value?(d(),w(e(k),{key:2,onClick:Ze,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[53]||(s[53]=r(" Areas "))]),_:1})):g("",!0),ee.value?(d(),w(e(k),{key:3,onClick:te,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[54]||(s[54]=r(" Vendors "))]),_:1})):g("",!0),ee.value?(d(),w(e(k),{key:4,onClick:N,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[55]||(s[55]=r(" Statuses "))]),_:1})):g("",!0),l("div",Ls,[ae.value.includes("repair-orders.import")?(d(),w(e(k),{key:0,onClick:s[0]||(s[0]=o=>J.value=!J.value),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),s[56]||(s[56]=r(" Upload CSV ")),t(u,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1})):g("",!0),J.value?(d(),v("div",Ws,[l("label",Rs,[s[57]||(s[57]=l("span",null,"Upload CSV",-1)),l("input",{type:"file",class:"hidden",onChange:We,accept:".csv"},null,32)]),l("a",{href:sn,download:"",class:"block px-4 py-2 text-sm hover:bg-muted transition-colors"},"Download Template")])):g("",!0)]),ae.value.includes("repair-orders.export")?(d(),w(e(k),{key:5,onClick:_e(Ne,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(u,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),s[58]||(s[58]=r(" Download CSV "))]),_:1})):g("",!0)])]),wt.value&&!O.SuperAdmin&&ae.value.includes("repair-orders.update")?(d(),v("div",js,[l("div",Qs,[l("div",Ys,[l("div",Gs,[l("div",Hs,[t(u,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),l("div",Ks,[s[60]||(s[60]=l("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),l("div",Zs,c(((pe=m.canceledQSInvoices)==null?void 0:pe.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),l("div",Xs,[t(e(k),{onClick:s[1]||(s[1]=o=>ze.value=!0),variant:"destructive",size:"sm"},{default:a(()=>s[59]||(s[59]=[r(" View Details ")])),_:1})])])])])])):g("",!0),t(e(Ve),{class:"shadow-sm border bg-card"},{default:a(()=>[t(e(Ae),{class:"p-3 md:p-4"},{default:a(()=>[l("div",Js,[(d(),v(T,null,q(h,o=>t(e(k),{key:o.value,size:"sm",variant:"outline",class:we({"border-primary bg-primary/10 text-primary":A.value.dateFilter===o.value}),onClick:D=>X(o.value)},{default:a(()=>[r(c(o.label),1)]),_:2},1032,["class","onClick"])),64))]),O.dateRange?(d(),v("div",el,[O.dateFilter==="yesterday"&&O.dateRange.start?(d(),v("span",tl," Showing data from "+c(f(O.dateRange.start)),1)):O.dateRange.start&&O.dateRange.end?(d(),v("span",sl," Showing data from "+c(f(O.dateRange.start))+" to "+c(f(O.dateRange.end)),1)):(d(),v("span",ll,c(O.dateRange.label),1)),lt.value?(d(),v("span",al,"("+c(lt.value)+")",1)):g("",!0)])):g("",!0)]),_:1})]),_:1}),(O.dateFilter==="quarterly"||O.dateFilter==="6w")&&!O.SuperAdmin?(d(),v("div",nl,[l("div",rl,[s[62]||(s[62]=l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Top 5 Frequent Repairs")],-1)),l("div",ol,[l("ul",dl,[s[61]||(s[61]=l("div",{class:"flex items-center justify-between"},[l("span",{class:"text-sm"},"Parts:"),l("span",{class:"text-sm"},"Work Orders:")],-1)),(d(!0),v(T,null,q(at.value,(o,D)=>(d(),v("li",{key:D,class:"flex items-center justify-between pr-4"},[l("span",il,c(o.concern),1),t(Y,{variant:"outline"},{default:a(()=>[r(c(o.count),1)]),_:2},1024)]))),128)),at.value.length===0?(d(),v("li",ul,"No data available")):g("",!0)])])]),l("div",ml,[s[64]||(s[64]=l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Top 5 Frequently Repaired Tractors")],-1)),l("div",pl,[l("ul",fl,[s[63]||(s[63]=l("div",{class:"flex items-center justify-between"},[l("span",{class:"text-sm"},"Asset ID:"),l("span",{class:"text-sm"},"Work Orders:")],-1)),(d(!0),v(T,null,q(nt.value,(o,D)=>(d(),v("li",{key:D,class:"flex items-center justify-between pr-4"},[l("span",cl,c(o.truckid),1),t(Y,{variant:"outline"},{default:a(()=>[r(c(o.work_order_count),1)]),_:2},1024)]))),128)),nt.value.length===0?(d(),v("li",vl,"No data available")):g("",!0)])])])])):g("",!0),O.SuperAdmin?g("",!0):(d(),v("div",xl,[s[67]||(s[67]=l("h3",{class:"mb-4 text-lg font-semibold"},"Outstanding Invoices Filter",-1)),l("div",gl,[l("div",null,[t(e(C),{for:"min-invoice-amount"},{default:a(()=>s[65]||(s[65]=[r("Minimum Invoice Amount ($)")])),_:1}),t(e(Q),{id:"min-invoice-amount",modelValue:Be.value,"onUpdate:modelValue":s[2]||(s[2]=o=>Be.value=o),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"Enter minimum amount",class:"mt-1"},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"outstanding-since"},{default:a(()=>s[66]||(s[66]=[r("Outstanding Since")])),_:1}),t(e(Q),{id:"outstanding-since",modelValue:Ee.value,"onUpdate:modelValue":s[3]||(s[3]=o=>Ee.value=o),type:"date",class:"mt-1"},null,8,["modelValue"])])])])),!O.SuperAdmin&&Ie.value.length>0?(d(),v("div",wl,[l("div",yl,[s[68]||(s[68]=l("h3",{class:"text-lg font-semibold"},"Outstanding Invoices",-1)),l("div",bl,[l("div",kl,[t(Y,{variant:"outline",class:"text-sm"},{default:a(()=>[r(c(Ie.value.length)+" invoices ",1)]),_:1}),t(Y,{variant:"outline",class:"text-sm"},{default:a(()=>[r(" total: $"+c(ht.value.toFixed(2)),1)]),_:1})]),t(e(k),{variant:"ghost",size:"sm",onClick:s[4]||(s[4]=o=>Te.value=!Te.value),class:"ml-4 mt-1"},{default:a(()=>[r(c(Te.value?"Hide Invoices":"Show Invoices")+" ",1),t(u,{name:Te.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),Te.value?(d(),v("div",_l,[l("div",hl,[l("div",Cl,[t(e(ye),{class:"min-w-full"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),null,{default:a(()=>[t(e(M),null,{default:a(()=>s[69]||(s[69]=[r("RO Number")])),_:1}),t(e(M),null,{default:a(()=>s[70]||(s[70]=[r("Vendor")])),_:1}),t(e(M),null,{default:a(()=>s[71]||(s[71]=[r("Week")])),_:1}),t(e(M),{class:"text-right"},{default:a(()=>s[72]||(s[72]=[r("Amount")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[(d(!0),v(T,null,q(Ie.value,o=>(d(),w(e(j),{key:o.ro_number},{default:a(()=>[t(e(V),null,{default:a(()=>[r(c(o.ro_number),1)]),_:2},1024),t(e(V),null,{default:a(()=>[r(c(o.vendor_name),1)]),_:2},1024),t(e(V),null,{default:a(()=>[r("W"+c(o.week_number)+"/"+c(o.year),1)]),_:2},1024),t(e(V),{class:"text-right"},{default:a(()=>[r(c(_(o.invoice_amount)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):g("",!0)])):g("",!0),!O.SuperAdmin&&Ie.value.length===0?(d(),v("div",Sl,s[73]||(s[73]=[l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Outstanding Invoices")],-1),l("div",{class:"p-4 text-center text-muted-foreground"},"No outstanding invoices match the current criteria",-1)]))):g("",!0),t(e(Ve),{class:"shadow-sm border"},{default:a(()=>[t(e(ct),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:a(()=>[l("div",$l,[l("div",Vl,[t(e(vt),{class:"text-lg md:text-xl lg:text-2xl"},{default:a(()=>s[74]||(s[74]=[r("Filters")])),_:1}),!F.value&&rt.value.length?(d(),v("div",Al,[(d(!0),v(T,null,q(rt.value,(o,D)=>(d(),v("div",{key:D,class:"inline-flex items-center rounded-full bg-muted px-2.5 py-0.5 text-xs font-semibold"},c(o),1))),128))])):g("",!0)]),t(e(k),{variant:"ghost",size:"sm",onClick:s[5]||(s[5]=o=>F.value=!F.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:a(()=>[l("span",Dl,c(F.value?"Hide Filters":"Show Filters"),1),t(u,{name:F.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(ft,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:a(()=>[F.value?(d(),w(e(Ae),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:a(()=>[l("div",Ol,[l("div",Ul,[l("div",null,[t(e(C),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"search",class:"h-4 w-4 text-muted-foreground"}),s[75]||(s[75]=r(" Search "))]),_:1}),t(e(Q),{id:"search",type:"text",modelValue:A.value.search,"onUpdate:modelValue":s[6]||(s[6]=o=>A.value.search=o),placeholder:"RO#, Invoice...",class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"vendor",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),s[76]||(s[76]=r(" Vendor "))]),_:1}),l("div",Ml,[L(l("select",{id:"vendor","onUpdate:modelValue":s[7]||(s[7]=o=>A.value.vendor_id=o),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s[77]||(s[77]=l("option",{value:""},"All Vendors",-1)),(d(!0),v(T,null,q(O.vendors,o=>(d(),v("option",{key:o.id,value:o.id},c(o.vendor_name),9,Nl))),128))],512),[[G,A.value.vendor_id]]),s[78]||(s[78]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{for:"status",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(u,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),s[79]||(s[79]=r(" Status "))]),_:1}),l("div",Tl,[L(l("select",{id:"status","onUpdate:modelValue":s[8]||(s[8]=o=>A.value.status_id=o),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s[80]||(s[80]=l("option",{value:""},"All Statuses",-1)),(d(!0),v(T,null,q(O.woStatuses,o=>(d(),v("option",{key:o.id,value:o.id},c(o.name),9,Il))),128))],512),[[G,A.value.status_id]]),s[81]||(s[81]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),l("div",Fl,[t(e(k),{onClick:Ce,variant:"ghost",size:"sm"},{default:a(()=>[t(u,{name:"rotate-ccw",class:"mr-2 h-4 w-4"}),s[82]||(s[82]=r(" Reset Filters "))]),_:1}),t(e(k),{onClick:W,variant:"default",size:"sm"},{default:a(()=>[t(u,{name:"filter",class:"mr-2 h-4 w-4"}),s[83]||(s[83]=r(" Apply Filters "))]),_:1})])])]),_:1})):g("",!0)]),_:1})]),_:1}),ve.value?(d(),w(e(Ve),{key:7,class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:a(()=>[t(e(Ae),{class:"p-0"},{default:a(()=>[l("div",zl,[t(e(ye),{class:"relative h-[500px] overflow-auto"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:a(()=>[ae.value.includes("repair-orders.delete")?(d(),w(e(M),{key:0,class:"w-12"},{default:a(()=>[l("div",Bl,[l("input",{type:"checkbox",checked:re.value,onChange:Le,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,El)])]),_:1})):g("",!0),t(e(M),{onClick:s[9]||(s[9]=o=>Se("ro_number")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",ql,[s[84]||(s[84]=r(" RO# ")),t(st,{column:"ro_number",sortState:xe.value},null,8,["sortState"])])]),_:1}),ee.value?(d(),w(e(M),{key:1,class:"font-semibold"},{default:a(()=>s[85]||(s[85]=[r("Company")])),_:1})):g("",!0),t(e(M),{onClick:s[10]||(s[10]=o=>Se("ro_open_date")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Pl,[s[86]||(s[86]=r(" Open Date ")),t(st,{column:"ro_open_date",sortState:xe.value},null,8,["sortState"])])]),_:1}),t(e(M),{onClick:s[11]||(s[11]=o=>Se("ro_close_date")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Ll,[s[87]||(s[87]=r(" Close Date ")),t(st,{column:"ro_close_date",sortState:xe.value},null,8,["sortState"])])]),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[88]||(s[88]=[r("Truck")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[89]||(s[89]=[r("Vendor")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[90]||(s[90]=[r("Areas of Concern")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[91]||(s[91]=[r("WO#")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[92]||(s[92]=[r("WO Status")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[93]||(s[93]=[r("Invoice")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[94]||(s[94]=[r("Amount")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[95]||(s[95]=[r("Invoice Received")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[96]||(s[96]=[r("On QS")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[97]||(s[97]=[r("QS Invoice Date")])),_:1}),t(e(M),{class:"font-semibold"},{default:a(()=>s[98]||(s[98]=[r("Disputed")])),_:1}),ae.value.includes("repair-orders.delete")||ae.value.includes("repair-orders.update")?(d(),w(e(M),{key:2,class:"font-semibold"},{default:a(()=>s[99]||(s[99]=[r("Actions")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[O.repairOrders.data.length?g("",!0):(d(),w(e(j),{key:0},{default:a(()=>[t(e(V),{colspan:ee.value?16:15,class:"py-8 text-center"},{default:a(()=>[l("div",Wl,[t(u,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),s[100]||(s[100]=l("h2",{class:"text-lg font-medium"},"No repair orders found.",-1)),s[101]||(s[101]=l("p",{class:"text-muted-foreground mt-2"},"There is no data to display at this time.",-1))])]),_:1},8,["colspan"])]),_:1})),(d(!0),v(T,null,q(O.repairOrders.data,o=>(d(),w(e(j),{key:o.id,class:"hover:bg-muted/50 transition-colors"},{default:a(()=>[ae.value.includes("repair-orders.delete")?(d(),w(e(V),{key:0},{default:a(()=>[L(l("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":s[12]||(s[12]=D=>z.value=D),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,8,Rl),[[qe,z.value]])]),_:2},1024)):g("",!0),t(e(V),{class:"whitespace-nowrap font-medium"},{default:a(()=>[r(c(o.ro_number),1)]),_:2},1024),ee.value?(d(),w(e(V),{key:1,class:"whitespace-nowrap"},{default:a(()=>{var D;return[r(c(((D=o.tenant)==null?void 0:D.name)||"—"),1)]}),_:2},1024)):g("",!0),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(f(o.ro_open_date)),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(o.ro_close_date?f(o.ro_close_date):"N/A"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var D;return[r(c(((D=o.truck)==null?void 0:D.truckid)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var D;return[r(c(((D=o.vendor)==null?void 0:D.vendor_name)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var D;return[(D=o.areas_of_concern)!=null&&D.length?(d(),v("span",jl,[(d(!0),v(T,null,q(o.areas_of_concern,(ot,Ct)=>(d(),v("span",{key:ot.id},[r(c(ot.concern),1),Ct<o.areas_of_concern.length-1?(d(),v("span",Ql,", ")):g("",!0)]))),128))])):(d(),v("span",Yl,"—"))]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(o.wo_number||"—"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>{var D;return[r(c(((D=o.wo_status)==null?void 0:D.name)||"—"),1)]}),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(o.invoice||"—"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(_(o.invoice_amount)),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(o.invoice_received?"Yes":"No"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(o.on_qs?o.on_qs.charAt(0).toUpperCase()+o.on_qs.slice(1):"No"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(o.qs_invoice_date?f(o.qs_invoice_date):"N/A"),1)]),_:2},1024),t(e(V),{class:"whitespace-nowrap"},{default:a(()=>[r(c(o.disputed?"Yes":"No"),1)]),_:2},1024),ae.value.includes("repair-orders.update")||ae.value.includes("repair-orders.delete")?(d(),w(e(V),{key:2},{default:a(()=>[l("div",Gl,[ae.value.includes("repair-orders.update")?(d(),w(e(k),{key:0,size:"sm",variant:"warning",onClick:D=>je(o),class:"h-8 px-2"},{default:a(()=>[t(u,{name:"pencil",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),ae.value.includes("repair-orders.delete")?(d(),w(e(k),{key:1,size:"sm",variant:"destructive",onClick:D=>Ye(o.id),class:"h-8 px-2"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1}),l("div",Hl,[l("div",Kl,[l("span",Zl,[t(u,{name:"list",class:"h-4 w-4"}),r(" Showing "+c(O.repairOrders.data.length)+" of "+c(O.repairOrders.total)+" entries ",1)]),l("span",Xl,[t(u,{name:"layout-grid",class:"h-4 w-4"}),s[102]||(s[102]=r(" Per page: "))]),l("div",Jl,[L(l("select",{"onUpdate:modelValue":s[13]||(s[13]=o=>I.value=o),onChange:he,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(d(),v(T,null,q([10,25,50,100],o=>l("option",{key:o,value:o},c(o),9,ea)),64))],544),[[G,I.value,void 0,{number:!0}]]),s[103]||(s[103]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ta,[t(e(k),{size:"sm",variant:"ghost",onClick:s[14]||(s[14]=o=>Me(O.repairOrders.prev_page_url)),disabled:!O.repairOrders.prev_page_url,class:"flex items-center gap-1"},{default:a(()=>[t(u,{name:"chevron-left",class:"h-4 w-4"}),s[104]||(s[104]=r(" Prev "))]),_:1},8,["disabled"]),(d(!0),v(T,null,q(O.repairOrders.links.slice(1,-1),o=>(d(),w(e(k),{key:o.label,size:"sm",variant:"ghost",onClick:D=>Me(o.url),disabled:!o.url,class:we({"border-primary bg-primary/10 text-primary font-medium":o.active})},{default:a(()=>[l("span",{innerHTML:o.label},null,8,sa)]),_:2},1032,["onClick","disabled","class"]))),128)),t(e(k),{size:"sm",variant:"ghost",onClick:s[15]||(s[15]=o=>Me(O.repairOrders.next_page_url)),disabled:!O.repairOrders.next_page_url,class:"flex items-center gap-1"},{default:a(()=>[s[105]||(s[105]=r(" Next ")),t(u,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})):(d(),v("div",la,[t(u,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),s[106]||(s[106]=l("h2",{class:"text-lg font-medium"},"There is No Data to give Information about.",-1))])),t(e(me),{open:B.value,"onUpdate:open":s[33]||(s[33]=o=>B.value=o)},{default:a(()=>[t(e(oe),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:a(()=>[t(e(de),{class:"px-4 sm:px-6 border-b pb-3"},{default:a(()=>[l("div",aa,[t(u,{name:e(y).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(ie),{class:"text-lg sm:text-xl font-semibold"},{default:a(()=>[r(c(Z.value)+" Repair Order",1)]),_:1})]),t(e(ue),{class:"text-xs sm:text-sm mt-1 text-muted-foreground"},{default:a(()=>[r("Fill in the details to "+c(Z.value.toLowerCase())+" a repair order.",1)]),_:1})]),_:1}),l("div",na,[l("form",{onSubmit:_e(Fe,["prevent"]),class:"grid grid-cols-1 gap-3 p-3 sm:grid-cols-2 sm:gap-4 sm:p-4"},[ee.value?(d(),v("div",ra,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"building",class:"h-4 w-4 text-muted-foreground"}),s[107]||(s[107]=r(" Company "))]),_:1}),l("div",oa,[L(l("select",{"onUpdate:modelValue":s[16]||(s[16]=o=>e(y).tenant_id=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm ring-offset-background focus-visible:ring-2"},[s[108]||(s[108]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(T,null,q(O.tenants,o=>(d(),v("option",{key:o.id,value:o.id},c(o.name),9,da))),128))],512),[[G,e(y).tenant_id]]),s[109]||(s[109]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):g("",!0),l("div",ia,[t(u,{name:"info",class:"h-4 w-4 text-primary"}),s[110]||(s[110]=l("h3",{class:"text-md font-semibold text-primary"},"Basic Information",-1))]),l("div",ua,[l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),s[111]||(s[111]=r(" RO# "))]),_:1}),t(e(Q),{modelValue:e(y).ro_number,"onUpdate:modelValue":s[17]||(s[17]=o=>e(y).ro_number=o),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),s[112]||(s[112]=r(" Truck "))]),_:1}),l("div",ma,[L(l("select",{"onUpdate:modelValue":s[18]||(s[18]=o=>e(y).truck_id=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[113]||(s[113]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(T,null,q(O.trucks,o=>(d(),v("option",{key:o.id,value:o.id},c(o.truckid),9,pa))),128))],512),[[G,e(y).truck_id]]),s[114]||(s[114]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar",class:"h-4 w-4 text-muted-foreground"}),s[115]||(s[115]=r(" Open Date "))]),_:1}),t(e(Q),{type:"date",modelValue:e(y).ro_open_date,"onUpdate:modelValue":s[19]||(s[19]=o=>e(y).ro_open_date=o),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar-check",class:"h-4 w-4 text-muted-foreground"}),s[116]||(s[116]=r(" Close Date "))]),_:1}),t(e(Q),{type:"date",modelValue:e(y).ro_close_date,"onUpdate:modelValue":s[20]||(s[20]=o=>e(y).ro_close_date=o),class:"h-9 w-full"},null,8,["modelValue"])])]),l("div",fa,[t(u,{name:"wrench",class:"h-4 w-4 text-primary"}),s[117]||(s[117]=l("h3",{class:"text-md font-semibold text-primary"},"Repair Details",-1))]),l("div",ca,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"alert-triangle",class:"h-4 w-4 text-muted-foreground"}),s[118]||(s[118]=r(" Areas of Concern "))]),_:1}),l("div",va,[(d(!0),v(T,null,q(e(y).area_of_concerns,o=>(d(),v("span",{key:o,class:"badge bg-primary/10 text-primary px-2 py-1 rounded-md flex items-center"},[r(c(yt.value[o]),1),l("button",{onClick:D=>_t(o),class:"ml-1 hover:text-red-500 focus:outline-none"},"×",8,xa)]))),128)),e(y).area_of_concerns.length?g("",!0):(d(),v("span",ga,"No areas selected"))]),l("div",wa,[l("select",{onChange:s[21]||(s[21]=o=>kt(o)),class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[119]||(s[119]=l("option",{value:""},"Select an area to add",-1)),(d(!0),v(T,null,q(bt.value,o=>(d(),v("option",{key:o.id,value:o.id},c(o.concern),9,ya))),128))],32),s[120]||(s[120]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ba,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"clipboard-check",class:"h-4 w-4 text-muted-foreground"}),s[121]||(s[121]=r(" Repairs Made "))]),_:1}),L(l("textarea",{"onUpdate:modelValue":s[22]||(s[22]=o=>e(y).repairs_made=o),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[it,e(y).repairs_made]])]),l("div",ka,[t(u,{name:"receipt",class:"h-4 w-4 text-primary"}),s[122]||(s[122]=l("h3",{class:"text-md font-semibold text-primary"},"Vendor & Invoice Information",-1))]),l("div",_a,[l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"building-2",class:"h-4 w-4 text-muted-foreground"}),s[123]||(s[123]=r(" Vendor "))]),_:1}),l("div",ha,[L(l("select",{"onUpdate:modelValue":s[23]||(s[23]=o=>e(y).vendor_id=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[124]||(s[124]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(T,null,q(O.vendors,o=>(d(),v("option",{key:o.id,value:o.id},c(o.vendor_name),9,Ca))),128))],512),[[G,e(y).vendor_id]]),s[125]||(s[125]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"file-text",class:"h-4 w-4 text-muted-foreground"}),s[126]||(s[126]=r(" WO# "))]),_:1}),t(e(Q),{modelValue:e(y).wo_number,"onUpdate:modelValue":s[24]||(s[24]=o=>e(y).wo_number=o),class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),s[127]||(s[127]=r(" WO Status "))]),_:1}),l("div",Sa,[L(l("select",{"onUpdate:modelValue":s[25]||(s[25]=o=>e(y).wo_status_id=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[128]||(s[128]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(T,null,q(O.woStatuses,o=>(d(),v("option",{key:o.id,value:o.id},c(o.name),9,$a))),128))],512),[[G,e(y).wo_status_id]]),s[129]||(s[129]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"check-square",class:"h-4 w-4 text-muted-foreground"}),s[130]||(s[130]=r(" On QS "))]),_:1}),l("div",Va,[L(l("select",{"onUpdate:modelValue":s[26]||(s[26]=o=>e(y).on_qs=o),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},s[131]||(s[131]=[l("option",{value:"yes"},"Yes",-1),l("option",{value:"no"},"No",-1),l("option",{value:"not expected"},"Not Expected",-1)]),512),[[G,e(y).on_qs]]),s[132]||(s[132]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),l("div",Aa,[l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"file-invoice",class:"h-4 w-4 text-muted-foreground"}),s[133]||(s[133]=r(" Invoice "))]),_:1}),t(e(Q),{modelValue:e(y).invoice,"onUpdate:modelValue":s[27]||(s[27]=o=>e(y).invoice=o),class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"dollar-sign",class:"h-4 w-4 text-muted-foreground"}),s[134]||(s[134]=r(" Amount "))]),_:1}),l("div",Da,[s[135]||(s[135]=l("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-muted-foreground"},"$",-1)),t(e(Q),{type:"number",step:"0.01",modelValue:e(y).invoice_amount,"onUpdate:modelValue":s[28]||(s[28]=o=>e(y).invoice_amount=o),class:"pl-7 h-9 w-full"},null,8,["modelValue"])])]),l("div",Oa,[L(l("input",{type:"checkbox","onUpdate:modelValue":s[29]||(s[29]=o=>e(y).invoice_received=o),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[qe,e(y).invoice_received]]),t(e(C),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:a(()=>[t(u,{name:"inbox",class:"h-4 w-4 text-muted-foreground"}),s[136]||(s[136]=r(" Invoice Received "))]),_:1})]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"calendar-days",class:"h-4 w-4 text-muted-foreground"}),s[137]||(s[137]=r(" QS Invoice Date "))]),_:1}),t(e(Q),{type:"date",modelValue:e(y).qs_invoice_date,"onUpdate:modelValue":s[30]||(s[30]=o=>e(y).qs_invoice_date=o),class:"h-9 w-full"},null,8,["modelValue"])])]),Z.value==="Update"?(d(),v("div",Ua,[l("div",Ma,[t(u,{name:"alert-octagon",class:"h-4 w-4 text-primary"}),s[138]||(s[138]=l("h3",{class:"text-md font-semibold text-primary"},"Dispute Information",-1))]),l("div",Na,[L(l("input",{type:"checkbox","onUpdate:modelValue":s[31]||(s[31]=o=>e(y).disputed=o),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[qe,e(y).disputed]]),t(e(C),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:a(()=>[t(u,{name:"alert-circle",class:"h-4 w-4 text-muted-foreground"}),s[139]||(s[139]=r(" Disputed? "))]),_:1})]),e(y).disputed?(d(),v("div",Ta,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(u,{name:"message-square",class:"h-4 w-4 text-muted-foreground"}),s[140]||(s[140]=r(" Dispute Outcome "))]),_:1}),L(l("textarea",{"onUpdate:modelValue":s[32]||(s[32]=o=>e(y).dispute_outcome=o),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[it,e(y).dispute_outcome]])])):g("",!0)])):g("",!0)],32)]),t(e(ce),{class:"px-4 sm:px-6 flex justify-end gap-2 mt-2 pt-3 border-t"},{default:a(()=>[t(e(k),{variant:"outline",onClick:Qe,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:a(()=>s[141]||(s[141]=[r("Cancel")])),_:1}),t(e(k),{type:"submit",onClick:Fe,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:a(()=>[r(c(Z.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(me),{open:H.value,"onUpdate:open":s[35]||(s[35]=o=>H.value=o)},{default:a(()=>[t(e(oe),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(de),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(ie),{class:"text-lg sm:text-xl"},{default:a(()=>s[142]||(s[142]=[r("Confirm Deletion")])),_:1}),t(e(ue),{class:"text-xs sm:text-sm"},{default:a(()=>s[143]||(s[143]=[r("This action cannot be undone.")])),_:1})]),_:1}),t(e(ce),{class:"px-4 sm:px-6 flex gap-2"},{default:a(()=>[t(e(k),{variant:"outline",onClick:s[34]||(s[34]=o=>H.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[144]||(s[144]=[r("Cancel")])),_:1}),t(e(k),{variant:"destructive",onClick:Ge,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[145]||(s[145]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(me),{open:R.value,"onUpdate:open":s[37]||(s[37]=o=>R.value=o)},{default:a(()=>[t(e(oe),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(de),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(ie),{class:"text-lg sm:text-xl"},{default:a(()=>[r("Delete "+c(z.value.length)+" Orders?",1)]),_:1}),t(e(ue),{class:"text-xs sm:text-sm"},{default:a(()=>s[146]||(s[146]=[r("This action cannot be undone.")])),_:1})]),_:1}),t(e(ce),{class:"px-4 sm:px-6 flex gap-2"},{default:a(()=>[t(e(k),{variant:"outline",onClick:s[36]||(s[36]=o=>R.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[147]||(s[147]=[r("Cancel")])),_:1}),t(e(k),{variant:"destructive",onClick:Ke,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[148]||(s[148]=[r("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(me),{open:U.value,"onUpdate:open":s[40]||(s[40]=o=>U.value=o)},{default:a(()=>[t(e(oe),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(ie),null,{default:a(()=>s[149]||(s[149]=[r("Manage Areas of Concern")])),_:1}),t(e(ue),{class:"text-sm sm:text-base"},{default:a(()=>s[150]||(s[150]=[r("Add or remove areas of concern for repair orders.")])),_:1})]),_:1}),l("div",Ia,[l("form",{onSubmit:_e(Xe,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",Fa,[t(e(C),{for:"concern"},{default:a(()=>s[151]||(s[151]=[r("Area of Concern")])),_:1}),t(e(Q),{id:"concern",modelValue:e(ne).concern,"onUpdate:modelValue":s[38]||(s[38]=o=>e(ne).concern=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(k),{type:"submit",class:"w-full"},{default:a(()=>s[152]||(s[152]=[r("Add Area of Concern")])),_:1})],32),l("div",za,[l("div",Ba,[t(e(ye),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(j),null,{default:a(()=>[t(e(M),{class:"text-xs sm:text-sm"},{default:a(()=>s[153]||(s[153]=[r("Area of Concern")])),_:1}),t(e(M),{class:"w-20 text-xs sm:text-sm"},{default:a(()=>s[154]||(s[154]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[m.areasOfConcern.length?g("",!0):(d(),w(e(j),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[155]||(s[155]=[r("No areas of concern found.")])),_:1})]),_:1})),(d(!0),v(T,null,q(O.areasOfConcern,o=>(d(),w(e(j),{key:o.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[r(c(o.concern)+" ",1),o.deleted_at?(d(),v("span",Ea,"(Deleted)")):g("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",qa,[o.deleted_at?(d(),w(e(k),{key:0,onClick:D=>et(o.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),o.deleted_at?g("",!0):(d(),w(e(k),{key:1,onClick:D=>Je(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"]))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ce),null,{default:a(()=>[t(e(k),{onClick:s[39]||(s[39]=o=>U.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[156]||(s[156]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(me),{open:K.value,"onUpdate:open":s[43]||(s[43]=o=>K.value=o)},{default:a(()=>[t(e(oe),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(ie),null,{default:a(()=>s[157]||(s[157]=[r("Manage Vendors")])),_:1}),t(e(ue),{class:"text-sm sm:text-base"},{default:a(()=>s[158]||(s[158]=[r("Add or remove vendors for repair orders.")])),_:1})]),_:1}),l("div",Pa,[l("form",{onSubmit:_e(x,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",La,[t(e(C),{for:"vendor_name"},{default:a(()=>s[159]||(s[159]=[r("Vendor Name")])),_:1}),t(e(Q),{id:"vendor_name",modelValue:e(le).vendor_name,"onUpdate:modelValue":s[41]||(s[41]=o=>e(le).vendor_name=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(k),{type:"submit",class:"w-full"},{default:a(()=>s[160]||(s[160]=[r("Add Vendor")])),_:1})],32),l("div",Wa,[l("div",Ra,[t(e(ye),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(M),{class:"text-xs sm:text-sm"},{default:a(()=>s[161]||(s[161]=[r("Vendor Name")])),_:1}),t(e(M),{class:"text-xs sm:text-sm"},{default:a(()=>s[162]||(s[162]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[O.vendors.length===0?(d(),w(e(j),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[163]||(s[163]=[r("No vendors found.")])),_:1})]),_:1})):g("",!0),(d(!0),v(T,null,q(O.vendors,o=>(d(),w(e(j),{key:o.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[r(c(o.vendor_name)+" ",1),o.deleted_at?(d(),v("span",ja,"(Deleted)")):g("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",Qa,[o.deleted_at?(d(),w(e(k),{key:0,onClick:D=>i(o.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),o.deleted_at?g("",!0):(d(),w(e(k),{key:1,onClick:D=>n(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(d(),w(e(k),{key:2,onClick:D=>p.forceDeleteVendor(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ce),null,{default:a(()=>[t(e(k),{onClick:s[42]||(s[42]=o=>K.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[164]||(s[164]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(me),{open:se.value,"onUpdate:open":s[46]||(s[46]=o=>se.value=o)},{default:a(()=>[t(e(oe),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(ie),null,{default:a(()=>s[165]||(s[165]=[r("Manage Work Order Statuses")])),_:1}),t(e(ue),{class:"text-sm sm:text-base"},{default:a(()=>s[166]||(s[166]=[r(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),l("div",Ya,[l("form",{onSubmit:_e(tt,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",Ga,[t(e(C),{for:"status_name"},{default:a(()=>s[167]||(s[167]=[r("Status Name")])),_:1}),t(e(Q),{id:"status_name",modelValue:e(b).name,"onUpdate:modelValue":s[44]||(s[44]=o=>e(b).name=o),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(k),{type:"submit",class:"w-full"},{default:a(()=>s[168]||(s[168]=[r("Add Work Order Status")])),_:1})],32),l("div",Ha,[l("div",Ka,[t(e(ye),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(M),{class:"text-xs sm:text-sm"},{default:a(()=>s[169]||(s[169]=[r("Status Name")])),_:1}),t(e(M),{class:"text-xs sm:text-sm"},{default:a(()=>s[170]||(s[170]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[m.woStatuses.length?g("",!0):(d(),w(e(j),{key:0},{default:a(()=>[t(e(V),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[171]||(s[171]=[r("No work order statuses found.")])),_:1})]),_:1})),(d(!0),v(T,null,q(m.woStatuses,o=>(d(),w(e(j),{key:o.id},{default:a(()=>[t(e(V),{class:"text-xs sm:text-sm"},{default:a(()=>[r(c(o.name)+" ",1),o.deleted_at?(d(),v("span",Za,"(Deleted)")):g("",!0)]),_:2},1024),t(e(V),null,{default:a(()=>[l("div",Xa,[o.deleted_at?(d(),w(e(k),{key:0,onClick:D=>gt(o.id),variant:"outline",size:"sm"},{default:a(()=>[t(u,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0),o.deleted_at?g("",!0):(d(),w(e(k),{key:1,onClick:D=>xt(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),o.deleted_at?(d(),w(e(k),{key:2,onClick:D=>p.forceDeleteStatus(o.id),variant:"destructive",size:"sm"},{default:a(()=>[t(u,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ce),null,{default:a(()=>[t(e(k),{onClick:s[45]||(s[45]=o=>se.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[172]||(s[172]=[r("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(me),{open:ze.value,"onUpdate:open":s[48]||(s[48]=o=>ze.value=o)},{default:a(()=>[t(e(oe),{class:"max-h-[90vh] max-w-[95vw] overflow-y-auto md:max-w-[80vw] lg:max-w-4xl"},{default:a(()=>{var o;return[t(e(de),null,{default:a(()=>[t(e(ie),{class:"flex items-center gap-2 text-lg md:text-xl"},{default:a(()=>[t(u,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),s[173]||(s[173]=r(" Canceled Invoices on QS "))]),_:1}),t(e(ue),null,{default:a(()=>s[174]||(s[174]=[r(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),l("div",Ja,[(o=m.canceledQSInvoices)!=null&&o.length?(d(),w(e(ye),{key:0},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),null,{default:a(()=>[t(e(M),{class:"whitespace-nowrap"},{default:a(()=>s[175]||(s[175]=[r("RO Number")])),_:1}),t(e(M),{class:"whitespace-nowrap"},{default:a(()=>s[176]||(s[176]=[r("Vendor")])),_:1}),t(e(M),{class:"whitespace-nowrap text-right"},{default:a(()=>s[177]||(s[177]=[r("Amount")])),_:1}),t(e(M),{class:"whitespace-nowrap"},{default:a(()=>s[178]||(s[178]=[r("Week")])),_:1})]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[(d(!0),v(T,null,q(m.canceledQSInvoices,D=>(d(),w(e(j),{key:D.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:a(()=>[t(e(V),{class:"font-medium"},{default:a(()=>[l("div",en,[t(u,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),r(" "+c(D.ro_number),1)])]),_:2},1024),t(e(V),null,{default:a(()=>[r(c(D.vendor_name),1)]),_:2},1024),t(e(V),{class:"text-right"},{default:a(()=>[r(c(_(D.invoice_amount)),1)]),_:2},1024),t(e(V),null,{default:a(()=>[r("W"+c(D.week_number)+"/"+c(D.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(d(),v("div",tn,"No canceled QS invoices found."))]),t(e(ce),{class:"mt-4 flex flex-col gap-2 sm:flex-row"},{default:a(()=>[t(e(k),{onClick:s[47]||(s[47]=D=>ze.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[179]||(s[179]=[r("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])])}}}),an=Ut(ln,[["__scopeId","data-v-3fdb8855"]]),nn={class:"bg-card rounded-lg border shadow-sm p-4 md:p-6 mb-6"},rn={class:"flex justify-between items-center mb-4"},on={class:"overflow-x-auto max-h-80"},dn={class:"flex justify-center space-x-2"},un={key:0,class:"border-t mt-4 px-4 py-3 bg-muted/20"},mn={class:"flex flex-col sm:flex-row items-center justify-between gap-2"},pn={class:"text-sm text-muted-foreground"},fn={class:"flex flex-wrap gap-2"},cn={class:"grid grid-cols-2 gap-4"},vn={key:0,class:"grid grid-cols-2 gap-4"},xn={class:"mt-1"},gn={class:"mt-1"},wn=Pe({__name:"MilesDrivenTable",props:{milesEntries:{},tenantSlug:{},permissions:{}},setup(O){const m=O,A=S(!1),I=S("week_start_date"),z=S("desc"),F=S(1),P=S(10),$=ge({id:null,year:"",week_number:"",week_start_date:"",week_end_date:"",miles:"",notes:""}),J=E(()=>{const h=[...m.milesEntries];return h.sort((f,_)=>{let X=f[I.value],W=_[I.value];return X>W?z.value==="asc"?1:-1:X<W?z.value==="asc"?-1:1:0}),h}),B=E(()=>Math.ceil(J.value.length/P.value)),H=E(()=>{const h=(F.value-1)*P.value,f=h+P.value;return J.value.slice(h,f)}),R=E(()=>{const h=[];if(B.value<=5)for(let _=1;_<=B.value;_++)h.push(_);else{let _=Math.max(1,F.value-Math.floor(2.5)),X=Math.min(B.value,_+5-1);X===B.value&&(_=Math.max(1,X-5+1));for(let W=_;W<=X;W++)h.push(W)}return h});function U(h){h<1||h>B.value||(F.value=h)}function K(h){I.value===h?z.value=z.value==="asc"?"desc":"asc":(I.value=h,z.value="asc"),F.value=1}function se(h=null){if($.reset(),$.clearErrors(),h){$.id=h.id,$.week_start_date=h.week_start_date,$.week_end_date=h.week_end_date,$.miles=h.miles,$.notes=h.notes;const f=new Date(h.week_start_date),_=new Date(Date.UTC(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()));_.setUTCDate(_.getUTCDate()+4-(_.getUTCDay()||7));const X=_.getUTCFullYear(),W=Math.ceil(((_-Date.UTC(X,0,1))/864e5+1)/7)+1;$.year=X,$.week_number=W}A.value=!0}function Z(){const h=+$.year,f=+$.week_number;if(!h||!f){$.week_start_date="",$.week_end_date="";return}const _=new Date(Date.UTC(h,0,4)),X=_.getUTCDay()||7;_.setUTCDate(_.getUTCDate()+(f-1)*7+(1-X));const W=new Date(_);W.setUTCDate(_.getUTCDate()-1);const Ce=new Date(W);Ce.setUTCDate(W.getUTCDate()+6),$.week_start_date=W.toISOString().slice(0,10),$.week_end_date=Ce.toISOString().slice(0,10)}function y(){const h=$.id?"miles_driven.update":"miles_driven.store",f=$.id?{tenantSlug:m.tenantSlug,milesDriven:$.id}:{tenantSlug:m.tenantSlug};$[$.id?"put":"post"](ut(h,f),{preserveScroll:!0,onSuccess:()=>{A.value=!1}})}const ne=S(null);function le(h){ne.value=h,confirm("Really delete this record?")&&b()}function b(){const h="miles_driven.destroy",f={tenantSlug:m.tenantSlug,milesDriven:ne.value.id};$.delete(ut(h,f),{preserveScroll:!0,onSuccess:()=>{}})}function ee(h){if(!h)return"";const f=new Date(h);return new Date(f.getTime()+f.getTimezoneOffset()*6e4).toLocaleDateString()}function ve(h){return Number(h).toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:4})}const re=E(()=>m.permissions.map(h=>h.name));return(h,f)=>(d(),v("div",nn,[l("div",rn,[f[12]||(f[12]=l("h3",{class:"text-base md:text-xl font-semibold"}," Miles Driven ",-1)),re.value.includes("miles-driven.create")?(d(),w(e(k),{key:0,onClick:f[0]||(f[0]=_=>se()),variant:"default"},{default:a(()=>[t(u,{name:"plus",class:"mr-2 h-4 w-4"}),f[11]||(f[11]=l("span",null,"Add Miles Driven",-1))]),_:1})):g("",!0)]),l("div",on,[t(e(ye),{class:"w-full table-auto"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(M),{class:"cursor-pointer px-4 py-2 text-left",onClick:f[1]||(f[1]=_=>K("week_start_date"))},{default:a(()=>[f[13]||(f[13]=r(" Week Start ")),l("span",null,[I.value==="week_start_date"&&z.value==="asc"?(d(),w(u,{key:0,name:"chevron-up"})):I.value==="week_start_date"&&z.value==="desc"?(d(),w(u,{key:1,name:"chevron-down"})):(d(),w(u,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e(M),{class:"cursor-pointer px-4 py-2 text-left",onClick:f[2]||(f[2]=_=>K("week_end_date"))},{default:a(()=>[f[14]||(f[14]=r(" Week End ")),l("span",null,[I.value==="week_end_date"&&z.value==="asc"?(d(),w(u,{key:0,name:"chevron-up"})):I.value==="week_end_date"&&z.value==="desc"?(d(),w(u,{key:1,name:"chevron-down"})):(d(),w(u,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e(M),{class:"cursor-pointer px-4 py-2 text-left",onClick:f[3]||(f[3]=_=>K("miles"))},{default:a(()=>[f[15]||(f[15]=r(" Miles ")),l("span",null,[I.value==="miles"&&z.value==="asc"?(d(),w(u,{key:0,name:"chevron-up"})):I.value==="miles"&&z.value==="desc"?(d(),w(u,{key:1,name:"chevron-down"})):(d(),w(u,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),re.value.includes("miles-driven.update")||re.value.includes("miles-driven.delete")?(d(),w(e(M),{key:0,class:"text-center px-4 py-2"},{default:a(()=>f[16]||(f[16]=[r(" Actions ")])),_:1})):g("",!0)]),_:1})]),_:1}),t(e(ke),null,{default:a(()=>[(d(!0),v(T,null,q(H.value,_=>(d(),w(e(j),{key:_.id,class:"border-b hover:bg-muted/20"},{default:a(()=>[t(e(V),{class:"px-4 py-3"},{default:a(()=>[r(c(ee(_.week_start_date)),1)]),_:2},1024),t(e(V),{class:"px-4 py-3"},{default:a(()=>[r(c(ee(_.week_end_date)),1)]),_:2},1024),t(e(V),{class:"px-4 py-3"},{default:a(()=>[r(c(ve(_.miles)),1)]),_:2},1024),re.value.includes("miles-driven.update")||re.value.includes("miles-driven.delete")?(d(),w(e(V),{key:0,class:"text-center px-4 py-3"},{default:a(()=>[l("div",dn,[re.value.includes("miles-driven.update")?(d(),w(e(k),{key:0,variant:"outline",size:"sm",onClick:X=>se(_)},{default:a(()=>[t(u,{name:"pencil",class:"mr-1 h-4 w-4"}),f[17]||(f[17]=l("span",null,"Edit",-1))]),_:2},1032,["onClick"])):g("",!0),re.value.includes("miles-driven.delete")?(d(),w(e(k),{key:1,variant:"destructive",size:"sm",onClick:X=>le(_)},{default:a(()=>[t(u,{name:"trash",class:"mr-1 h-4 w-4"}),f[18]||(f[18]=l("span",null,"Delete",-1))]),_:2},1032,["onClick"])):g("",!0)])]),_:2},1024)):g("",!0)]),_:2},1024))),128)),h.milesEntries.length?g("",!0):(d(),w(e(j),{key:0},{default:a(()=>[t(e(V),{colspan:5,class:"py-4 text-center text-muted-foreground"},{default:a(()=>f[19]||(f[19]=[r(" No miles driven records found ")])),_:1})]),_:1}))]),_:1})]),_:1})]),B.value>1?(d(),v("div",un,[l("div",mn,[l("div",pn," Showing "+c(H.value.length)+" of "+c(h.milesEntries.length)+" entries ",1),l("div",fn,[t(e(k),{onClick:f[4]||(f[4]=_=>U(F.value-1)),disabled:F.value===1,variant:"ghost",size:"sm"},{default:a(()=>f[20]||(f[20]=[r(" Previous ")])),_:1},8,["disabled"]),(d(!0),v(T,null,q(R.value,_=>(d(),w(e(k),{key:_,onClick:X=>U(_),variant:"ghost",size:"sm",class:we({"border-primary bg-primary/10 text-primary":F.value===_})},{default:a(()=>[r(c(_),1)]),_:2},1032,["onClick","class"]))),128)),t(e(k),{onClick:f[5]||(f[5]=_=>U(F.value+1)),disabled:F.value===B.value,variant:"ghost",size:"sm"},{default:a(()=>f[21]||(f[21]=[r(" Next ")])),_:1},8,["disabled"])])])])):g("",!0),t(e(me),{open:A.value,"onUpdate:open":f[10]||(f[10]=_=>A.value=_)},{default:a(()=>[t(e(oe),{class:"sm:max-w-md w-full max-h-[90vh] overflow-auto"},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(ie),null,{default:a(()=>[r(c(e($).id?"Edit Miles Driven":"Add Miles Driven"),1)]),_:1}),t(e(ue),{class:"text-muted-foreground"},{default:a(()=>[r(c(e($).id?"Update this record.":"Fill in the new miles driven record."),1)]),_:1})]),_:1}),l("form",{onSubmit:_e(y,["prevent"]),class:"grid gap-4 py-4"},[l("div",cn,[l("div",null,[t(e(C),{for:"year"},{default:a(()=>f[22]||(f[22]=[r("Year")])),_:1}),t(e(Q),{id:"year",type:"number",modelValue:e($).year,"onUpdate:modelValue":f[6]||(f[6]=_=>e($).year=_),modelModifiers:{number:!0},min:"2000",max:"2100",onInput:Z},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"week_number"},{default:a(()=>f[23]||(f[23]=[r("Week #")])),_:1}),t(e(Q),{id:"week_number",type:"number",modelValue:e($).week_number,"onUpdate:modelValue":f[7]||(f[7]=_=>e($).week_number=_),modelModifiers:{number:!0},min:"1",max:"53",onInput:Z},null,8,["modelValue"])])]),e($).week_start_date?(d(),v("div",vn,[l("div",null,[t(e(C),null,{default:a(()=>f[24]||(f[24]=[r("Start (Sun)")])),_:1}),l("p",xn,c(ee(e($).week_start_date)),1)]),l("div",null,[t(e(C),null,{default:a(()=>f[25]||(f[25]=[r("End (Sat)")])),_:1}),l("p",gn,c(ee(e($).week_end_date)),1)])])):g("",!0),l("div",null,[t(e(C),{for:"miles"},{default:a(()=>f[26]||(f[26]=[r("Miles")])),_:1}),t(e(Q),{id:"miles",modelValue:e($).miles,"onUpdate:modelValue":f[8]||(f[8]=_=>e($).miles=_),type:"number",step:"0.0001",min:"0",max:"999999.9999"},null,8,["modelValue"])]),t(e(ce),{class:"mt-4"},{default:a(()=>[t(e(k),{variant:"outline",type:"button",onClick:f[9]||(f[9]=_=>A.value=!1)},{default:a(()=>f[27]||(f[27]=[r(" Cancel ")])),_:1}),t(e(k),{type:"submit",disabled:e($).processing},{default:a(()=>f[28]||(f[28]=[r("Submit")])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]))}}),yn={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},bn={class:"border-b"},kn={class:"flex justify-center space-x-8 px-0 pt-4"},_n={key:0,class:"flex justify-center items-center p-12"},hn={key:1,class:"p-0"},Gn=Pe({__name:"AssetMaintenance",props:{entries:{type:Array,default:()=>[]},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},repairOrders:{type:Object,default:()=>({data:[],links:[]})},dateRange:{type:Object,default:null},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},dateFilter:{type:String,default:"yesterday"},tenantSlug:String,SuperAdmin:Boolean,perPage:{type:Number,default:10},openedComponent:{type:String,default:"repairOrders"},milesEntries:Array,permissions:Array},setup(O){const m=O,A=S(!1),I=S(""),z=S(""),F=S(m.openedComponent||"trucks"),P=E(()=>[{title:m.tenantSlug?"Dashboard":"Admin Dashboard",href:m.tenantSlug?route("dashboard",{tenantSlug:m.tenantSlug}):route("admin.dashboard")},{title:"Asset Maintenance",href:"#"}]),$=E(()=>F.value==="trucks"?zs:F.value==="milesDriven"?wn:an),J=E(()=>m.permissions.map(R=>R.name)),B=E(()=>F.value==="trucks"?{entries:m.entries,tenantSlug:m.tenantSlug,SuperAdmin:m.SuperAdmin,tenants:m.tenants,trucks:m.trucks,vendors:m.vendors,areasOfConcern:m.areasOfConcern,permissions:m.permissions}:F.value==="milesDriven"?{milesEntries:m.milesEntries,tenantSlug:m.tenantSlug,permissions:m.permissions}:{repairOrders:m.repairOrders,tenantSlug:m.tenantSlug,SuperAdmin:m.SuperAdmin,tenants:m.tenants,trucks:m.trucks,vendors:m.vendors,areasOfConcern:m.areasOfConcern,dateRange:m.dateRange,woStatuses:m.woStatuses,weekNumber:m.weekNumber,startWeekNumber:m.startWeekNumber,endWeekNumber:m.endWeekNumber,year:m.year,canceledQSInvoices:m.canceledQSInvoices,outstandingInvoices:m.outstandingInvoices,workOrdersByTruck:m.workOrdersByTruck,workOrderByAreasOfConcern:m.workOrderByAreasOfConcern,filters:m.filters,dateFilter:m.dateFilter,perPage:m.perPage,permissions:m.permissions});function H(R){A.value=!0,F.value=R;const U=new URL(window.location.href);U.search="",U.searchParams.set("openedComponent",R),window.history.replaceState({},"",U.href),setTimeout(()=>{A.value=!1},300)}return(R,U)=>(d(),w($t,{breadcrumbs:P.value,tenantSlug:O.tenantSlug,permissions:m.permissions},{default:a(()=>[t(e(St),{title:"Asset Maintenance"}),l("div",yn,[I.value?(d(),w(e(Ue),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),null,{default:a(()=>U[3]||(U[3]=[r("Success")])),_:1}),t(e(Oe),null,{default:a(()=>[r(c(I.value),1)]),_:1})]),_:1})):g("",!0),z.value?(d(),w(e(Ue),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),null,{default:a(()=>U[4]||(U[4]=[r("Error")])),_:1}),t(e(Oe),null,{default:a(()=>[r(c(z.value),1)]),_:1})]),_:1})):g("",!0),U[9]||(U[9]=l("div",{class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6"},[l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"}," Asset Maintenance "),l("div",{class:"flex flex-wrap gap-3 mt-2 sm:mt-0"})],-1)),t(e(Ve),{class:"shadow-sm border bg-card"},{default:a(()=>[t(e(Ae),{class:"p-0"},{default:a(()=>[l("div",bn,[l("div",kn,[J.value.includes("repair-orders.view")?(d(),w(e(k),{key:0,onClick:U[0]||(U[0]=K=>H("repairOrders")),variant:"ghost",class:we([[F.value==="repairOrders"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-0 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(u,{name:"clipboardList",class:"mr-2 h-4 w-4"}),U[5]||(U[5]=l("span",null,"Repair Orders",-1))]),_:1},8,["class"])):g("",!0),J.value.includes("miles-driven.view")?(d(),w(e(k),{key:1,onClick:U[1]||(U[1]=K=>H("milesDriven")),variant:"ghost",class:we([[F.value==="milesDriven"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(u,{name:"gauge",class:"mr-2 h-4 w-4"}),U[6]||(U[6]=l("span",null,"Miles Driven",-1))]),_:1},8,["class"])):g("",!0),J.value.includes("trucks.view")?(d(),w(e(k),{key:2,onClick:U[2]||(U[2]=K=>H("trucks")),variant:"ghost",class:we([[F.value==="trucks"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(u,{name:"truck",class:"mr-2 h-4 w-4"}),U[7]||(U[7]=l("span",null,"Trucks",-1))]),_:1},8,["class"])):g("",!0)])]),A.value?(d(),v("div",_n,U[8]||(U[8]=[l("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):(d(),v("div",hn,[(d(),w(At($.value),Dt(Ot(B.value)),null,16))]))]),_:1})]),_:1})])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}});export{Gn as default};
