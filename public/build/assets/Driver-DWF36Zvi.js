import{r as x,c as L,w as Be,A as Oe,N as ze,b as f,e as d,f as s,l as a,X as n,u as t,k as v,S as i,U as y,F as c,G as ue,H as $,O as j,D as J,ai as He,Y as me,aj as pe}from"./vendor-nqffDiqV.js";import{_ as D}from"./Icon.vue_vue_type_script_setup_true_lang-_tpEHn8d.js";import{_ as Ie,a as qe,b as Q,c as q,d as Ke,e as B}from"./TableRow.vue_vue_type_script_setup_true_lang-CT6WD3rC.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-BcWvTmkm.js";import{_ as fe}from"./Card.vue_vue_type_script_setup_true_lang-DXX1LUuu.js";import{_ as Re}from"./CardHeader.vue_vue_type_script_setup_true_lang-DzPsrEyP.js";import{_ as Ge}from"./CardTitle.vue_vue_type_script_setup_true_lang-Pyy0js-2.js";import{_ as ve}from"./CardContent.vue_vue_type_script_setup_true_lang-B-Qm-reU.js";import{b as Z,_ as ee,a as te}from"./DialogDescription.vue_vue_type_script_setup_true_lang-BubjEd6N.js";import{_ as le,a as ae}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CYrdtuEj.js";import{_ as se}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DnuQ4cl-.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-Dcjf2cgk.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-CI2uedvx.js";import{b as ce,_ as xe,a as ge}from"./AlertDescription.vue_vue_type_script_setup_true_lang-C25dbfP3.js";import{_ as We}from"./AppLayout.vue_vue_type_script_setup_true_lang-CSF-Jcxa.js";import{x as K,g as Xe,S as Ye,W as ye}from"./vendor-vue-DlqTWUnc.js";import{E as _e,a as Je}from"./vendor-icons-Bz_7KChj.js";import"./utils-DLhl0SSS.js";import"./vendor-ui-CX4lpbuH.js";import"./useInitials-DzeGKvtI.js";import"./app-BPnMQBia.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DnlBU1RD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Qe={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},Ze={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6"},et={class:"flex flex-wrap gap-3"},tt={class:"relative"},lt={key:1,class:"absolute right-0 z-10 mt-1 w-48 rounded-md border bg-background shadow-lg"},at={class:"py-1"},st={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},rt=["href"],nt={class:"flex flex-col gap-1 md:gap-4"},ot={class:"grid grid-cols-1 sm:grid-cols-3 gap-1 md:gap-4 w-full"},dt={class:"overflow-x-auto"},it={class:"flex items-center justify-center"},ut=["checked"],mt={class:"flex items-center"},pt={key:0},ft={key:1},vt={key:2,class:"ml-2"},ct={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},xt={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},gt={key:3,class:"ml-2 opacity-50"},yt=["value"],_t={key:1,class:"whitespace-nowrap min-w-[70px]"},wt={class:"flex space-x-2"},bt={key:0,class:"border-t bg-muted/20 px-4 py-3"},ht={class:"flex flex-col sm:flex-row justify-between items-center gap-2"},kt={class:"flex items-center gap-4 text-sm text-muted-foreground"},St={class:"flex flex-col sm:flex-row items-center gap-2 sm:gap-4 w-full sm:w-auto"},Ct={class:"flex flex-wrap"},Dt=["innerHTML"],Vt={class:"max-h-[80vh] overflow-y-auto pr-2"},$t={key:0,class:"col-span-2"},Ft=["value"],At={class:"sm:col-span-2"},Ut={class:"sm:col-span-2"},Nt={key:0,class:"text-destructive ml-1"},Tt={class:"relative"},Et={class:"sm:col-span-2"},Mt={class:"sm:col-span-2"},Pt={class:"sm:col-span-2"},Lt={class:"sm:col-span-2"},jt={key:0,class:"mt-2"},Bt=["src"],ul={__name:"Driver",props:{entries:Object,tenantSlug:String,SuperAdmin:Boolean,tenants:Array,permissions:Array},setup(w){const m=w,we=x(m.dateFilter||"full"),O=x(m.perPage||10),h=x([]),N=x(!1),F=x(""),C=x(""),T=x(!1),E=x(!1),R=x("Create Driver"),A=x("Create"),G=x(null),W=x(null),M=x("last_name"),U=x("asc"),b=x({search:"",dateFrom:"",dateTo:""}),be=[{title:m.tenantSlug?"Dashboard":"Admin Dashboard",href:m.tenantSlug?route("dashboard",{tenantSlug:m.tenantSlug}):route("admin.dashboard")},{title:"Drivers",href:m.tenantSlug?route("driver.index",{tenantSlug:m.tenantSlug}):route("driver.index.admin")}];L(()=>{const r=[{accessorKey:"first_name",header:"First Name",cell:e=>e.getValue(),enableSorting:!0},{accessorKey:"last_name",header:"Last Name",cell:e=>e.getValue(),enableSorting:!0},{accessorKey:"email",header:"Email",cell:e=>e.getValue(),enableSorting:!0},{accessorKey:"mobile_phone",header:"Mobile Phone",cell:e=>e.getValue(),enableSorting:!0},{accessorKey:"hiring_date",header:"Hiring Date",cell:e=>ie(e.getValue()),enableSorting:!0},{id:"actions",header:"Actions",cell:e=>({driver:e.row.original,edit:()=>ne(e.row.original),delete:()=>de(e.row.original.id)}),enableSorting:!1}];return m.SuperAdmin&&r.unshift({accessorKey:"tenant.name",header:"Company Name",cell:e=>{var l;return((l=e.row.original.tenant)==null?void 0:l.name)??"—"},enableSorting:!0}),r});const z=["first_name","last_name","email","netradyne_user_name","mobile_phone","hiring_date"],o=K({id:null,first_name:"",last_name:"",email:"",mobile_phone:"",hiring_date:"",netradyne_user_name:"",tenant_id:null,password:"",image:null}),re=K({csv_file:null}),H=x(!1),he=K({}),X=L(()=>{let r=[...m.entries.data];if(b.value.search){const e=b.value.search.toLowerCase();r=r.filter(l=>{var u,p,I;return((u=l.first_name)==null?void 0:u.toLowerCase().includes(e))||((p=l.last_name)==null?void 0:p.toLowerCase().includes(e))||((I=l.email)==null?void 0:I.toLowerCase().includes(e))})}return b.value.dateFrom&&(r=r.filter(e=>e.hiring_date&&e.hiring_date>=b.value.dateFrom)),b.value.dateTo&&(r=r.filter(e=>e.hiring_date&&e.hiring_date<=b.value.dateTo)),r.sort((e,l)=>{let u=e[M.value],p=l[M.value];return u===null?1:p===null?-1:(typeof u=="string"&&(u=u.toLowerCase(),p=p.toLowerCase()),u<p?U.value==="asc"?-1:1:u>p?U.value==="asc"?1:-1:0)}),r});function ke(r){M.value===r?U.value=U.value==="asc"?"desc":"asc":(M.value=r,U.value="asc")}function Y(){}function Se(){b.value={search:"",dateFrom:"",dateTo:""}}function Ce(){o.reset(),o.tenant_id=null,o.netradyne_user_name="",R.value="Create Driver",A.value="Create",T.value=!0}function ne(r){o.id=r.id,o.first_name=r.first_name,o.last_name=r.last_name,o.email=r.email,o.mobile_phone=r.mobile_phone,o.hiring_date=r.hiring_date,o.tenant_id=r.tenant_id,o.netradyne_user_name=r.netradyne_user_name,o.password=r.password,R.value="Edit Driver",A.value="Update",r.image?V.value=`/storage/${r.image}`:V.value=null,T.value=!0}function oe(){T.value=!1,o.reset(),V.value=null}function De(){o.password===void 0&&(o.password=null);const r=new FormData;Object.keys(o.data()).forEach(p=>{p==="image"&&o.image instanceof File?r.append("image",o.image):o[p]!==void 0&&o[p]!==null&&r.append(p,o[p])}),o.id&&r.append("id",o.id);const e=A.value==="Create",l=e?m.SuperAdmin?route("driver.store.admin"):route("driver.store",m.tenantSlug):m.SuperAdmin?route("driver.update.admin",[o.id]):route("driver.update",[m.tenantSlug,o.id]);o["post"](l,{data:r,forceFormData:!0,onSuccess:()=>{C.value=e?"Driver created successfully.":"Driver updated successfully.",oe()},onError:p=>{if(console.error("Form submission error:",p),p&&Object.keys(p).length>0){const I=Object.values(p)[0];F.value=I}else F.value="An error occurred. Please try again."}})}function de(r){W.value=r,E.value=!0}function Ve(){he.delete(m.SuperAdmin?route("driver.destroy.admin",[W.value]):route("driver.destroy",[m.tenantSlug,W.value]),{onSuccess:()=>{C.value="Driver deleted.",E.value=!1}})}function $e(r){var l;const e=(l=r.target.files)==null?void 0:l[0];e&&(re.csv_file=e,re.post(m.SuperAdmin?route("driver.import.admin"):route("driver.import",m.tenantSlug),{forceFormData:!0,onSuccess:()=>C.value="Data imported successfully.",onError:()=>alert("Import failed")}))}function Fe(){var e,l;if(m.entries.data.length===0){F.value="No data available to export",setTimeout(()=>{F.value=""},3e3);return}const r=m.SuperAdmin?route("driver.export.admin"):route("driver.export",m.tenantSlug);(e=G.value)==null||e.setAttribute("action",r),(l=G.value)==null||l.submit()}function Ae(r){if(r){const e=new URL(r);e.searchParams.set("perPage",O.value),ye.get(e.href,{},{only:["entries"],preserveState:!0})}}Be(C,r=>{r&&setTimeout(()=>{C.value=""},5e3)});function ie(r){if(!r)return"";const e=r.split("-");if(e.length!==3)return r;const[l,u,p]=e;return`${Number(u)}/${Number(p)}/${l}`}function Ue(r){let e=r.target.value.replace(/\D/g,"").slice(0,10),l=e;e.length>6?l=`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:e.length>3?l=`(${e.slice(0,3)}) ${e.slice(3)}`:e.length>0&&(l=`(${e}`),r.target.value=l,o.mobile_phone=l}function Ne(){const r=m.tenantSlug?route("driver.index",{tenantSlug:m.tenantSlug}):route("driver.index.admin");ye.get(r,{dateFilter:we.value,perPage:O.value},{preserveState:!0})}const Te=L(()=>X.value.length>0&&h.value.length===X.value.length);function Ee(r){r.target.checked?h.value=m.entries.data.map(e=>e.id):h.value=[]}function Me(){h.value.length>0&&(N.value=!0)}function Pe(){const r=K({ids:h.value}),e=m.SuperAdmin?"driver.destroyBulk.admin":"driver.destroyBulk",l=m.SuperAdmin?{}:{tenantSlug:m.tenantSlug};r.delete(route(e,l),{preserveScroll:!0,onSuccess:()=>{C.value=`${h.value.length} driver records deleted successfully.`,h.value=[],N.value=!1},onError:u=>{console.error(u)}})}const P=x(!1),Le=L(()=>"/storage/upload-data-temps/Drivers Template.csv");Oe(()=>{const r=e=>{P.value&&!e.target.closest(".relative")&&(P.value=!1)};document.addEventListener("click",r),ze(()=>{document.removeEventListener("click",r)})});const g=L(()=>m.permissions.map(r=>r.name)),V=x(null);function je(r){const e=r.target.files[0];if(e){o.image=e;const l=new FileReader;l.onload=u=>{V.value=u.target.result},l.readAsDataURL(e)}else o.image=null,V.value=null}return(r,e)=>(d(),f(We,{breadcrumbs:be,tenantSlug:w.tenantSlug,permissions:m.permissions},{default:s(()=>[a(t(Xe),{title:"Drivers"}),n("div",Qe,[C.value?(d(),f(t(ce),{key:0,variant:"success"},{default:s(()=>[a(t(xe),null,{default:s(()=>e[22]||(e[22]=[i("Success")])),_:1}),a(t(ge),null,{default:s(()=>[i(y(C.value),1)]),_:1})]),_:1})):v("",!0),F.value?(d(),f(t(ce),{key:1,variant:"destructive"},{default:s(()=>[a(t(xe),null,{default:s(()=>e[23]||(e[23]=[i("Error")])),_:1}),a(t(ge),null,{default:s(()=>[i(y(F.value),1)]),_:1})]),_:1})):v("",!0),n("div",Ze,[e[28]||(e[28]=n("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold"},"Driver Management",-1)),n("div",et,[g.value.includes("drivers.create")?(d(),f(t(_),{key:0,class:"px-2 py-0 md:px-4 md:py-2",onClick:Ce,variant:"default"},{default:s(()=>[a(D,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),e[24]||(e[24]=i(" Create New Driver "))]),_:1})):v("",!0),h.value.length>0&&g.value.includes("drivers.delete")?(d(),f(t(_),{key:1,class:"px-2 py-0 md:px-4 md:py-2",onClick:e[0]||(e[0]=l=>Me()),variant:"destructive"},{default:s(()=>[a(D,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),i(" Delete Selected ("+y(h.value.length)+") ",1)]),_:1})):v("",!0),n("div",tt,[g.value.includes("drivers.import")?(d(),f(t(_),{key:0,class:"px-2 py-0 md:px-4 md:py-2",onClick:e[1]||(e[1]=l=>P.value=!P.value),variant:"secondary"},{default:s(()=>[a(D,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),e[25]||(e[25]=i(" Upload CSV ")),a(D,{name:"chevron-down",class:"mr-1 h-4 w-4 md:mr-2"})]),_:1})):v("",!0),P.value?(d(),c("div",lt,[n("div",at,[n("label",st,[e[26]||(e[26]=n("span",null,"Upload CSV File",-1)),n("input",{type:"file",class:"hidden",onChange:$e,accept:".csv, .txt"},null,32)]),n("a",{href:Le.value,download:"Drivers Template.csv",class:"block px-4 py-2 text-sm hover:bg-muted"}," Download Template ",8,rt)])])):v("",!0)]),g.value.includes("drivers.export")?(d(),f(t(_),{key:2,class:"px-2 py-0 md:px-4 md:py-2",onClick:ue(Fe,["prevent"]),variant:"outline"},{default:s(()=>[a(D,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),e[27]||(e[27]=i(" Download CSV "))]),_:1})):v("",!0)])]),a(t(fe),null,{default:s(()=>[a(t(Re),{class:"p-2 md:p-4 lg:p-6"},{default:s(()=>[a(t(Ge),{class:"text-lg md:text-xl lg:text-2xl"},{default:s(()=>e[29]||(e[29]=[i("Filters")])),_:1})]),_:1}),a(t(ve),{class:"p-2 md:p-4 lg:p-6"},{default:s(()=>[n("div",nt,[n("div",ot,[n("div",null,[a(t(k),{for:"search"},{default:s(()=>e[30]||(e[30]=[i("Search")])),_:1}),a(t(S),{class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10",id:"search",modelValue:b.value.search,"onUpdate:modelValue":e[2]||(e[2]=l=>b.value.search=l),type:"text",placeholder:"Search by name or email...",onInput:Y},null,8,["modelValue"])]),n("div",null,[a(t(k),{for:"dateFrom"},{default:s(()=>e[31]||(e[31]=[i("Hiring Date From")])),_:1}),a(t(S),{class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10",id:"dateFrom",modelValue:b.value.dateFrom,"onUpdate:modelValue":e[3]||(e[3]=l=>b.value.dateFrom=l),type:"date",onChange:Y},null,8,["modelValue"])]),n("div",null,[a(t(k),{for:"dateTo"},{default:s(()=>e[32]||(e[32]=[i("Hiring Date To")])),_:1}),a(t(S),{class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10",id:"dateTo",modelValue:b.value.dateTo,"onUpdate:modelValue":e[4]||(e[4]=l=>b.value.dateTo=l),type:"date",onChange:Y},null,8,["modelValue"])])]),a(t(_),{onClick:Se,variant:"ghost",size:"sm"},{default:s(()=>[a(D,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),e[33]||(e[33]=i(" Reset "))]),_:1})])]),_:1})]),_:1}),a(t(fe),{class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto"},{default:s(()=>[a(t(ve),{class:"p-0"},{default:s(()=>[n("div",dt,[a(t(Ie),{class:"relative h-[600px] overflow-auto"},{default:s(()=>[a(t(qe),null,{default:s(()=>[a(t(Q),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:s(()=>[g.value.includes("drivers.delete")?(d(),f(t(q),{key:0,class:"w-[50px]"},{default:s(()=>[n("div",it,[n("input",{type:"checkbox",onChange:Ee,checked:Te.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,ut)])]),_:1})):v("",!0),w.SuperAdmin?(d(),f(t(q),{key:1},{default:s(()=>e[34]||(e[34]=[i("Company Name")])),_:1})):v("",!0),(d(),c($,null,j(z,l=>a(t(q),{key:l,class:"cursor-pointer",onClick:u=>ke(l)},{default:s(()=>[n("div",mt,[l==="hiring_date"?(d(),c("div",pt," Hire Date ")):(d(),c("div",ft,y(l.replace(/_/g," ").split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ")),1)),M.value===l?(d(),c("div",vt,[U.value==="asc"?(d(),c("svg",ct,e[35]||(e[35]=[n("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(d(),c("svg",xt,e[36]||(e[36]=[n("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(d(),c("div",gt,e[37]||(e[37]=[n("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M8 10l4-4 4 4"}),n("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),g.value.includes("drivers.view")||g.value.includes("drivers.update")||g.value.includes("drivers.delete")?(d(),f(t(q),{key:2},{default:s(()=>e[38]||(e[38]=[i(" Actions ")])),_:1})):v("",!0)]),_:1})]),_:1}),a(t(Ke),null,{default:s(()=>[w.entries.data.length===0?(d(),f(t(Q),{key:0},{default:s(()=>[a(t(B),{colspan:w.SuperAdmin?z.length+3:z.length+2,class:"py-8 text-center"},{default:s(()=>e[39]||(e[39]=[i(" No driver records found matching your criteria ")])),_:1},8,["colspan"])]),_:1})):v("",!0),(d(!0),c($,null,j(w.entries.data,l=>(d(),f(t(Q),{key:l.id},{default:s(()=>[g.value.includes("drivers.delete")?(d(),f(t(B),{key:0,class:"text-center"},{default:s(()=>[J(n("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":e[5]||(e[5]=u=>h.value=u),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,yt),[[He,h.value]])]),_:2},1024)):v("",!0),w.SuperAdmin?(d(),f(t(B),{key:1},{default:s(()=>{var u;return[i(y(((u=l.tenant)==null?void 0:u.name)??"—"),1)]}),_:2},1024)):v("",!0),(d(),c($,null,j(z,u=>a(t(B),{key:u},{default:s(()=>[u==="hiring_date"?(d(),c($,{key:0},[i(y(ie(l[u])),1)],64)):u==="mobile_phone"?(d(),c("div",_t,y(l[u]),1)):(d(),c($,{key:2},[i(y(l[u]),1)],64))]),_:2},1024)),64)),g.value.includes("drivers.profile.view")||g.value.includes("drivers.update")||g.value.includes("drivers.delete")?(d(),f(t(B),{key:2},{default:s(()=>[n("div",wt,[g.value.includes("drivers.profile.view")?(d(),f(t(Ye),{key:0,href:w.tenantSlug?r.route("driver.show",[w.tenantSlug,l.id]):r.route("driver.show.admin",l.id),class:"flex items-center gap-1"},{default:s(()=>[a(t(_),{variant:"default",size:"sm",class:"flex items-center gap-1"},{default:s(()=>[a(t(_e),{class:"h-4 w-4"}),e[40]||(e[40]=n("span",null,"View",-1))]),_:1})]),_:2},1032,["href"])):v("",!0),g.value.includes("drivers.update")?(d(),f(t(_),{key:1,onClick:u=>ne(l),variant:"warning",size:"sm"},{default:s(()=>[a(D,{name:"pencil",class:"mr-1 h-4 w-4"}),e[41]||(e[41]=i(" Edit "))]),_:2},1032,["onClick"])):v("",!0),g.value.includes("drivers.delete")?(d(),f(t(_),{key:2,onClick:u=>de(l.id),variant:"destructive",size:"sm"},{default:s(()=>[a(D,{name:"trash",class:"mr-1 h-4 w-4"}),e[42]||(e[42]=i(" Delete "))]),_:2},1032,["onClick"])):v("",!0)])]),_:2},1024)):v("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),w.entries.links?(d(),c("div",bt,[n("div",ht,[n("div",kt,[n("span",null,"Showing "+y(X.value.length)+" of "+y(w.entries.data.length)+" entries",1),n("div",St,[e[44]||(e[44]=n("span",{class:"text-sm"},"Show:",-1)),J(n("select",{id:"perPage","onUpdate:modelValue":e[6]||(e[6]=l=>O.value=l),onChange:Ne,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[43]||(e[43]=[n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1),n("option",{value:"100"},"100",-1)]),544),[[me,O.value]])])]),n("div",Ct,[(d(!0),c($,null,j(w.entries.links,l=>(d(),f(t(_),{key:l.label,onClick:u=>Ae(l.url),disabled:!l.url,variant:"ghost",size:"sm",class:pe(["mx-1",{"border-primary bg-primary/10 text-primary":l.active}])},{default:s(()=>[n("span",{innerHTML:l.label},null,8,Dt)]),_:2},1032,["onClick","disabled","class"]))),128))])])])):v("",!0)]),_:1})]),_:1}),a(t(Z),{open:T.value,"onUpdate:open":e[16]||(e[16]=l=>T.value=l)},{default:s(()=>[a(t(ee),{class:"sm:max-w-4xl max-w-[95vw] mx-auto p-2 md:p-4 lg:p-6"},{default:s(()=>[a(t(le),{class:"space-y-1 md:space-y-2"},{default:s(()=>[a(t(ae),{class:"text-lg md:text-xl lg:text-2xl"},{default:s(()=>[i(y(R.value),1)]),_:1}),a(t(te),{class:"text-sm md:text-base"},{default:s(()=>[i(" Fill in the details to "+y(A.value.toLowerCase())+" a driver. ",1)]),_:1})]),_:1}),n("div",Vt,[n("form",{onSubmit:ue(De,["prevent"]),class:"grid grid-cols-1 gap-2 md:gap-4 sm:grid-cols-2 mt-2 md:mt-4"},[w.SuperAdmin?(d(),c("div",$t,[a(t(k),{for:"tenant",class:"text-sm md:text-base"},{default:s(()=>e[45]||(e[45]=[i("Company")])),_:1}),J(n("select",{id:"tenant","onUpdate:modelValue":e[7]||(e[7]=l=>t(o).tenant_id=l),class:"flex h-8 md:h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-2 md:px-3 py-1 md:py-2 text-xs md:text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[e[46]||(e[46]=n("option",{value:""},"Select Company",-1)),(d(!0),c($,null,j(w.tenants,l=>(d(),c("option",{key:l.id,value:l.id},y(l.name),9,Ft))),128))],512),[[me,t(o).tenant_id]])])):v("",!0),n("div",null,[a(t(k),{for:"first_name",class:"text-sm md:text-base"},{default:s(()=>e[47]||(e[47]=[i("First Name")])),_:1}),a(t(S),{id:"first_name",modelValue:t(o).first_name,"onUpdate:modelValue":e[8]||(e[8]=l=>t(o).first_name=l),type:"text",required:"",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-3 py-1 md:py-2"},null,8,["modelValue"])]),n("div",null,[a(t(k),{for:"last_name",class:"text-sm md:text-base"},{default:s(()=>e[48]||(e[48]=[i("Last Name")])),_:1}),a(t(S),{id:"last_name",modelValue:t(o).last_name,"onUpdate:modelValue":e[9]||(e[9]=l=>t(o).last_name=l),type:"text",required:"",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-3 py-1 md:py-2"},null,8,["modelValue"])]),n("div",At,[a(t(k),{for:"email",class:"text-sm md:text-base"},{default:s(()=>e[49]||(e[49]=[i("Email Address")])),_:1}),a(t(S),{id:"email",modelValue:t(o).email,"onUpdate:modelValue":e[10]||(e[10]=l=>t(o).email=l),type:"email",required:"",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-3 py-1 md:py-2"},null,8,["modelValue"])]),n("div",Ut,[a(t(k),{for:"password",class:"flex items-center"},{default:s(()=>[e[50]||(e[50]=n("span",null,"Password",-1)),A.value==="Create"?(d(),c("span",Nt,"*")):v("",!0)]),_:1}),n("div",Tt,[a(t(S),{id:"password",modelValue:t(o).password,"onUpdate:modelValue":e[11]||(e[11]=l=>t(o).password=l),type:H.value?"text":"password",placeholder:"Enter password",class:pe(["w-full pr-10",{"border-destructive":t(o).errors.password}])},null,8,["modelValue","type","class"]),n("button",{type:"button",onClick:e[12]||(e[12]=l=>H.value=!H.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[H.value?(d(),f(t(Je),{key:1,class:"h-5 w-5"})):(d(),f(t(_e),{key:0,class:"h-5 w-5"}))])])]),n("div",Et,[a(t(k),{for:"netradyne_user_name",class:"text-sm md:text-base"},{default:s(()=>e[51]||(e[51]=[i("Netradyne User Name")])),_:1}),a(t(S),{id:"netradyne_user_name",modelValue:t(o).netradyne_user_name,"onUpdate:modelValue":e[13]||(e[13]=l=>t(o).netradyne_user_name=l),type:"text",required:"",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-3 py-1 md:py-2"},null,8,["modelValue"])]),n("div",Mt,[a(t(k),{for:"mobile_phone",class:"text-sm md:text-base"},{default:s(()=>e[52]||(e[52]=[i("Mobile Phone Number")])),_:1}),a(t(S),{id:"mobile_phone",modelValue:t(o).mobile_phone,"onUpdate:modelValue":e[14]||(e[14]=l=>t(o).mobile_phone=l),type:"tel",required:"",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-3 py-1 md:py-2",onInput:Ue},null,8,["modelValue"])]),n("div",Pt,[a(t(k),{for:"hiring_date",class:"text-sm md:text-base"},{default:s(()=>e[53]||(e[53]=[i("Hiring Date")])),_:1}),a(t(S),{id:"hiring_date",modelValue:t(o).hiring_date,"onUpdate:modelValue":e[15]||(e[15]=l=>t(o).hiring_date=l),type:"date",required:"",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-3 py-1 md:py-2"},null,8,["modelValue"])]),n("div",Lt,[a(t(k),{for:"image",class:"text-sm md:text-base"},{default:s(()=>e[54]||(e[54]=[i("Driver Image")])),_:1}),a(t(S),{id:"image",type:"file",accept:"image/*",onChange:je,class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-3 py-1 md:py-2"}),V.value?(d(),c("div",jt,[n("img",{src:V.value,alt:"Image Preview",class:"h-24 w-24 object-cover rounded-md"},null,8,Bt)])):v("",!0)]),a(t(se),{class:"col-span-2 mt-4 flex flex-col sm:flex-row gap-2 sm:gap-4 justify-end"},{default:s(()=>[a(t(_),{type:"button",onClick:oe,variant:"outline",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-4 py-1 md:py-2"},{default:s(()=>e[55]||(e[55]=[i("Cancel")])),_:1}),a(t(_),{type:"submit",variant:"default",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-4 py-1 md:py-2"},{default:s(()=>[i(y(A.value),1)]),_:1})]),_:1})],32)])]),_:1})]),_:1},8,["open"]),a(t(Z),{open:E.value,"onUpdate:open":e[18]||(e[18]=l=>E.value=l)},{default:s(()=>[a(t(ee),{class:"max-w-[95vw] sm:max-w-md mx-auto p-2 md:p-4 lg:p-6"},{default:s(()=>[a(t(le),{class:"space-y-1 md:space-y-2"},{default:s(()=>[a(t(ae),{class:"text-lg md:text-xl lg:text-2xl"},{default:s(()=>e[56]||(e[56]=[i("Confirm Deletion")])),_:1}),a(t(te),{class:"text-sm md:text-base"},{default:s(()=>e[57]||(e[57]=[i(" Are you sure you want to delete this driver? This action cannot be undone. ")])),_:1})]),_:1}),a(t(se),{class:"mt-2 md:mt-4 flex flex-col sm:flex-row gap-2 sm:gap-4 justify-end"},{default:s(()=>[a(t(_),{type:"button",onClick:e[17]||(e[17]=l=>E.value=!1),variant:"outline",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-4 py-1 md:py-2"},{default:s(()=>e[58]||(e[58]=[i(" Cancel ")])),_:1}),a(t(_),{type:"button",onClick:Ve,variant:"destructive",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-4 py-1 md:py-2"},{default:s(()=>e[59]||(e[59]=[i(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),a(t(Z),{open:N.value,"onUpdate:open":e[21]||(e[21]=l=>N.value=l)},{default:s(()=>[a(t(ee),{class:"max-w-[95vw] sm:max-w-md mx-auto p-2 md:p-4 lg:p-6"},{default:s(()=>[a(t(le),{class:"space-y-1 md:space-y-2"},{default:s(()=>[a(t(ae),{class:"text-lg md:text-xl lg:text-2xl"},{default:s(()=>e[60]||(e[60]=[i("Confirm Bulk Deletion")])),_:1}),a(t(te),{class:"text-sm md:text-base"},{default:s(()=>[i(" Are you sure you want to delete "+y(h.value.length)+" driver records? This action cannot be undone. ",1)]),_:1})]),_:1}),a(t(se),{class:"mt-2 md:mt-4 flex flex-col sm:flex-row gap-2 sm:gap-4 justify-end"},{default:s(()=>[a(t(_),{type:"button",onClick:e[19]||(e[19]=l=>N.value=!1),variant:"outline",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-4 py-1 md:py-2"},{default:s(()=>e[61]||(e[61]=[i(" Cancel ")])),_:1}),a(t(_),{type:"button",onClick:e[20]||(e[20]=l=>Pe()),variant:"destructive",class:"h-8 md:h-10 text-xs md:text-sm px-2 md:px-4 py-1 md:py-2"},{default:s(()=>e[62]||(e[62]=[i(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),n("form",{ref_key:"exportForm",ref:G,method:"GET",class:"hidden"},null,512)])]),_:1},8,["tenantSlug","permissions"]))}};export{ul as default};
