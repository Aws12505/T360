import{c as M,b as N,e as r,f as l,z as a,u as s,X as i,G as I,F as n,E as T,H as A,O as V,U as d,S as O,ah as U,C as E,D as F}from"./vendor--q1ey8Ib.js";import{x as Z,g as j}from"./vendor-vue-BsCVk3W_.js";import{_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-wR8_mEPh.js";import{_ as L}from"./Layout.vue_vue_type_script_setup_true_lang-Ky4BYGJn.js";import{_ as X}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-Dx3kWf8U.js";import{_ as q}from"./Button.vue_vue_type_script_setup_true_lang-CURKxeic.js";import{_ as J}from"./Input.vue_vue_type_script_setup_true_lang-D2siHqHg.js";import{_ as K}from"./Label.vue_vue_type_script_setup_true_lang-DXVzP2wd.js";import{_ as P}from"./Separator.vue_vue_type_script_setup_true_lang-lkFrsBLM.js";import{u as Q}from"./use-toast-BOloRVmn.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-tTsIgFyK.js";import"./vendor-ui-VCcvGdtT.js";import"./Icon.vue_vue_type_script_setup_true_lang-Cf3euL4G.js";import"./vendor-icons-Cd5utPp1.js";import"./useInitials-DzeGKvtI.js";import"./app-CDLfz5Ol.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dc8NxSZT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"space-y-6"},W={class:"text-sm font-medium mb-2 capitalize text-muted-foreground"},Y={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},ee={key:0,class:"text-sm text-destructive"},se={key:0,class:"flex items-center gap-4"},oe={key:0},te={key:1},re={class:"text-sm text-neutral-600"},Be={__name:"SMSCoachingThresholds",props:{thresholds:Object,tenantSlug:String,permissions:Array},setup(m){var u,h,g,b,v,y,f,k,S,x,z,B;const e=m,G=M(()=>[{title:e.tenantSlug?"Dashboard":"Admin Dashboard",href:e.tenantSlug?route("dashboard",{tenantSlug:e.tenantSlug}):route("admin.dashboard")}]),{toast:$}=Q(),o=Z({on_time_good:((u=e.thresholds)==null?void 0:u.on_time_good)??"",on_time_bad:((h=e.thresholds)==null?void 0:h.on_time_bad)??"",on_time_minor_improvement:((g=e.thresholds)==null?void 0:g.on_time_minor_improvement)??"",acceptance_good:((b=e.thresholds)==null?void 0:b.acceptance_good)??"",acceptance_bad:((v=e.thresholds)==null?void 0:v.acceptance_bad)??"",acceptance_minor_improvement:((y=e.thresholds)==null?void 0:y.acceptance_minor_improvement)??"",greenzone_score_good:((f=e.thresholds)==null?void 0:f.greenzone_score_good)??"",greenzone_score_bad:((k=e.thresholds)==null?void 0:k.greenzone_score_bad)??"",greenzone_score_minor_improvement:((S=e.thresholds)==null?void 0:S.greenzone_score_minor_improvement)??"",severe_alerts_good:((x=e.thresholds)==null?void 0:x.severe_alerts_good)??"",severe_alerts_bad:((z=e.thresholds)==null?void 0:z.severe_alerts_bad)??"",severe_alerts_minor_improvement:((B=e.thresholds)==null?void 0:B.severe_alerts_minor_improvement)??""}),w=[{key:"on_time",label:"On-Time (%)",fields:[{key:"on_time_good",label:"Good"},{key:"on_time_bad",label:"Bad"},{key:"on_time_minor_improvement",label:"Minor Improvement"}]},{key:"acceptance",label:"Acceptance (%)",fields:[{key:"acceptance_good",label:"Good"},{key:"acceptance_bad",label:"Bad"},{key:"acceptance_minor_improvement",label:"Minor Improvement"}]},{key:"greenzone_score",label:"Green Zone Score (out of 1050)",fields:[{key:"greenzone_score_good",label:"Good"},{key:"greenzone_score_bad",label:"Bad"},{key:"greenzone_score_minor_improvement",label:"Minor Improvement"}]},{key:"severe_alerts",label:"Severe Alerts",fields:[{key:"severe_alerts_good",label:"Good"},{key:"severe_alerts_bad",label:"Bad"},{key:"severe_alerts_minor_improvement",label:"Minor Improvement"}]}],C=()=>{o.post(route("thresholds.update",e.tenantSlug),{onSuccess:()=>{$({title:"Success",description:"Thresholds saved successfully"})},preserveScroll:!0})},p=M(()=>Array.isArray(e.permissions)?e.permissions.map(c=>c==null?void 0:c.name).filter(Boolean):[]);return(c,ae)=>(r(),N(H,{breadcrumbs:G.value,tenantSlug:m.tenantSlug,permissions:m.permissions},{default:l(()=>[a(s(j),{title:"SMS Thresholds"}),a(L,{permissions:m.permissions},{default:l(()=>[i("div",R,[a(X,{title:"SMS Score Thresholds",description:"Manage performance thresholds for On-Time, Acceptance, Green Zone, and Severe Alerts."}),a(s(P)),i("form",{onSubmit:I(C,["prevent"]),class:"space-y-6 max-w-2xl"},[(r(),n(A,null,V(w,_=>i("div",{key:_.key},[i("h3",W,d(_.label),1),i("div",Y,[(r(!0),n(A,null,V(_.fields,t=>(r(),n("div",{key:t.key,class:"grid gap-2"},[a(s(K),{for:t.key},{default:l(()=>[O(d(t.label),1)]),_:2},1032,["for"]),a(s(J),{id:t.key,modelValue:s(o)[t.key],"onUpdate:modelValue":D=>s(o)[t.key]=D,type:"number",step:"0.01",class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),s(o).errors[t.key]?(r(),n("p",ee,d(s(o).errors[t.key]),1)):T("",!0)]))),128))])])),64)),p.value&&p.value.includes("sms-coaching-thresholds.update")?(r(),n("div",se,[a(s(q),{type:"submit",disabled:s(o).processing},{default:l(()=>[s(o).processing?(r(),n("span",oe,"Saving...")):(r(),n("span",te,"Save Changes"))]),_:1},8,["disabled"]),a(U,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:l(()=>[E(i("p",re,"Saved.",512),[[F,s(o).recentlySuccessful]])]),_:1})])):T("",!0)],32)])]),_:1},8,["permissions"])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}};export{Be as default};
