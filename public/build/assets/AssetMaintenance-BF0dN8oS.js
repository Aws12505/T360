import{x as xe,W as fe,g as Ct}from"./vendor-vue-BInP8APy.js";import{_ as St}from"./AppLayout.vue_vue_type_script_setup_true_lang-BEJs704y.js";import{d as Pe,r as V,c as E,w as dt,y as ut,N as mt,F as v,e as d,b as g,E as w,X as l,z as t,f as a,u as e,S as o,U as f,G as ke,ah as pt,C as P,Y,H as I,O as q,ai as qe,aj as ge,ak as $t,al as lt,P as Vt,n as At,j as Dt}from"./vendor-DrR5RGOb.js";import{_ as i}from"./Icon.vue_vue_type_script_setup_true_lang-terbfsn5.js";import{_ as we,a as be,b as j,c as U,d as ye,e as $}from"./TableRow.vue_vue_type_script_setup_true_lang-Ch0lDg94.js";import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang-B9WZ-5fZ.js";import{_ as Ve}from"./Card.vue_vue_type_script_setup_true_lang-BDqXYs3O.js";import{_ as ft}from"./CardHeader.vue_vue_type_script_setup_true_lang-CWEBEWo7.js";import{_ as ct}from"./CardTitle.vue_vue_type_script_setup_true_lang-CPLWcS8i.js";import{_ as Ae}from"./CardContent.vue_vue_type_script_setup_true_lang-B7wYZRrP.js";import{_ as de,a as ie,b as ue,c as me,d as pe}from"./DialogDescription.vue_vue_type_script_setup_true_lang-CCtm4eoK.js";import{_ as ce}from"./DialogFooter.vue_vue_type_script_setup_true_lang-NVpKV1tK.js";import{_ as C}from"./Label.vue_vue_type_script_setup_true_lang-G5SND9_d.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-CfJsKr1D.js";import{_ as De,a as Oe,b as Ue}from"./AlertDescription.vue_vue_type_script_setup_true_lang-BGsFFXsR.js";import{_ as st}from"./SortIndicator-Bw_PG_BZ.js";import{_ as Ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as it}from"./app-DzyFJsmj.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-u708RIqT.js";import"./vendor-ui-iQj4qE_J.js";import"./vendor-icons-CwVCzoc4.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DZucapxj.js";const Ut={class:"w-full pt-6 md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-1 space-y-6"},Mt={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},Nt={class:"flex items-center gap-3"},Tt={class:"flex flex-wrap gap-3"},It={class:"relative"},zt={key:1,class:"absolute right-0 mt-1 w-48 rounded-md border bg-background shadow-lg z-10"},Ft={class:"py-1"},Bt={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted"},Et=["href"],qt={class:"flex justify-between items-center"},Pt={class:"text-sm hidden sm:inline"},Lt={class:"flex flex-col gap-6"},Wt={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},Rt={class:"relative"},jt={class:"relative"},Qt={class:"overflow-x-auto"},Yt={class:"flex items-center justify-center"},Gt=["checked"],Ht={class:"flex items-center space-x-1"},Kt={key:4,class:"ml-2"},Zt={key:0,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Xt={key:1,class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Jt={key:5,class:"ml-2 opacity-50"},es={class:"flex flex-col items-center justify-center text-muted-foreground"},ts=["value"],ss={class:"flex space-x-2"},ls={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},as={class:"flex items-center gap-4 text-sm text-muted-foreground"},ns={class:"flex items-center gap-1"},os={class:"flex items-center gap-1"},rs={class:"relative"},ds=["value"],is={class:"flex space-x-1"},us={class:"flex items-center gap-2"},ms={key:0,class:"col-span-2 sm:col-span-1"},ps={class:"relative"},fs=["value"],cs={class:"col-span-2 sm:col-span-1"},vs={class:"col-span-2 sm:col-span-1"},xs={class:"relative"},gs={class:"col-span-2 sm:col-span-1"},ws={class:"relative"},bs={class:"col-span-2 sm:col-span-1"},ys={class:"relative"},ks={class:"col-span-2 sm:col-span-1"},_s={class:"col-span-2 sm:col-span-1"},hs={class:"col-span-2 sm:col-span-1"},Cs={class:"relative"},Ss={class:"col-span-2 sm:col-span-1"},$s={class:"relative"},Vs={class:"col-span-2 sm:col-span-1"},As={class:"relative"},Ds={class:"col-span-2 sm:col-span-1"},Os={class:"relative"},Us={class:"col-span-2 sm:col-span-1"},Ms={class:"col-span-2 sm:col-span-1"},Ns={class:"col-span-2 sm:col-span-1"},Ts={class:"relative"},Is={class:"col-span-2 mt-4 flex justify-end gap-3"},zs=Pe({__name:"TrucksComponent",props:{entries:{},tenantSlug:{},SuperAdmin:{type:Boolean},tenants:{},perPage:{},permissions:{}},emits:["update:perPage"],setup(D,{emit:p}){const O=D,T=V({search:"",type:"",make:""}),z=V("truckid"),F=V("asc"),L=V(1),S=V(10),Z=V(10),B=V([]),G=V(!1),R=V(""),M=V(""),H=V(!1),se=V(!1),K=V(!1),b=V(null),oe=V(!1),le=V(!1),y=xe({id:null,truckid:null,type:"daycab",make:"international",fuel:"diesel",license:null,vin:"",tenant_id:O.SuperAdmin?"":null,status:"active",inspection_status:"good",inspection_expiry_date:new Date().toISOString().split("T")[0]}),ee=xe({csv_file:null}),ve=V(null),Me=E(()=>O.entries.filter(x=>{var n,u;return!(T.value.search&&!String(x.truckid).includes(T.value.search)&&!(x.vin||"").toLowerCase().includes(T.value.search.toLowerCase())||T.value.type&&((n=x.type)==null?void 0:n.toLowerCase())!=T.value.type||T.value.make&&((u=x.make)==null?void 0:u.toLowerCase())!=T.value.make)})),re=E(()=>[...Me.value].sort((x,n)=>{let u=x[z.value],N=n[z.value];return u==null?1:N==null?-1:(typeof u=="string"&&(u=u.toLowerCase(),N=N.toLowerCase()),u<N?F.value==="asc"?-1:1:u>N?F.value==="asc"?1:-1:0)})),_=E(()=>Math.ceil(re.value.length/S.value)),m=E(()=>{const x=(L.value-1)*S.value,n=x+S.value;return re.value.slice(x,n)}),h=E(()=>m.value.length>0&&m.value.every(x=>B.value.includes(x.id))),W=["truckid","type","make","fuel","license","vin","inspection_status","inspection_expiry_date","status"];dt(R,x=>x&&setTimeout(()=>R.value="",5e3)),dt(S,x=>{Z.value=x});function X(x){return x.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function ae(x){return x?new Date(x+"T00:00:00").toLocaleDateString():"—"}function he(x,n){if(n==="inspection_status")return x.inspection_status==="good"?"Good":"Expired";if(n==="inspection_expiry_date")return ae(x[n]);if(n==="fuel"&&x.fuel==="cng")return"CNG";const u=x[n];return typeof u=="string"?u.charAt(0).toUpperCase()+u.slice(1):u}const _e=()=>{L.value=1};function Ne(){T.value={search:"",type:"",make:""},_e()}function Le(x){z.value===x?F.value=F.value==="asc"?"desc":"asc":(z.value=x,F.value="asc")}const We=()=>{S.value=Z.value,_e()},Te=x=>{x>=1&&x<=_.value&&(L.value=x)};function Re(x){x.target.checked?m.value.forEach(u=>{B.value.includes(u.id)||B.value.push(u.id)}):B.value=B.value.filter(u=>!m.value.some(N=>N.id===u))}function je(){y.reset(),y.clearErrors(),y.id=null,H.value=!0}function Qe(x){y.reset(),y.clearErrors(),y.id=x.id,y.truckid=x.truckid,y.type=x.type?x.type.toLowerCase():"",y.make=x.make?x.make.toLowerCase():"",y.fuel=x.fuel,y.license=x.license,y.vin=x.vin,y.status=x.status,y.tenant_id=x.tenant_id,y.inspection_status=x.inspection_status||"good",y.inspection_expiry_date=x.inspection_expiry_date||new Date().toISOString().split("T")[0],H.value=!0}function Ie(){H.value=!1}function Ce(){const x={...y.data(),truckid:Number(y.truckid),license:Number(y.license)},n=y.id?"put":"post",u=y.id?O.SuperAdmin?route("truck.update.admin",[y.id]):route("truck.update",[O.tenantSlug,y.id]):route(O.SuperAdmin?"truck.store.admin":"truck.store",{tenantSlug:O.tenantSlug});oe.value=!0,y[n](u,{data:x,onSuccess:()=>{R.value=y.id?"Truck updated.":"Truck created.",Ie()},onError:()=>M.value="Save failed",onFinish:()=>oe.value=!1})}function Ye(x){b.value=x,se.value=!0}function Ge(){if(!b.value)return;const x=O.SuperAdmin?route("truck.destroy.admin",[b.value.id]):route("truck.destroy",[O.tenantSlug,b.value.id]);y.delete(x,{onSuccess:()=>{R.value="Deleted successfully",se.value=!1}})}function He(){B.value.length&&(K.value=!0)}function Ke(){const x=route(O.SuperAdmin?"truck.destroyBulk.admin":"truck.destroyBulk",{tenantSlug:O.tenantSlug});xe({ids:B.value}).delete(x,{onSuccess:()=>{R.value=`${B.value.length} deleted`,B.value=[],K.value=!1}})}function Ze(x){var u;const n=(u=x.target.files)==null?void 0:u[0];n&&(ee.csv_file=n,ee.post(route(O.SuperAdmin?"truck.import.admin":"truck.import",{tenantSlug:O.tenantSlug}),{forceFormData:!0,onSuccess:()=>R.value="Imported",onError:()=>M.value="Import failed"}))}function Xe(){var x,n;if(!m.value.length){M.value="No data to export";return}(x=ve.value)==null||x.setAttribute("action",route(O.SuperAdmin?"truck.export.admin":"truck.export",{tenantSlug:O.tenantSlug})),(n=ve.value)==null||n.submit()}const Je=E(()=>"/storage/upload-data-temps/Trucks Template.csv");ut(()=>{const x=n=>{G.value&&!n.target.closest(".relative")&&(G.value=!1)};document.addEventListener("click",x),mt(()=>document.removeEventListener("click",x))});const et=E(()=>{if(_.value<=7)return Array.from({length:_.value},(N,tt)=>tt+1);const x=[];x.push(1),L.value>3&&x.push("...");const n=Math.max(2,L.value-1),u=Math.min(_.value-1,L.value+1);for(let N=n;N<=u;N++)x.push(N);return L.value<_.value-2&&x.push("..."),_.value>1&&x.push(_.value),x}),te=E(()=>O.permissions.map(x=>x.name));return(x,n)=>(d(),v("div",Ut,[R.value?(d(),g(e(Ue),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),{class:"flex items-center gap-2"},{default:a(()=>[t(i,{name:"check_circle",class:"h-5 w-5 text-green-500"}),n[29]||(n[29]=o(" Success "))]),_:1}),t(e(Oe),null,{default:a(()=>[o(f(R.value),1)]),_:1})]),_:1})):w("",!0),M.value?(d(),g(e(Ue),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),{class:"flex items-center gap-2"},{default:a(()=>[t(i,{name:"alert_circle",class:"h-5 w-5"}),n[30]||(n[30]=o(" Error "))]),_:1}),t(e(Oe),null,{default:a(()=>[o(f(M.value),1)]),_:1})]),_:1})):w("",!0),l("div",Mt,[l("div",Nt,[t(i,{name:"truck",class:"h-6 w-6 text-primary hidden sm:block"}),n[31]||(n[31]=l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Truck Management",-1))]),l("div",Tt,[te.value.includes("trucks.create")?(d(),g(e(k),{key:0,onClick:je,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),n[32]||(n[32]=o(" Create New Truck "))]),_:1})):w("",!0),B.value.length&&te.value.includes("trucks.delete")?(d(),g(e(k),{key:1,onClick:He,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),o(" Delete Selected ("+f(B.value.length)+") ",1)]),_:1})):w("",!0),l("div",It,[te.value.includes("trucks.import")?(d(),g(e(k),{key:0,onClick:n[0]||(n[0]=u=>G.value=!G.value),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),n[33]||(n[33]=o(" Upload CSV ")),t(i,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1})):w("",!0),G.value?(d(),v("div",zt,[l("div",Ft,[l("label",Bt,[n[34]||(n[34]=l("span",null,"Upload CSV File",-1)),l("input",{type:"file",class:"hidden",onChange:Ze,accept:".csv,.txt"},null,32)]),l("a",{href:Je.value,download:"",class:"block px-4 py-2 text-sm hover:bg-muted"},"Download Template",8,Et)])])):w("",!0)]),te.value.includes("trucks.export")?(d(),g(e(k),{key:2,onClick:ke(Xe,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),n[35]||(n[35]=o(" Download CSV "))]),_:1})):w("",!0)])]),t(e(Ve),{class:"shadow-sm border"},{default:a(()=>[t(e(ft),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:a(()=>[l("div",qt,[t(e(ct),{class:"text-lg md:text-xl lg:text-2xl flex items-center gap-2"},{default:a(()=>[t(i,{name:"filter",class:"h-5 w-5 text-muted-foreground"}),n[36]||(n[36]=o(" Filters "))]),_:1}),t(e(k),{variant:"ghost",size:"sm",onClick:n[1]||(n[1]=u=>le.value=!le.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:a(()=>[l("span",Pt,f(le.value?"Hide Filters":"Show Filters"),1),t(i,{name:le.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(pt,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:a(()=>[le.value?(d(),g(e(Ae),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:a(()=>[l("div",Lt,[l("div",Wt,[l("div",null,[t(e(C),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(i,{name:"search",class:"h-4 w-4 text-muted-foreground"}),n[37]||(n[37]=o(" Search "))]),_:1}),t(e(Q),{id:"search",type:"text",modelValue:T.value.search,"onUpdate:modelValue":n[2]||(n[2]=u=>T.value.search=u),placeholder:"Search by truck ID or VIN...",onInput:_e,class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"type",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(i,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[38]||(n[38]=o(" Type "))]),_:1}),l("div",Rt,[P(l("select",{id:"type","onUpdate:modelValue":n[3]||(n[3]=u=>T.value.type=u),onChange:_e,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[39]||(n[39]=[l("option",{value:""},"All Types",-1),l("option",{value:"daycab"},"Daycab",-1),l("option",{value:"sleepercab"},"Sleepercab",-1)]),544),[[Y,T.value.type]]),n[40]||(n[40]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{for:"make",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(i,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[41]||(n[41]=o(" Make "))]),_:1}),l("div",jt,[P(l("select",{id:"make","onUpdate:modelValue":n[4]||(n[4]=u=>T.value.make=u),onChange:_e,class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},n[42]||(n[42]=[l("option",{value:""},"All Makes",-1),l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),544),[[Y,T.value.make]]),n[43]||(n[43]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),t(e(k),{onClick:Ne,variant:"ghost",size:"sm",class:"self-start"},{default:a(()=>[t(i,{name:"rotate_ccw",class:"mr-2 h-4 w-4"}),n[44]||(n[44]=o(" Reset Filters "))]),_:1})])]),_:1})):w("",!0)]),_:1})]),_:1}),t(e(Ve),{class:"mx-auto max-w-[90vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:a(()=>[t(e(Ae),{class:"p-0"},{default:a(()=>[l("div",Qt,[t(e(we),{class:"relative h-[500px] overflow-auto"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:a(()=>[te.value.includes("trucks.delete")?(d(),g(e(U),{key:0,class:"w-12"},{default:a(()=>[l("div",Yt,[l("input",{type:"checkbox",checked:h.value,onChange:Re,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Gt)])]),_:1})):w("",!0),x.SuperAdmin?(d(),g(e(U),{key:1,class:"font-semibold"},{default:a(()=>n[45]||(n[45]=[o("Company")])),_:1})):w("",!0),(d(),v(I,null,q(W,u=>t(e(U),{key:u,onClick:N=>Le(u),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Ht,[u==="inspection_status"?(d(),v(I,{key:0},[o("Annual Inspection Status")],64)):u==="inspection_expiry_date"?(d(),v(I,{key:1},[o("Annual Inspection Expiration Date")],64)):u==="status"?(d(),v(I,{key:2},[o("Status")],64)):(d(),v(I,{key:3},[o(f(X(u)),1)],64)),z.value===u?(d(),v("div",Kt,[F.value==="asc"?(d(),v("svg",Zt,n[46]||(n[46]=[l("path",{d:"M8 15l4-4 4 4"},null,-1)]))):(d(),v("svg",Xt,n[47]||(n[47]=[l("path",{d:"M16 9l-4 4-4-4"},null,-1)])))])):(d(),v("div",Jt,n[48]||(n[48]=[l("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("path",{d:"M8 10l4-4 4 4"}),l("path",{d:"M16 14l-4 4-4-4"})],-1)])))])]),_:2},1032,["onClick"])),64)),te.value.includes("trucks.update")||te.value.includes("trucks.delete")?(d(),g(e(U),{key:2,class:"font-semibold"},{default:a(()=>n[49]||(n[49]=[o("Actions")])),_:1})):w("",!0)]),_:1})]),_:1}),t(e(ye),null,{default:a(()=>[m.value.length?w("",!0):(d(),g(e(j),{key:0},{default:a(()=>[t(e($),{colspan:x.SuperAdmin?W.length+3:W.length+2,class:"py-8 text-center"},{default:a(()=>[l("div",es,[t(i,{name:"search_x",class:"h-12 w-12 mb-2 opacity-30"}),n[50]||(n[50]=l("p",null,"No trucks found matching your criteria.",-1))])]),_:1},8,["colspan"])]),_:1})),(d(!0),v(I,null,q(m.value,u=>(d(),g(e(j),{key:u.id,class:"hover:bg-muted/50"},{default:a(()=>[te.value.includes("trucks.delete")?(d(),g(e($),{key:0,class:"text-center"},{default:a(()=>[P(l("input",{type:"checkbox",value:u.id,"onUpdate:modelValue":n[5]||(n[5]=N=>B.value=N),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,ts),[[qe,B.value]])]),_:2},1024)):w("",!0),x.SuperAdmin?(d(),g(e($),{key:1},{default:a(()=>{var N;return[o(f(((N=u.tenant)==null?void 0:N.name)||"—"),1)]}),_:2},1024)):w("",!0),(d(),v(I,null,q(W,N=>t(e($),{key:N,class:"whitespace-nowrap"},{default:a(()=>[N==="status"?(d(),v("span",{key:0,class:ge({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":u[N]==="active","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":u[N]==="inactive","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":u[N]==="Returned to AMZ"})},f(he(u,N)),3)):N==="inspection_status"?(d(),v("span",{key:1,class:ge({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":u[N]==="good","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":u[N]==="expired"})},f(u[N]==="good"?"Good":"Expired"),3)):(d(),v(I,{key:2},[o(f(he(u,N)),1)],64))]),_:2},1024)),64)),te.value.includes("trucks.delete")||te.value.includes("trucks.update")?(d(),g(e($),{key:2},{default:a(()=>[l("div",ss,[te.value.includes("trucks.update")?(d(),g(e(k),{key:0,variant:"warning",size:"sm",onClick:N=>Qe(u),class:"shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"pencil",class:"mr-1 h-4 w-4"}),n[51]||(n[51]=o(" Edit "))]),_:2},1032,["onClick"])):w("",!0),te.value.includes("trucks.delete")?(d(),g(e(k),{key:1,variant:"destructive",size:"sm",onClick:N=>Ye(u),class:"shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"trash",class:"mr-1 h-4 w-4"}),n[52]||(n[52]=o(" Delete "))]),_:2},1032,["onClick"])):w("",!0)])]),_:2},1024)):w("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",ls,[l("div",as,[l("span",ns,[t(i,{name:"list",class:"h-4 w-4"}),o(" Showing "+f(m.value.length)+" of "+f(re.value.length)+" entries ",1)]),l("span",os,[t(i,{name:"layout-grid",class:"h-4 w-4"}),n[53]||(n[53]=o(" Per page: "))]),l("div",rs,[P(l("select",{"onUpdate:modelValue":n[6]||(n[6]=u=>Z.value=u),onChange:We,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(d(),v(I,null,q([10,25,50,100],u=>l("option",{key:u,value:u},f(u),9,ds)),64))],544),[[Y,Z.value,void 0,{number:!0}]]),n[54]||(n[54]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",is,[t(e(k),{size:"sm",variant:"ghost",onClick:n[7]||(n[7]=u=>Te(L.value-1)),disabled:L.value===1,class:"flex items-center gap-1"},{default:a(()=>[t(i,{name:"chevron-left",class:"h-4 w-4"}),n[55]||(n[55]=o(" Prev "))]),_:1},8,["disabled"]),(d(!0),v(I,null,q(et.value,u=>(d(),g(e(k),{key:u,size:"sm",variant:"ghost",onClick:N=>Te(u),class:ge({"border-primary bg-primary/10 text-primary font-medium":u===L.value})},{default:a(()=>[o(f(u),1)]),_:2},1032,["onClick","class"]))),128)),t(e(k),{size:"sm",variant:"ghost",onClick:n[8]||(n[8]=u=>Te(L.value+1)),disabled:L.value===_.value,class:"flex items-center gap-1"},{default:a(()=>[n[56]||(n[56]=o(" Next ")),t(i,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})]),_:1}),t(e(pe),{open:H.value,"onUpdate:open":n[24]||(n[24]=u=>H.value=u)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:a(()=>[t(e(ie),{class:"px-4 sm:px-6 border-b pb-4"},{default:a(()=>[l("div",us,[t(i,{name:e(y).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(ue),{class:"text-lg sm:text-xl"},{default:a(()=>[o(f(e(y).id?"Edit Truck":"Create Truck"),1)]),_:1})]),t(e(me),{class:"text-xs sm:text-sm mt-1"},{default:a(()=>[o("Fill in the details to "+f(e(y).id?"update":"create")+" a truck.",1)]),_:1})]),_:1}),l("form",{onSubmit:ke(Ce,["prevent"]),class:"grid max-h-[75vh] grid-cols-1 gap-4 overflow-y-auto p-4 sm:grid-cols-2 sm:gap-5 sm:p-6"},[n[90]||(n[90]=l("div",{class:"col-span-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Basic Information")],-1)),x.SuperAdmin?(d(),v("div",ms,[t(e(C),{for:"tenant",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"building",class:"h-4 w-4 text-muted-foreground"}),n[57]||(n[57]=o(" Company Name "))]),_:1}),l("div",ps,[P(l("select",{id:"tenant","onUpdate:modelValue":n[9]||(n[9]=u=>e(y).tenant_id=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[n[58]||(n[58]=l("option",{value:""},"Select Company",-1)),(d(!0),v(I,null,q(x.tenants,u=>(d(),v("option",{key:u.id,value:u.id},f(u.name),9,fs))),128))],512),[[Y,e(y).tenant_id]]),n[59]||(n[59]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):w("",!0),l("div",cs,[t(e(C),{for:"truckid",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),n[60]||(n[60]=o(" Truck ID "))]),_:1}),t(e(Q),{id:"truckid",modelValue:e(y).truckid,"onUpdate:modelValue":n[10]||(n[10]=u=>e(y).truckid=u),modelModifiers:{number:!0},type:"number",required:"",placeholder:"Enter truck ID number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",vs,[t(e(C),{for:"type",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),n[61]||(n[61]=o(" Type "))]),_:1}),l("div",xs,[P(l("select",{id:"type","onUpdate:modelValue":n[11]||(n[11]=u=>e(y).type=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[62]||(n[62]=[l("option",{value:"daycab"},"Daycab",-1),l("option",{value:"sleepercab"},"Sleepercab",-1)]),512),[[Y,e(y).type]]),n[63]||(n[63]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",gs,[t(e(C),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[64]||(n[64]=o(" Make "))]),_:1}),l("div",ws,[P(l("select",{id:"make","onUpdate:modelValue":n[12]||(n[12]=u=>e(y).make=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[65]||(n[65]=[l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),512),[[Y,e(y).make]]),n[66]||(n[66]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[91]||(n[91]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Additional Information")],-1)),l("div",bs,[t(e(C),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[67]||(n[67]=o(" Fuel "))]),_:1}),l("div",ys,[P(l("select",{id:"fuel","onUpdate:modelValue":n[13]||(n[13]=u=>e(y).fuel=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[68]||(n[68]=[l("option",{value:"diesel"},"Diesel",-1),l("option",{value:"cng"},"CNG",-1)]),512),[[Y,e(y).fuel]]),n[69]||(n[69]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ks,[t(e(C),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[70]||(n[70]=o(" License "))]),_:1}),t(e(Q),{id:"license",modelValue:e(y).license,"onUpdate:modelValue":n[14]||(n[14]=u=>e(y).license=u),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",_s,[t(e(C),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[71]||(n[71]=o(" VIN "))]),_:1}),t(e(Q),{id:"vin",modelValue:e(y).vin,"onUpdate:modelValue":n[15]||(n[15]=u=>e(y).vin=u),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[92]||(n[92]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),l("div",hs,[t(e(C),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[72]||(n[72]=o(" Annual Inspection Status "))]),_:1}),l("div",Cs,[P(l("select",{id:"inspection_status","onUpdate:modelValue":n[16]||(n[16]=u=>e(y).inspection_status=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[73]||(n[73]=[l("option",{value:"good"},"Good",-1),l("option",{value:"expired"},"Expired",-1)]),512),[[Y,e(y).inspection_status]]),n[74]||(n[74]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Ss,[t(e(C),{for:"status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),n[75]||(n[75]=o(" Status "))]),_:1}),l("div",$s,[P(l("select",{id:"status","onUpdate:modelValue":n[17]||(n[17]=u=>e(y).status=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[76]||(n[76]=[l("option",{value:"active"},"Active",-1),l("option",{value:"inactive"},"Inactive",-1),l("option",{value:"Returned to AMZ"},"Returned to AMZ",-1)]),512),[[Y,e(y).status]]),n[77]||(n[77]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Vs,[t(e(C),{for:"make",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"tag",class:"h-4 w-4 text-muted-foreground"}),n[78]||(n[78]=o(" Make "))]),_:1}),l("div",As,[P(l("select",{id:"make","onUpdate:modelValue":n[18]||(n[18]=u=>e(y).make=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[79]||(n[79]=[l("option",{value:"international"},"International",-1),l("option",{value:"kenworth"},"Kenworth",-1),l("option",{value:"peterbilt"},"Peterbilt",-1),l("option",{value:"volvo"},"Volvo",-1),l("option",{value:"freightliner"},"Freightliner",-1)]),512),[[Y,e(y).make]]),n[80]||(n[80]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),n[93]||(n[93]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Additional Information")],-1)),l("div",Ds,[t(e(C),{for:"fuel",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"fuel",class:"h-4 w-4 text-muted-foreground"}),n[81]||(n[81]=o(" Fuel "))]),_:1}),l("div",Os,[P(l("select",{id:"fuel","onUpdate:modelValue":n[19]||(n[19]=u=>e(y).fuel=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[82]||(n[82]=[l("option",{value:"diesel"},"Diesel",-1),l("option",{value:"cng"},"CNG",-1)]),512),[[Y,e(y).fuel]]),n[83]||(n[83]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Us,[t(e(C),{for:"license",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"id_card",class:"h-4 w-4 text-muted-foreground"}),n[84]||(n[84]=o(" License "))]),_:1}),t(e(Q),{id:"license",modelValue:e(y).license,"onUpdate:modelValue":n[20]||(n[20]=u=>e(y).license=u),modelModifiers:{number:!0},type:"number",min:"0",required:"",placeholder:"Enter license number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),l("div",Ms,[t(e(C),{for:"vin",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"fingerprint",class:"h-4 w-4 text-muted-foreground"}),n[85]||(n[85]=o(" VIN "))]),_:1}),t(e(Q),{id:"vin",modelValue:e(y).vin,"onUpdate:modelValue":n[21]||(n[21]=u=>e(y).vin=u),type:"text",required:"",placeholder:"Enter vehicle identification number",class:"transition-shadow hover:shadow-sm focus:shadow-sm"},null,8,["modelValue"])]),n[94]||(n[94]=l("div",{class:"col-span-2 mt-2 mb-2 border-b pb-2"},[l("h3",{class:"text-sm font-medium text-muted-foreground"},"Inspection Details")],-1)),l("div",Ns,[t(e(C),{for:"inspection_status",class:"flex items-center gap-1.5 mb-1.5"},{default:a(()=>[t(i,{name:"clipboard_check",class:"h-4 w-4 text-muted-foreground"}),n[86]||(n[86]=o(" Annual Inspection Status "))]),_:1}),l("div",Ts,[P(l("select",{id:"inspection_status","onUpdate:modelValue":n[22]||(n[22]=u=>e(y).inspection_status=u),required:"",class:"flex h-10 w-full appearance-none items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-shadow hover:shadow-sm focus:shadow-sm"},n[87]||(n[87]=[l("option",{value:"good"},"Good",-1),l("option",{value:"expired"},"Expired",-1)]),512),[[Y,e(y).inspection_status]]),n[88]||(n[88]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Is,[t(e(k),{type:"button",variant:"outline",onClick:n[23]||(n[23]=u=>H.value=!1),class:"transition-all hover:shadow-sm"},{default:a(()=>[t(i,{name:"x",class:"mr-2 h-4 w-4"}),n[89]||(n[89]=o(" Cancel "))]),_:1}),t(e(k),{type:"submit",variant:"default",class:"transition-all hover:shadow-sm"},{default:a(()=>[t(i,{name:e(y).id?"pencil":"plus",class:"mr-2 h-4 w-4"},null,8,["name"]),o(" "+f(e(y).id?"Update":"Create"),1)]),_:1})])],32)]),_:1})]),_:1},8,["open"]),t(e(pe),{open:se.value,"onUpdate:open":n[26]||(n[26]=u=>se.value=u)},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(ie),null,{default:a(()=>[t(e(ue),null,{default:a(()=>n[95]||(n[95]=[o("Confirm Deletion")])),_:1}),t(e(me),null,{default:a(()=>n[96]||(n[96]=[o("Are you sure you want to delete this truck? This action cannot be undone.")])),_:1})]),_:1}),t(e(ce),{class:"mt-4"},{default:a(()=>[t(e(k),{variant:"outline",onClick:n[25]||(n[25]=u=>se.value=!1)},{default:a(()=>n[97]||(n[97]=[o("Cancel")])),_:1}),t(e(k),{variant:"destructive",onClick:Ge},{default:a(()=>n[98]||(n[98]=[o("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(pe),{open:K.value,"onUpdate:open":n[28]||(n[28]=u=>K.value=u)},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(ie),null,{default:a(()=>[t(e(ue),null,{default:a(()=>n[99]||(n[99]=[o("Confirm Bulk Deletion")])),_:1}),t(e(me),null,{default:a(()=>[o("Are you sure you want to delete "+f(B.value.length)+" trucks? This action cannot be undone.",1)]),_:1})]),_:1}),t(e(ce),{class:"mt-4"},{default:a(()=>[t(e(k),{variant:"outline",onClick:n[27]||(n[27]=u=>K.value=!1)},{default:a(()=>n[100]||(n[100]=[o("Cancel")])),_:1}),t(e(k),{variant:"destructive",onClick:Ke},{default:a(()=>n[101]||(n[101]=[o("Delete Selected")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),l("form",{ref_key:"exportForm",ref:ve,method:"GET",class:"hidden"},null,512)]))}}),Fs={class:"w-full pt-6 md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto p-1 space-y-6"},Bs={class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6 space-y-2 sm:space-y-0"},Es={class:"flex items-center gap-3"},qs={class:"flex flex-wrap gap-3"},Ps={class:"relative"},Ls={key:1,class:"absolute right-0 mt-1 w-48 rounded-md border bg-background shadow-md z-10 animate-in fade-in duration-200"},Ws={class:"block cursor-pointer px-4 py-2 text-sm hover:bg-muted transition-colors"},Rs={key:2,class:"mb-6"},js={class:"rounded-md border-l-4 border-red-500 bg-red-50 p-4 shadow-sm dark:border-red-400 dark:bg-red-900/30"},Qs={class:"flex items-center"},Ys={class:"flex-shrink-0"},Gs={class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-800"},Hs={class:"ml-3"},Ks={class:"mt-1 text-sm text-red-700 dark:text-red-200"},Zs={class:"mt-2"},Xs={class:"flex flex-wrap gap-2"},Js={key:0,class:"text-sm text-muted-foreground mt-2"},el={key:0},tl={key:1},sl={key:2},ll={key:3,class:"ml-1"},al={key:3,class:"mx-auto mb-6 grid max-w-[95vw] grid-cols-1 gap-4 md:max-w-[64vw] md:grid-cols-2 lg:max-w-full"},nl={class:"rounded-lg border bg-card shadow-sm"},ol={class:"p-4"},rl={class:"space-y-3"},dl={class:"text-sm"},il={key:0,class:"text-center text-muted-foreground"},ul={class:"rounded-lg border bg-card shadow-sm"},ml={class:"p-4"},pl={class:"space-y-3"},fl={class:"text-sm"},cl={key:0,class:"text-center text-muted-foreground"},vl={key:4,class:"mx-auto mb-6 max-w-[90vw] overflow-x-auto rounded-lg border bg-card p-4 shadow-sm md:max-w-[64vw] lg:max-w-full"},xl={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},gl={key:5,class:"mx-auto mb-6 max-w-[95vw] overflow-x-auto rounded-lg border bg-card shadow-sm md:max-w-[64vw] lg:max-w-full"},wl={class:"flex items-center justify-between border-b p-4"},bl={class:"flex items-start justify-between"},yl={class:"flex flex-col items-center space-y-1"},kl={key:0,class:"mb-6 rounded-lg border bg-card shadow-sm"},_l={class:"overflow-x-auto"},hl={class:"max-h-60 overflow-y-auto sm:max-h-80 md:max-h-96"},Cl={key:6,class:"mb-6 rounded-lg border bg-card shadow-sm"},Sl={class:"flex justify-between items-center"},$l={class:"text-sm hidden sm:inline"},Vl={class:"flex flex-col gap-6"},Al={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 w-full"},Dl={class:"relative"},Ol=["value"],Ul={class:"relative"},Ml=["value"],Nl={class:"flex justify-end space-x-2"},Tl={class:"overflow-x-auto"},Il={class:"flex items-center justify-center"},zl=["checked"],Fl={class:"flex items-center space-x-1"},Bl={class:"flex items-center space-x-1"},El={class:"flex items-center space-x-1"},ql={class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},Pl=["value"],Ll={key:0},Wl={key:0},Rl={key:1},jl={class:"flex space-x-2"},Ql={class:"border-t bg-muted/20 px-4 py-3 flex flex-col sm:flex-row justify-between items-center gap-2"},Yl={class:"flex items-center gap-4 text-sm text-muted-foreground"},Gl={class:"flex items-center gap-1"},Hl={class:"flex items-center gap-1"},Kl={class:"relative"},Zl=["value"],Xl={class:"flex space-x-1"},Jl=["innerHTML"],ea={key:8,class:"flex flex-col items-center justify-center rounded-lg border bg-muted/20 py-16"},ta={class:"flex items-center gap-2"},sa={class:"max-h-[70vh] overflow-y-auto px-4 sm:px-6"},la={key:0,class:"col-span-2 mb-1"},aa={class:"relative"},na=["value"],oa={class:"col-span-2 border-b pb-1 mb-2 flex items-center gap-2"},ra={class:"grid grid-cols-2 gap-3 col-span-2"},da={class:"relative"},ia=["value"],ua={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},ma={class:"col-span-2"},pa={class:"flex flex-wrap gap-1 mb-2 bg-muted/30 p-2 rounded-md min-h-[40px]"},fa=["onClick"],ca={key:0,class:"text-muted-foreground text-sm italic"},va={class:"relative"},xa=["value"],ga={class:"col-span-2"},wa={class:"col-span-2 border-b pb-1 mb-2 mt-1 flex items-center gap-2"},ba={class:"grid grid-cols-2 gap-3 col-span-2"},ya={class:"relative"},ka=["value"],_a={class:"relative"},ha=["value"],Ca={class:"relative"},Sa={class:"grid grid-cols-2 gap-3 col-span-2"},$a={class:"relative"},Va={class:"flex items-center space-x-2"},Aa={key:1,class:"col-span-2"},Da={class:"border-b pb-1 mb-2 mt-1 flex items-center gap-2"},Oa={class:"flex items-center space-x-2"},Ua={key:0,class:"mt-2"},Ma={class:"space-y-4 sm:space-y-6"},Na={class:"space-y-1 sm:space-y-2"},Ta={class:"rounded-md border"},Ia={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},za={key:0,class:"ml-1 text-xs text-red-500"},Fa={class:"flex space-x-1 sm:space-x-2"},Ba={class:"space-y-4 sm:space-y-6"},Ea={class:"space-y-1 sm:space-y-2"},qa={class:"overflow-hidden rounded-md border"},Pa={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},La={key:0,class:"ml-1 text-xs text-red-500"},Wa={class:"flex space-x-1 sm:space-x-2"},Ra={class:"space-y-4 sm:space-y-6"},ja={class:"space-y-1 sm:space-y-2"},Qa={class:"overflow-hidden rounded-md border"},Ya={class:"max-h-[40vh] overflow-y-auto sm:max-h-[300px]"},Ga={key:0,class:"ml-1 text-xs text-red-500"},Ha={class:"flex space-x-1 sm:space-x-2"},Ka={class:"max-h-[60vh] overflow-x-auto overflow-y-auto"},Za={class:"flex items-center gap-2"},Xa={key:1,class:"py-8 text-center text-muted-foreground"},Ja="/storage/upload-data-temps/Repair Orders Template.csv",en=Pe({__name:"RepairOrdersComponent",props:{repairOrders:{type:Object,default:()=>({data:[],links:[]})},tenantSlug:{type:String,default:null},SuperAdmin:{type:Boolean,default:!1},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},dateRange:{type:Object,default:null},dateFilter:{type:String,default:"yesterday"},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({search:"",vendor_id:"",status_id:""})},perPage:{type:Number,default:10},openedComponent:{type:String,default:"trucks"},permissions:{type:Array,default:()=>[]}},setup(D){const p=D,O=V({...p.filters,dateFilter:p.dateFilter}),T=V(p.perPage),z=V([]),F=V(!1),L=V(""),S=V(""),Z=V(!1),B=V(!1),G=V(!1),R=V(!1),M=V(!1),H=V(!1),se=V(!1),K=V("Create"),b=xe({id:null,tenant_id:p.SuperAdmin?"":null,ro_number:"",ro_open_date:"",ro_close_date:"",truck_id:null,vendor_id:null,wo_number:"",wo_status_id:null,invoice:"",invoice_amount:"",invoice_received:!1,on_qs:"no",qs_invoice_date:"",disputed:!1,dispute_outcome:"",repairs_made:"",area_of_concerns:[]}),oe=xe({concern:""}),le=xe({vendor_name:""}),y=xe({name:""}),ee=E(()=>p.SuperAdmin),ve=E(()=>p.repairOrders.data.length>0),Me=E(()=>ve.value&&p.repairOrders.data.every(c=>z.value.includes(c.id))),re=[{label:"Yesterday",value:"yesterday"},{label:"WTD",value:"current-week"},{label:"T6W",value:"6w"},{label:"Quarterly",value:"quarterly"}],_=c=>{if(!c)return"";const s=c.split("-");if(s.length!==3)return c;const[J,$e,r]=s;return`${Number($e)}/${Number(r)}/${J}`};function m(c){return c?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c):"$0.00"}function h(c){O.value.dateFilter=c,W()}function W(){const c=p.SuperAdmin?"repair_orders.index.admin":"repair_orders.index",s={...p.SuperAdmin?{}:{tenantSlug:p.tenantSlug},...O.value,perPage:T.value,dateFilter:O.value.dateFilter,openedComponent:"repairOrders"};fe.visit(route(c,s),{only:["repairOrders","filters","perPage","dateFilter","weekNumber","startWeekNumber","endWeekNumber","year","workOrdersByTruck","workOrderByAreasOfConcern","openedComponent"]})}function X(){O.value={...O.value,search:"",vendor_id:"",status_id:""},W()}const ae=V({column:"ro_number",direction:"asc"});function he(c){ae.value.column===c?ae.value.direction=ae.value.direction==="asc"?"desc":"asc":ae.value={column:c,direction:"asc"},W()}function _e(){W()}function Ne(c){if(c){const s=new URL(c),J=s.origin+s.pathname;fe.get(J,{...O.value,perPage:T.value,dateFilter:O.value.dateFilter,openedComponent:"repairOrders",page:s.searchParams.get("page")||1},{preserveScroll:!0})}}function Le(c){const s=c.target.checked;z.value=s?p.repairOrders.data.map(J=>J.id):[]}function We(c){const s=c.target.files[0];if(!s)return;const J=new FormData;J.append("file",s);const $e=p.tenantSlug?route("repair_orders.import",{tenantSlug:p.tenantSlug}):route("repair_orders.import.admin");fe.post($e,J,{onSuccess:()=>{L.value="Imported",c.target.value=null}})}function Te(){if(!ve.value){S.value="No data";return}window.location.href=p.tenantSlug?route("repair_orders.export",{tenantSlug:p.tenantSlug}):route("repair_orders.export.admin")}function Re(){b.reset(),K.value="Create",B.value=!0}function je(c){b.reset(),b.reset(),b.id=c.id,b.tenant_id=c.tenant_id,b.ro_number=c.ro_number,b.ro_open_date=c.ro_open_date,b.ro_close_date=c.ro_close_date||"",b.truck_id=c.truck_id,b.vendor_id=c.vendor_id,b.wo_number=c.wo_number,b.wo_status_id=c.wo_status_id,b.invoice=c.invoice||"",b.invoice_amount=c.invoice_amount||"",b.invoice_received=!!c.invoice_received,b.on_qs=c.on_qs||"no",b.qs_invoice_date=c.qs_invoice_date||"",b.disputed=!!c.disputed,b.dispute_outcome=c.dispute_outcome||"",b.repairs_made=c.repairs_made||"",b.area_of_concerns=[],c.areas_of_concern&&Array.isArray(c.areas_of_concern)&&(b.area_of_concerns=c.areas_of_concern.map(s=>s.id)),K.value="Update",B.value=!0}function Qe(){b.reset(),B.value=!1}function Ie(){const c=K.value==="Update"?p.tenantSlug?route("repair_orders.update",[p.tenantSlug,b.id]):route("repair_orders.update.admin",b.id):p.tenantSlug?route("repair_orders.store",{tenantSlug:p.tenantSlug}):route("repair_orders.store.admin");b[K.value==="Update"?"put":"post"](c,{onSuccess:()=>{L.value=`${K.value}d!`,B.value=!1}})}let Ce=null;function Ye(c){Ce=c,G.value=!0}function Ge(){if(Ce===null)return;const c=p.tenantSlug?route("repair_orders.destroy",[p.tenantSlug,Ce]):route("repair_orders.destroy.admin",Ce);fe.delete(c,{onSuccess:()=>{L.value="Deleted",G.value=!1}})}function He(){R.value=!0}function Ke(){const c=p.tenantSlug?route("repair_orders.destroyBulk",{tenantSlug:p.tenantSlug}):route("repair_orders.destroyBulk.admin");xe({ids:z.value}).delete(c,{onSuccess:()=>{L.value=`${z.value.length} deleted`,z.value=[],R.value=!1}})}function Ze(){oe.reset(),M.value=!0}function Xe(){oe.post(route("area_of_concerns.store.admin"),{onSuccess:()=>oe.reset()})}function Je(c){fe.delete(route("area_of_concerns.destroy.admin",c))}function et(c){fe.post(route("area_of_concerns.restore.admin",c))}function te(){le.reset(),H.value=!0}function x(){le.post(route("vendors.store.admin"),{onSuccess:()=>le.reset()})}function n(c){fe.delete(route("vendors.destroy.admin",c))}function u(c){fe.post(route("vendors.restore.admin",c))}function N(){y.reset(),se.value=!0}function tt(){y.post(route("wo_statuses.store.admin"),{onSuccess:()=>y.reset()})}function vt(c){fe.delete(route("wo_statuses.destroy.admin",c))}function xt(c){fe.post(route("wo_statuses.restore.admin",c))}const gt=E(()=>p.canceledQSInvoices.length>0),ze=V(!1),wt=E(()=>Object.fromEntries(p.areasOfConcern.map(c=>[c.id,c.concern]))),bt=E(()=>p.areasOfConcern.filter(c=>!b.area_of_concerns.includes(c.id)));function yt(c){const s=Number(c.target.value);s&&!b.area_of_concerns.includes(s)&&b.area_of_concerns.push(s),c.target.value=""}function kt(c){b.area_of_concerns=b.area_of_concerns.filter(s=>s!==c)}const at=E(()=>(p.dateFilter==="yesterday"||p.dateFilter==="current-week")&&p.weekNumber&&p.year?`Week ${p.weekNumber}, ${p.year}`:(p.dateFilter==="6w"||p.dateFilter==="quarterly")&&p.startWeekNumber&&p.endWeekNumber&&p.year?`Weeks ${p.startWeekNumber}-${p.endWeekNumber}, ${p.year}`:"");ut(()=>{const c=s=>{Z.value&&!s.target.closest(".relative")&&(Z.value=!1)};document.addEventListener("click",c),mt(()=>document.removeEventListener("click",c))}),setTimeout(()=>L.value="",5e3);const nt=E(()=>(p.workOrderByAreasOfConcern||[]).slice(0,5));E(()=>p.outstandingInvoices.reduce((c,s)=>{const J=Number(s.invoice_amount)||0;return c+J},0));const ot=E(()=>(p.workOrdersByTruck||[]).slice(0,5)),Fe=V(null),Be=V(null),Se=V(!1),Ee=E(()=>p.outstandingInvoices.filter(c=>{const s=Fe.value!=null?Number(c.invoice_amount)>=Fe.value:!0,J=Be.value?new Date(c.qs_invoice_date)>new Date(Be.value):!0;return s&&J})),_t=E(()=>Ee.value.reduce((c,s)=>c+Number(s.invoice_amount||0),0)),ne=E(()=>p.permissions.map(c=>c.name));return(c,s)=>{var $e;const J=$t("Badge");return d(),v("div",Fs,[L.value?(d(),g(e(Ue),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),{class:"flex items-center gap-2"},{default:a(()=>[t(i,{name:"check_circle",class:"h-5 w-5 text-green-500"}),s[49]||(s[49]=o(" Success "))]),_:1}),t(e(Oe),null,{default:a(()=>[o(f(L.value),1)]),_:1})]),_:1})):w("",!0),S.value?(d(),g(e(Ue),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),{class:"flex items-center gap-2"},{default:a(()=>[t(i,{name:"alert_circle",class:"h-5 w-5"}),s[50]||(s[50]=o(" Error "))]),_:1}),t(e(Oe),null,{default:a(()=>[o(f(S.value),1)]),_:1})]),_:1})):w("",!0),l("div",Bs,[l("div",Es,[t(i,{name:"clipboard-list",class:"h-6 w-6 text-primary hidden sm:block"}),s[51]||(s[51]=l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"},"Repair Orders",-1))]),l("div",qs,[ne.value.includes("repair-orders.create")?(d(),g(e(k),{key:0,onClick:Re,variant:"default",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"plus",class:"mr-1 h-4 w-4 md:mr-2"}),s[52]||(s[52]=o(" Create New "))]),_:1})):w("",!0),z.value.length&&ne.value.includes("repair-orders.delete")?(d(),g(e(k),{key:1,onClick:He,variant:"destructive",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"trash",class:"mr-1 h-4 w-4 md:mr-2"}),o(" Delete Selected ("+f(z.value.length)+") ",1)]),_:1})):w("",!0),ee.value?(d(),g(e(k),{key:2,onClick:Ze,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[53]||(s[53]=o(" Areas "))]),_:1})):w("",!0),ee.value?(d(),g(e(k),{key:3,onClick:te,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[54]||(s[54]=o(" Vendors "))]),_:1})):w("",!0),ee.value?(d(),g(e(k),{key:4,onClick:N,variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"settings",class:"mr-1 h-4 w-4 md:mr-2"}),s[55]||(s[55]=o(" Statuses "))]),_:1})):w("",!0),l("div",Ps,[ne.value.includes("repair-orders.import")?(d(),g(e(k),{key:0,onClick:s[0]||(s[0]=r=>Z.value=!Z.value),variant:"secondary",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"upload",class:"mr-1 h-4 w-4 md:mr-2"}),s[56]||(s[56]=o(" Upload CSV ")),t(i,{name:"chevron-down",class:"ml-2 h-4 w-4"})]),_:1})):w("",!0),Z.value?(d(),v("div",Ls,[l("label",Ws,[s[57]||(s[57]=l("span",null,"Upload CSV",-1)),l("input",{type:"file",class:"hidden",onChange:We,accept:".csv"},null,32)]),l("a",{href:Ja,download:"",class:"block px-4 py-2 text-sm hover:bg-muted transition-colors"},"Download Template")])):w("",!0)]),ne.value.includes("repair-orders.export")?(d(),g(e(k),{key:5,onClick:ke(Te,["prevent"]),variant:"outline",class:"px-2 py-0 md:px-4 md:py-2 shadow-sm hover:shadow transition-all"},{default:a(()=>[t(i,{name:"download",class:"mr-1 h-4 w-4 md:mr-2"}),s[58]||(s[58]=o(" Download CSV "))]),_:1})):w("",!0)])]),gt.value&&!D.SuperAdmin?(d(),v("div",Rs,[l("div",js,[l("div",Qs,[l("div",Ys,[l("div",Gs,[t(i,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),l("div",Hs,[s[60]||(s[60]=l("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),l("div",Ks,f((($e=p.canceledQSInvoices)==null?void 0:$e.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),l("div",Zs,[t(e(k),{onClick:s[1]||(s[1]=r=>ze.value=!0),variant:"destructive",size:"sm"},{default:a(()=>s[59]||(s[59]=[o(" View Details ")])),_:1})])])])])])):w("",!0),t(e(Ve),{class:"shadow-sm border bg-card"},{default:a(()=>[t(e(Ae),{class:"p-3 md:p-4"},{default:a(()=>[l("div",Xs,[(d(),v(I,null,q(re,r=>t(e(k),{key:r.value,size:"sm",variant:"outline",class:ge({"border-primary bg-primary/10 text-primary":O.value.dateFilter===r.value}),onClick:A=>h(r.value)},{default:a(()=>[o(f(r.label),1)]),_:2},1032,["class","onClick"])),64))]),D.dateRange?(d(),v("div",Js,[D.dateFilter==="yesterday"&&D.dateRange.start?(d(),v("span",el," Showing data from "+f(_(D.dateRange.start)),1)):D.dateRange.start&&D.dateRange.end?(d(),v("span",tl," Showing data from "+f(_(D.dateRange.start))+" to "+f(_(D.dateRange.end)),1)):(d(),v("span",sl,f(D.dateRange.label),1)),at.value?(d(),v("span",ll,"("+f(at.value)+")",1)):w("",!0)])):w("",!0)]),_:1})]),_:1}),(D.dateFilter==="quarterly"||D.dateFilter==="6w")&&!D.SuperAdmin?(d(),v("div",al,[l("div",nl,[s[62]||(s[62]=l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Top 5 Frequent Repairs")],-1)),l("div",ol,[l("ul",rl,[s[61]||(s[61]=l("div",{class:"flex items-center justify-between"},[l("span",{class:"text-sm"},"Parts:"),l("span",{class:"text-sm"},"Work Orders:")],-1)),(d(!0),v(I,null,q(nt.value,(r,A)=>(d(),v("li",{key:A,class:"flex items-center justify-between pr-4"},[l("span",dl,f(r.concern),1),t(J,{variant:"outline"},{default:a(()=>[o(f(r.count),1)]),_:2},1024)]))),128)),nt.value.length===0?(d(),v("li",il,"No data available")):w("",!0)])])]),l("div",ul,[s[64]||(s[64]=l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Top 5 Frequently Repaired Tractors")],-1)),l("div",ml,[l("ul",pl,[s[63]||(s[63]=l("div",{class:"flex items-center justify-between"},[l("span",{class:"text-sm"},"Asset ID:"),l("span",{class:"text-sm"},"Work Orders:")],-1)),(d(!0),v(I,null,q(ot.value,(r,A)=>(d(),v("li",{key:A,class:"flex items-center justify-between pr-4"},[l("span",fl,f(r.truckid),1),t(J,{variant:"outline"},{default:a(()=>[o(f(r.work_order_count),1)]),_:2},1024)]))),128)),ot.value.length===0?(d(),v("li",cl,"No data available")):w("",!0)])])])])):w("",!0),D.SuperAdmin?w("",!0):(d(),v("div",vl,[s[67]||(s[67]=l("h3",{class:"mb-4 text-lg font-semibold"},"Outstanding Invoices Filter",-1)),l("div",xl,[l("div",null,[t(e(C),{for:"min-invoice-amount"},{default:a(()=>s[65]||(s[65]=[o("Minimum Invoice Amount ($)")])),_:1}),t(e(Q),{id:"min-invoice-amount",modelValue:Fe.value,"onUpdate:modelValue":s[2]||(s[2]=r=>Fe.value=r),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"Enter minimum amount",class:"mt-1"},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"outstanding-since"},{default:a(()=>s[66]||(s[66]=[o("Outstanding Since")])),_:1}),t(e(Q),{id:"outstanding-since",modelValue:Be.value,"onUpdate:modelValue":s[3]||(s[3]=r=>Be.value=r),type:"date",class:"mt-1"},null,8,["modelValue"])])])])),Ee.value.length>0?(d(),v("div",gl,[l("div",wl,[s[68]||(s[68]=l("h3",{class:"text-lg font-semibold"},"Outstanding Invoices",-1)),l("div",bl,[l("div",yl,[t(J,{variant:"outline",class:"text-sm"},{default:a(()=>[o(f(Ee.value.length)+" invoices ",1)]),_:1}),t(J,{variant:"outline",class:"text-sm"},{default:a(()=>[o(" total: $"+f(_t.value.toFixed(2)),1)]),_:1})]),t(e(k),{variant:"ghost",size:"sm",onClick:s[4]||(s[4]=r=>Se.value=!Se.value),class:"ml-4 mt-1"},{default:a(()=>[o(f(Se.value?"Hide Invoices":"Show Invoices")+" ",1),t(i,{name:Se.value?"chevron-up":"chevron-down",class:"ml-2 h-4 w-4"},null,8,["name"])]),_:1})])]),Se.value?(d(),v("div",kl,[l("div",_l,[l("div",hl,[t(e(we),{class:"min-w-full"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),null,{default:a(()=>[t(e(U),null,{default:a(()=>s[69]||(s[69]=[o("RO Number")])),_:1}),t(e(U),null,{default:a(()=>s[70]||(s[70]=[o("Vendor")])),_:1}),t(e(U),null,{default:a(()=>s[71]||(s[71]=[o("Week")])),_:1}),t(e(U),{class:"text-right"},{default:a(()=>s[72]||(s[72]=[o("Amount")])),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:a(()=>[(d(!0),v(I,null,q(Ee.value,r=>(d(),g(e(j),{key:r.ro_number},{default:a(()=>[t(e($),null,{default:a(()=>[o(f(r.ro_number),1)]),_:2},1024),t(e($),null,{default:a(()=>[o(f(r.vendor_name),1)]),_:2},1024),t(e($),null,{default:a(()=>[o("W"+f(r.week_number)+"/"+f(r.year),1)]),_:2},1024),t(e($),{class:"text-right"},{default:a(()=>[o(f(m(r.invoice_amount)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])):w("",!0)])):Se.value?(d(),v("div",Cl,s[73]||(s[73]=[l("div",{class:"border-b p-4"},[l("h3",{class:"text-lg font-semibold"},"Outstanding Invoices")],-1),l("div",{class:"p-4 text-center text-muted-foreground"},"No outstanding invoices match the current criteria",-1)]))):w("",!0),t(e(Ve),{class:"shadow-sm border"},{default:a(()=>[t(e(ft),{class:"p-2 md:p-4 lg:p-6 border-b"},{default:a(()=>[l("div",Sl,[t(e(ct),{class:"text-lg md:text-xl lg:text-2xl flex items-center gap-2"},{default:a(()=>[t(i,{name:"filter",class:"h-5 w-5 text-muted-foreground"}),s[74]||(s[74]=o(" Filters "))]),_:1}),t(e(k),{variant:"ghost",size:"sm",onClick:s[5]||(s[5]=r=>F.value=!F.value),class:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors"},{default:a(()=>[l("span",$l,f(F.value?"Hide Filters":"Show Filters"),1),t(i,{name:F.value?"chevron-up":"chevron-down",class:"h-4 w-4"},null,8,["name"])]),_:1})])]),_:1}),t(pt,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-[500px]","leave-from-class":"opacity-100 max-h-[500px]","leave-to-class":"opacity-0 max-h-0"},{default:a(()=>[F.value?(d(),g(e(Ae),{key:0,class:"p-4 md:p-6 lg:p-8 overflow-hidden"},{default:a(()=>[l("div",Vl,[l("div",Al,[l("div",null,[t(e(C),{for:"search",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(i,{name:"search",class:"h-4 w-4 text-muted-foreground"}),s[75]||(s[75]=o(" Search "))]),_:1}),t(e(Q),{id:"search",type:"text",modelValue:O.value.search,"onUpdate:modelValue":s[6]||(s[6]=r=>O.value.search=r),placeholder:"RO#, Invoice...",class:"py-1 px-1 md:px-2 md:py-1 h-9 lg:px-3 lg:py-2 lg:h-10"},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"vendor",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(i,{name:"building",class:"h-4 w-4 text-muted-foreground"}),s[76]||(s[76]=o(" Vendor "))]),_:1}),l("div",Dl,[P(l("select",{id:"vendor","onUpdate:modelValue":s[7]||(s[7]=r=>O.value.vendor_id=r),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s[77]||(s[77]=l("option",{value:""},"All Vendors",-1)),(d(!0),v(I,null,q(D.vendors,r=>(d(),v("option",{key:r.id,value:r.id},f(r.vendor_name),9,Ol))),128))],512),[[Y,O.value.vendor_id]]),s[78]||(s[78]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{for:"status",class:"flex items-center gap-1.5 mb-2"},{default:a(()=>[t(i,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),s[79]||(s[79]=o(" Status "))]),_:1}),l("div",Ul,[P(l("select",{id:"status","onUpdate:modelValue":s[8]||(s[8]=r=>O.value.status_id=r),class:"flex h-10 w-full appearance-none items-center rounded-md border bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[s[80]||(s[80]=l("option",{value:""},"All Statuses",-1)),(d(!0),v(I,null,q(D.woStatuses,r=>(d(),v("option",{key:r.id,value:r.id},f(r.name),9,Ml))),128))],512),[[Y,O.value.status_id]]),s[81]||(s[81]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),l("div",Nl,[t(e(k),{onClick:X,variant:"ghost",size:"sm"},{default:a(()=>[t(i,{name:"rotate-ccw",class:"mr-2 h-4 w-4"}),s[82]||(s[82]=o(" Reset Filters "))]),_:1}),t(e(k),{onClick:W,variant:"default",size:"sm"},{default:a(()=>[t(i,{name:"filter",class:"mr-2 h-4 w-4"}),s[83]||(s[83]=o(" Apply Filters "))]),_:1})])])]),_:1})):w("",!0)]),_:1})]),_:1}),ve.value?(d(),g(e(Ve),{key:7,class:"mx-auto max-w-[95vw] md:max-w-[64vw] lg:max-w-full overflow-x-auto shadow-sm border"},{default:a(()=>[t(e(Ae),{class:"p-0"},{default:a(()=>[l("div",Tl,[t(e(we),{class:"relative h-[500px] overflow-auto"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background hover:bg-background"},{default:a(()=>[ne.value.includes("repair-orders.delete")?(d(),g(e(U),{key:0,class:"w-12"},{default:a(()=>[l("div",Il,[l("input",{type:"checkbox",checked:Me.value,onChange:Le,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,zl)])]),_:1})):w("",!0),t(e(U),{onClick:s[9]||(s[9]=r=>he("ro_number")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Fl,[s[84]||(s[84]=o(" RO# ")),t(st,{column:"ro_number",sortState:ae.value},null,8,["sortState"])])]),_:1}),ee.value?(d(),g(e(U),{key:1,class:"font-semibold"},{default:a(()=>s[85]||(s[85]=[o("Company")])),_:1})):w("",!0),t(e(U),{onClick:s[10]||(s[10]=r=>he("ro_open_date")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",Bl,[s[86]||(s[86]=o(" Open Date ")),t(st,{column:"ro_open_date",sortState:ae.value},null,8,["sortState"])])]),_:1}),t(e(U),{onClick:s[11]||(s[11]=r=>he("ro_close_date")),class:"cursor-pointer font-semibold"},{default:a(()=>[l("div",El,[s[87]||(s[87]=o(" Close Date ")),t(st,{column:"ro_close_date",sortState:ae.value},null,8,["sortState"])])]),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[88]||(s[88]=[o("Truck")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[89]||(s[89]=[o("Vendor")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[90]||(s[90]=[o("Areas of Concern")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[91]||(s[91]=[o("WO#")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[92]||(s[92]=[o("WO Status")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[93]||(s[93]=[o("Invoice")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[94]||(s[94]=[o("Amount")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[95]||(s[95]=[o("Invoice Received")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[96]||(s[96]=[o("On QS")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[97]||(s[97]=[o("QS Invoice Date")])),_:1}),t(e(U),{class:"font-semibold"},{default:a(()=>s[98]||(s[98]=[o("Disputed")])),_:1}),ne.value.includes("repair-orders.delete")||ne.value.includes("repair-orders.update")?(d(),g(e(U),{key:2,class:"font-semibold"},{default:a(()=>s[99]||(s[99]=[o("Actions")])),_:1})):w("",!0)]),_:1})]),_:1}),t(e(ye),null,{default:a(()=>[D.repairOrders.data.length?w("",!0):(d(),g(e(j),{key:0},{default:a(()=>[t(e($),{colspan:ee.value?16:15,class:"py-8 text-center"},{default:a(()=>[l("div",ql,[t(i,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),s[100]||(s[100]=l("h2",{class:"text-lg font-medium"},"No repair orders found.",-1)),s[101]||(s[101]=l("p",{class:"text-muted-foreground mt-2"},"There is no data to display at this time.",-1))])]),_:1},8,["colspan"])]),_:1})),(d(!0),v(I,null,q(D.repairOrders.data,r=>(d(),g(e(j),{key:r.id,class:"hover:bg-muted/50 transition-colors"},{default:a(()=>[ne.value.includes("repair-orders.delete")?(d(),g(e($),{key:0},{default:a(()=>[P(l("input",{type:"checkbox",value:r.id,"onUpdate:modelValue":s[12]||(s[12]=A=>z.value=A),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,8,Pl),[[qe,z.value]])]),_:2},1024)):w("",!0),t(e($),{class:"whitespace-nowrap font-medium"},{default:a(()=>[o(f(r.ro_number),1)]),_:2},1024),ee.value?(d(),g(e($),{key:1,class:"whitespace-nowrap"},{default:a(()=>{var A;return[o(f(((A=r.tenant)==null?void 0:A.name)||"—"),1)]}),_:2},1024)):w("",!0),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(_(r.ro_open_date)),1)]),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(r.ro_close_date?_(r.ro_close_date):"N/A"),1)]),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>{var A;return[o(f(((A=r.truck)==null?void 0:A.truckid)||"—"),1)]}),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>{var A;return[o(f(((A=r.vendor)==null?void 0:A.vendor_name)||"—"),1)]}),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>{var A;return[(A=r.areas_of_concern)!=null&&A.length?(d(),v("span",Ll,[(d(!0),v(I,null,q(r.areas_of_concern,(rt,ht)=>(d(),v("span",{key:rt.id},[o(f(rt.concern),1),ht<r.areas_of_concern.length-1?(d(),v("span",Wl,", ")):w("",!0)]))),128))])):(d(),v("span",Rl,"—"))]}),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(r.wo_number||"—"),1)]),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>{var A;return[o(f(((A=r.wo_status)==null?void 0:A.name)||"—"),1)]}),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(r.invoice||"—"),1)]),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(m(r.invoice_amount)),1)]),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(r.invoice_received?"Yes":"No"),1)]),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(r.on_qs?r.on_qs.charAt(0).toUpperCase()+r.on_qs.slice(1):"No"),1)]),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(r.qs_invoice_date?_(r.qs_invoice_date):"N/A"),1)]),_:2},1024),t(e($),{class:"whitespace-nowrap"},{default:a(()=>[o(f(r.disputed?"Yes":"No"),1)]),_:2},1024),ne.value.includes("repair-orders.update")||ne.value.includes("repair-orders.delete")?(d(),g(e($),{key:2},{default:a(()=>[l("div",jl,[ne.value.includes("repair-orders.update")?(d(),g(e(k),{key:0,size:"sm",variant:"warning",onClick:A=>je(r),class:"h-8 px-2"},{default:a(()=>[t(i,{name:"pencil",class:"h-4 w-4"})]),_:2},1032,["onClick"])):w("",!0),ne.value.includes("repair-orders.delete")?(d(),g(e(k),{key:1,size:"sm",variant:"destructive",onClick:A=>Ye(r.id),class:"h-8 px-2"},{default:a(()=>[t(i,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])):w("",!0)])]),_:2},1024)):w("",!0)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1}),l("div",Ql,[l("div",Yl,[l("span",Gl,[t(i,{name:"list",class:"h-4 w-4"}),o(" Showing "+f(D.repairOrders.data.length)+" of "+f(D.repairOrders.total)+" entries ",1)]),l("span",Hl,[t(i,{name:"layout-grid",class:"h-4 w-4"}),s[102]||(s[102]=o(" Per page: "))]),l("div",Kl,[P(l("select",{"onUpdate:modelValue":s[13]||(s[13]=r=>T.value=r),onChange:_e,class:"h-8 appearance-none rounded-md border bg-background px-2 py-1 text-sm focus:ring-2 focus:ring-ring"},[(d(),v(I,null,q([10,25,50,100],r=>l("option",{key:r,value:r},f(r),9,Zl)),64))],544),[[Y,T.value,void 0,{number:!0}]]),s[103]||(s[103]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",Xl,[t(e(k),{size:"sm",variant:"ghost",onClick:s[14]||(s[14]=r=>Ne(D.repairOrders.prev_page_url)),disabled:!D.repairOrders.prev_page_url,class:"flex items-center gap-1"},{default:a(()=>[t(i,{name:"chevron-left",class:"h-4 w-4"}),s[104]||(s[104]=o(" Prev "))]),_:1},8,["disabled"]),(d(!0),v(I,null,q(D.repairOrders.links.slice(1,-1),r=>(d(),g(e(k),{key:r.label,size:"sm",variant:"ghost",onClick:A=>Ne(r.url),disabled:!r.url,class:ge({"border-primary bg-primary/10 text-primary font-medium":r.active})},{default:a(()=>[l("span",{innerHTML:r.label},null,8,Jl)]),_:2},1032,["onClick","disabled","class"]))),128)),t(e(k),{size:"sm",variant:"ghost",onClick:s[15]||(s[15]=r=>Ne(D.repairOrders.next_page_url)),disabled:!D.repairOrders.next_page_url,class:"flex items-center gap-1"},{default:a(()=>[s[105]||(s[105]=o(" Next ")),t(i,{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),_:1})):(d(),v("div",ea,[t(i,{name:"database-x",class:"h-16 w-16 mx-auto mb-4 opacity-70"}),s[106]||(s[106]=l("h2",{class:"text-lg font-medium"},"There is No Data to give Information about.",-1))])),t(e(pe),{open:B.value,"onUpdate:open":s[33]||(s[33]=r=>B.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl"},{default:a(()=>[t(e(ie),{class:"px-4 sm:px-6 border-b pb-3"},{default:a(()=>[l("div",ta,[t(i,{name:e(b).id?"pencil":"plus-circle",class:"h-5 w-5 text-primary"},null,8,["name"]),t(e(ue),{class:"text-lg sm:text-xl font-semibold"},{default:a(()=>[o(f(K.value)+" Repair Order",1)]),_:1})]),t(e(me),{class:"text-xs sm:text-sm mt-1 text-muted-foreground"},{default:a(()=>[o("Fill in the details to "+f(K.value.toLowerCase())+" a repair order.",1)]),_:1})]),_:1}),l("div",sa,[l("form",{onSubmit:ke(Ie,["prevent"]),class:"grid grid-cols-1 gap-3 p-3 sm:grid-cols-2 sm:gap-4 sm:p-4"},[ee.value?(d(),v("div",la,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"building",class:"h-4 w-4 text-muted-foreground"}),s[107]||(s[107]=o(" Company "))]),_:1}),l("div",aa,[P(l("select",{"onUpdate:modelValue":s[16]||(s[16]=r=>e(b).tenant_id=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm ring-offset-background focus-visible:ring-2"},[s[108]||(s[108]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(I,null,q(D.tenants,r=>(d(),v("option",{key:r.id,value:r.id},f(r.name),9,na))),128))],512),[[Y,e(b).tenant_id]]),s[109]||(s[109]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])):w("",!0),l("div",oa,[t(i,{name:"info",class:"h-4 w-4 text-primary"}),s[110]||(s[110]=l("h3",{class:"text-md font-semibold text-primary"},"Basic Information",-1))]),l("div",ra,[l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"hash",class:"h-4 w-4 text-muted-foreground"}),s[111]||(s[111]=o(" RO# "))]),_:1}),t(e(Q),{modelValue:e(b).ro_number,"onUpdate:modelValue":s[17]||(s[17]=r=>e(b).ro_number=r),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"truck",class:"h-4 w-4 text-muted-foreground"}),s[112]||(s[112]=o(" Truck "))]),_:1}),l("div",da,[P(l("select",{"onUpdate:modelValue":s[18]||(s[18]=r=>e(b).truck_id=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[113]||(s[113]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(I,null,q(D.trucks,r=>(d(),v("option",{key:r.id,value:r.id},f(r.truckid),9,ia))),128))],512),[[Y,e(b).truck_id]]),s[114]||(s[114]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"calendar",class:"h-4 w-4 text-muted-foreground"}),s[115]||(s[115]=o(" Open Date "))]),_:1}),t(e(Q),{type:"date",modelValue:e(b).ro_open_date,"onUpdate:modelValue":s[19]||(s[19]=r=>e(b).ro_open_date=r),required:"",class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"calendar-check",class:"h-4 w-4 text-muted-foreground"}),s[116]||(s[116]=o(" Close Date "))]),_:1}),t(e(Q),{type:"date",modelValue:e(b).ro_close_date,"onUpdate:modelValue":s[20]||(s[20]=r=>e(b).ro_close_date=r),class:"h-9 w-full"},null,8,["modelValue"])])]),l("div",ua,[t(i,{name:"wrench",class:"h-4 w-4 text-primary"}),s[117]||(s[117]=l("h3",{class:"text-md font-semibold text-primary"},"Repair Details",-1))]),l("div",ma,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"alert-triangle",class:"h-4 w-4 text-muted-foreground"}),s[118]||(s[118]=o(" Areas of Concern "))]),_:1}),l("div",pa,[(d(!0),v(I,null,q(e(b).area_of_concerns,r=>(d(),v("span",{key:r,class:"badge bg-primary/10 text-primary px-2 py-1 rounded-md flex items-center"},[o(f(wt.value[r]),1),l("button",{onClick:A=>kt(r),class:"ml-1 hover:text-red-500 focus:outline-none"},"×",8,fa)]))),128)),e(b).area_of_concerns.length?w("",!0):(d(),v("span",ca,"No areas selected"))]),l("div",va,[l("select",{onChange:s[21]||(s[21]=r=>yt(r)),class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[119]||(s[119]=l("option",{value:""},"Select an area to add",-1)),(d(!0),v(I,null,q(bt.value,r=>(d(),v("option",{key:r.id,value:r.id},f(r.concern),9,xa))),128))],32),s[120]||(s[120]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",ga,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"clipboard-check",class:"h-4 w-4 text-muted-foreground"}),s[121]||(s[121]=o(" Repairs Made "))]),_:1}),P(l("textarea",{"onUpdate:modelValue":s[22]||(s[22]=r=>e(b).repairs_made=r),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[lt,e(b).repairs_made]])]),l("div",wa,[t(i,{name:"receipt",class:"h-4 w-4 text-primary"}),s[122]||(s[122]=l("h3",{class:"text-md font-semibold text-primary"},"Vendor & Invoice Information",-1))]),l("div",ba,[l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"building-2",class:"h-4 w-4 text-muted-foreground"}),s[123]||(s[123]=o(" Vendor "))]),_:1}),l("div",ya,[P(l("select",{"onUpdate:modelValue":s[23]||(s[23]=r=>e(b).vendor_id=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[124]||(s[124]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(I,null,q(D.vendors,r=>(d(),v("option",{key:r.id,value:r.id},f(r.vendor_name),9,ka))),128))],512),[[Y,e(b).vendor_id]]),s[125]||(s[125]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"file-text",class:"h-4 w-4 text-muted-foreground"}),s[126]||(s[126]=o(" WO# "))]),_:1}),t(e(Q),{modelValue:e(b).wo_number,"onUpdate:modelValue":s[24]||(s[24]=r=>e(b).wo_number=r),class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"activity",class:"h-4 w-4 text-muted-foreground"}),s[127]||(s[127]=o(" WO Status "))]),_:1}),l("div",_a,[P(l("select",{"onUpdate:modelValue":s[25]||(s[25]=r=>e(b).wo_status_id=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},[s[128]||(s[128]=l("option",{disabled:"",value:""},"Select",-1)),(d(!0),v(I,null,q(D.woStatuses,r=>(d(),v("option",{key:r.id,value:r.id},f(r.name),9,ha))),128))],512),[[Y,e(b).wo_status_id]]),s[129]||(s[129]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"check-square",class:"h-4 w-4 text-muted-foreground"}),s[130]||(s[130]=o(" On QS "))]),_:1}),l("div",Ca,[P(l("select",{"onUpdate:modelValue":s[26]||(s[26]=r=>e(b).on_qs=r),required:"",class:"flex h-9 w-full appearance-none rounded-md border bg-background px-3 py-1 text-sm"},s[131]||(s[131]=[l("option",{value:"yes"},"Yes",-1),l("option",{value:"no"},"No",-1),l("option",{value:"not expected"},"Not Expected",-1)]),512),[[Y,e(b).on_qs]]),s[132]||(s[132]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[l("svg",{class:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])]),l("div",Sa,[l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"file-invoice",class:"h-4 w-4 text-muted-foreground"}),s[133]||(s[133]=o(" Invoice "))]),_:1}),t(e(Q),{modelValue:e(b).invoice,"onUpdate:modelValue":s[27]||(s[27]=r=>e(b).invoice=r),class:"h-9 w-full"},null,8,["modelValue"])]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"dollar-sign",class:"h-4 w-4 text-muted-foreground"}),s[134]||(s[134]=o(" Amount "))]),_:1}),l("div",$a,[s[135]||(s[135]=l("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 text-muted-foreground"},"$",-1)),t(e(Q),{type:"number",step:"0.01",modelValue:e(b).invoice_amount,"onUpdate:modelValue":s[28]||(s[28]=r=>e(b).invoice_amount=r),class:"pl-7 h-9 w-full"},null,8,["modelValue"])])]),l("div",Va,[P(l("input",{type:"checkbox","onUpdate:modelValue":s[29]||(s[29]=r=>e(b).invoice_received=r),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[qe,e(b).invoice_received]]),t(e(C),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:a(()=>[t(i,{name:"inbox",class:"h-4 w-4 text-muted-foreground"}),s[136]||(s[136]=o(" Invoice Received "))]),_:1})]),l("div",null,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"calendar-days",class:"h-4 w-4 text-muted-foreground"}),s[137]||(s[137]=o(" QS Invoice Date "))]),_:1}),t(e(Q),{type:"date",modelValue:e(b).qs_invoice_date,"onUpdate:modelValue":s[30]||(s[30]=r=>e(b).qs_invoice_date=r),class:"h-9 w-full"},null,8,["modelValue"])])]),K.value==="Update"?(d(),v("div",Aa,[l("div",Da,[t(i,{name:"alert-octagon",class:"h-4 w-4 text-primary"}),s[138]||(s[138]=l("h3",{class:"text-md font-semibold text-primary"},"Dispute Information",-1))]),l("div",Oa,[P(l("input",{type:"checkbox","onUpdate:modelValue":s[31]||(s[31]=r=>e(b).disputed=r),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-1 focus:ring-primary"},null,512),[[qe,e(b).disputed]]),t(e(C),{class:"flex items-center gap-1.5 text-sm font-medium"},{default:a(()=>[t(i,{name:"alert-circle",class:"h-4 w-4 text-muted-foreground"}),s[139]||(s[139]=o(" Disputed? "))]),_:1})]),e(b).disputed?(d(),v("div",Ua,[t(e(C),{class:"flex items-center gap-1.5 mb-1 text-sm font-medium"},{default:a(()=>[t(i,{name:"message-square",class:"h-4 w-4 text-muted-foreground"}),s[140]||(s[140]=o(" Dispute Outcome "))]),_:1}),P(l("textarea",{"onUpdate:modelValue":s[32]||(s[32]=r=>e(b).dispute_outcome=r),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",rows:"2"},null,512),[[lt,e(b).dispute_outcome]])])):w("",!0)])):w("",!0)],32)]),t(e(ce),{class:"px-4 sm:px-6 flex justify-end gap-2 mt-2 pt-3 border-t"},{default:a(()=>[t(e(k),{variant:"outline",onClick:Qe,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:a(()=>s[141]||(s[141]=[o("Cancel")])),_:1}),t(e(k),{type:"submit",onClick:Ie,class:"h-9 px-4 py-1 text-xs sm:text-sm"},{default:a(()=>[o(f(K.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(pe),{open:G.value,"onUpdate:open":s[35]||(s[35]=r=>G.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(ie),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(ue),{class:"text-lg sm:text-xl"},{default:a(()=>s[142]||(s[142]=[o("Confirm Deletion")])),_:1}),t(e(me),{class:"text-xs sm:text-sm"},{default:a(()=>s[143]||(s[143]=[o("This action cannot be undone.")])),_:1})]),_:1}),t(e(ce),{class:"px-4 sm:px-6 flex gap-2"},{default:a(()=>[t(e(k),{variant:"outline",onClick:s[34]||(s[34]=r=>G.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[144]||(s[144]=[o("Cancel")])),_:1}),t(e(k),{variant:"destructive",onClick:Ge,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[145]||(s[145]=[o("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(pe),{open:R.value,"onUpdate:open":s[37]||(s[37]=r=>R.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-md"},{default:a(()=>[t(e(ie),{class:"px-4 sm:px-6"},{default:a(()=>[t(e(ue),{class:"text-lg sm:text-xl"},{default:a(()=>[o("Delete "+f(z.value.length)+" Orders?",1)]),_:1}),t(e(me),{class:"text-xs sm:text-sm"},{default:a(()=>s[146]||(s[146]=[o("This action cannot be undone.")])),_:1})]),_:1}),t(e(ce),{class:"px-4 sm:px-6 flex gap-2"},{default:a(()=>[t(e(k),{variant:"outline",onClick:s[36]||(s[36]=r=>R.value=!1),class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[147]||(s[147]=[o("Cancel")])),_:1}),t(e(k),{variant:"destructive",onClick:Ke,class:"h-9 px-4 py-1 text-xs sm:h-10 sm:text-sm"},{default:a(()=>s[148]||(s[148]=[o("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(pe),{open:M.value,"onUpdate:open":s[40]||(s[40]=r=>M.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(ie),null,{default:a(()=>[t(e(ue),null,{default:a(()=>s[149]||(s[149]=[o("Manage Areas of Concern")])),_:1}),t(e(me),{class:"text-sm sm:text-base"},{default:a(()=>s[150]||(s[150]=[o("Add or remove areas of concern for repair orders.")])),_:1})]),_:1}),l("div",Ma,[l("form",{onSubmit:ke(Xe,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",Na,[t(e(C),{for:"concern"},{default:a(()=>s[151]||(s[151]=[o("Area of Concern")])),_:1}),t(e(Q),{id:"concern",modelValue:e(oe).concern,"onUpdate:modelValue":s[38]||(s[38]=r=>e(oe).concern=r),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(k),{type:"submit",class:"w-full"},{default:a(()=>s[152]||(s[152]=[o("Add Area of Concern")])),_:1})],32),l("div",Ta,[l("div",Ia,[t(e(we),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(j),null,{default:a(()=>[t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[153]||(s[153]=[o("Area of Concern")])),_:1}),t(e(U),{class:"w-20 text-xs sm:text-sm"},{default:a(()=>s[154]||(s[154]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:a(()=>[p.areasOfConcern.length?w("",!0):(d(),g(e(j),{key:0},{default:a(()=>[t(e($),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[155]||(s[155]=[o("No areas of concern found.")])),_:1})]),_:1})),(d(!0),v(I,null,q(D.areasOfConcern,r=>(d(),g(e(j),{key:r.id},{default:a(()=>[t(e($),{class:"text-xs sm:text-sm"},{default:a(()=>[o(f(r.concern)+" ",1),r.deleted_at?(d(),v("span",za,"(Deleted)")):w("",!0)]),_:2},1024),t(e($),null,{default:a(()=>[l("div",Fa,[r.deleted_at?(d(),g(e(k),{key:0,onClick:A=>et(r.id),variant:"outline",size:"sm"},{default:a(()=>[t(i,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):w("",!0),r.deleted_at?w("",!0):(d(),g(e(k),{key:1,onClick:A=>Je(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(i,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"]))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ce),null,{default:a(()=>[t(e(k),{onClick:s[39]||(s[39]=r=>M.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[156]||(s[156]=[o("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(pe),{open:H.value,"onUpdate:open":s[43]||(s[43]=r=>H.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(ie),null,{default:a(()=>[t(e(ue),null,{default:a(()=>s[157]||(s[157]=[o("Manage Vendors")])),_:1}),t(e(me),{class:"text-sm sm:text-base"},{default:a(()=>s[158]||(s[158]=[o("Add or remove vendors for repair orders.")])),_:1})]),_:1}),l("div",Ba,[l("form",{onSubmit:ke(x,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",Ea,[t(e(C),{for:"vendor_name"},{default:a(()=>s[159]||(s[159]=[o("Vendor Name")])),_:1}),t(e(Q),{id:"vendor_name",modelValue:e(le).vendor_name,"onUpdate:modelValue":s[41]||(s[41]=r=>e(le).vendor_name=r),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(k),{type:"submit",class:"w-full"},{default:a(()=>s[160]||(s[160]=[o("Add Vendor")])),_:1})],32),l("div",qa,[l("div",Pa,[t(e(we),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[161]||(s[161]=[o("Vendor Name")])),_:1}),t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[162]||(s[162]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:a(()=>[D.vendors.length===0?(d(),g(e(j),{key:0},{default:a(()=>[t(e($),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[163]||(s[163]=[o("No vendors found.")])),_:1})]),_:1})):w("",!0),(d(!0),v(I,null,q(D.vendors,r=>(d(),g(e(j),{key:r.id},{default:a(()=>[t(e($),{class:"text-xs sm:text-sm"},{default:a(()=>[o(f(r.vendor_name)+" ",1),r.deleted_at?(d(),v("span",La,"(Deleted)")):w("",!0)]),_:2},1024),t(e($),null,{default:a(()=>[l("div",Wa,[r.deleted_at?(d(),g(e(k),{key:0,onClick:A=>u(r.id),variant:"outline",size:"sm"},{default:a(()=>[t(i,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):w("",!0),r.deleted_at?w("",!0):(d(),g(e(k),{key:1,onClick:A=>n(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(i,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),r.deleted_at?(d(),g(e(k),{key:2,onClick:A=>c.forceDeleteVendor(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(i,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):w("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ce),null,{default:a(()=>[t(e(k),{onClick:s[42]||(s[42]=r=>H.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[164]||(s[164]=[o("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(pe),{open:se.value,"onUpdate:open":s[46]||(s[46]=r=>se.value=r)},{default:a(()=>[t(e(de),{class:"max-w-[95vw] sm:max-w-[90vw] md:max-w-[600px]"},{default:a(()=>[t(e(ie),null,{default:a(()=>[t(e(ue),null,{default:a(()=>s[165]||(s[165]=[o("Manage Work Order Statuses")])),_:1}),t(e(me),{class:"text-sm sm:text-base"},{default:a(()=>s[166]||(s[166]=[o(" Add or remove work order statuses for repair orders. ")])),_:1})]),_:1}),l("div",Ra,[l("form",{onSubmit:ke(tt,["prevent"]),class:"space-y-3 sm:space-y-4"},[l("div",ja,[t(e(C),{for:"status_name"},{default:a(()=>s[167]||(s[167]=[o("Status Name")])),_:1}),t(e(Q),{id:"status_name",modelValue:e(y).name,"onUpdate:modelValue":s[44]||(s[44]=r=>e(y).name=r),required:"",class:"text-sm sm:text-base"},null,8,["modelValue"])]),t(e(k),{type:"submit",class:"w-full"},{default:a(()=>s[168]||(s[168]=[o("Add Work Order Status")])),_:1})],32),l("div",Qa,[l("div",Ya,[t(e(we),null,{default:a(()=>[t(e(be),{class:"sticky top-0 z-10 bg-background"},{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b bg-background"},{default:a(()=>[t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[169]||(s[169]=[o("Status Name")])),_:1}),t(e(U),{class:"text-xs sm:text-sm"},{default:a(()=>s[170]||(s[170]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:a(()=>[p.woStatuses.length?w("",!0):(d(),g(e(j),{key:0},{default:a(()=>[t(e($),{colspan:"2",class:"py-4 text-center text-sm"},{default:a(()=>s[171]||(s[171]=[o("No work order statuses found.")])),_:1})]),_:1})),(d(!0),v(I,null,q(p.woStatuses,r=>(d(),g(e(j),{key:r.id},{default:a(()=>[t(e($),{class:"text-xs sm:text-sm"},{default:a(()=>[o(f(r.name)+" ",1),r.deleted_at?(d(),v("span",Ga,"(Deleted)")):w("",!0)]),_:2},1024),t(e($),null,{default:a(()=>[l("div",Ha,[r.deleted_at?(d(),g(e(k),{key:0,onClick:A=>xt(r.id),variant:"outline",size:"sm"},{default:a(()=>[t(i,{name:"undo",class:"h-4 w-4"})]),_:2},1032,["onClick"])):w("",!0),r.deleted_at?w("",!0):(d(),g(e(k),{key:1,onClick:A=>vt(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(i,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])),r.deleted_at?(d(),g(e(k),{key:2,onClick:A=>c.forceDeleteStatus(r.id),variant:"destructive",size:"sm"},{default:a(()=>[t(i,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):w("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),t(e(ce),null,{default:a(()=>[t(e(k),{onClick:s[45]||(s[45]=r=>se.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[172]||(s[172]=[o("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(pe),{open:ze.value,"onUpdate:open":s[48]||(s[48]=r=>ze.value=r)},{default:a(()=>[t(e(de),{class:"max-h-[90vh] max-w-[95vw] overflow-y-auto md:max-w-[80vw] lg:max-w-4xl"},{default:a(()=>{var r;return[t(e(ie),null,{default:a(()=>[t(e(ue),{class:"flex items-center gap-2 text-lg md:text-xl"},{default:a(()=>[t(i,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),s[173]||(s[173]=o(" Canceled Invoices on QS "))]),_:1}),t(e(me),null,{default:a(()=>s[174]||(s[174]=[o(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),l("div",Ka,[(r=p.canceledQSInvoices)!=null&&r.length?(d(),g(e(we),{key:0},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),null,{default:a(()=>[t(e(U),{class:"whitespace-nowrap"},{default:a(()=>s[175]||(s[175]=[o("RO Number")])),_:1}),t(e(U),{class:"whitespace-nowrap"},{default:a(()=>s[176]||(s[176]=[o("Vendor")])),_:1}),t(e(U),{class:"whitespace-nowrap text-right"},{default:a(()=>s[177]||(s[177]=[o("Amount")])),_:1}),t(e(U),{class:"whitespace-nowrap"},{default:a(()=>s[178]||(s[178]=[o("Week")])),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:a(()=>[(d(!0),v(I,null,q(p.canceledQSInvoices,A=>(d(),g(e(j),{key:A.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:a(()=>[t(e($),{class:"font-medium"},{default:a(()=>[l("div",Za,[t(i,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),o(" "+f(A.ro_number),1)])]),_:2},1024),t(e($),null,{default:a(()=>[o(f(A.vendor_name),1)]),_:2},1024),t(e($),{class:"text-right"},{default:a(()=>[o(f(m(A.invoice_amount)),1)]),_:2},1024),t(e($),null,{default:a(()=>[o("W"+f(A.week_number)+"/"+f(A.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(d(),v("div",Xa,"No canceled QS invoices found."))]),t(e(ce),{class:"mt-4 flex flex-col gap-2 sm:flex-row"},{default:a(()=>[t(e(k),{onClick:s[47]||(s[47]=A=>ze.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:a(()=>s[179]||(s[179]=[o("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])])}}}),tn=Ot(en,[["__scopeId","data-v-640edae7"]]),sn={class:"bg-card rounded-lg border shadow-sm p-4 md:p-6 mb-6"},ln={class:"flex justify-between items-center mb-4"},an={class:"overflow-x-auto max-h-80"},nn={class:"flex space-x-2"},on={key:0,class:"border-t mt-4 px-4 py-3 bg-muted/20"},rn={class:"flex flex-col sm:flex-row items-center justify-between gap-2"},dn={class:"text-sm text-muted-foreground"},un={class:"flex flex-wrap gap-2"},mn={class:"grid grid-cols-2 gap-4"},pn={key:0,class:"grid grid-cols-2 gap-4"},fn={class:"mt-1"},cn={class:"mt-1"},vn=Pe({__name:"MilesDrivenTable",props:{milesEntries:{},tenantSlug:{},permissions:{}},setup(D){const p=D,O=V(!1),T=V("week_start_date"),z=V("desc"),F=V(1),L=V(10),S=xe({id:null,year:"",week_number:"",week_start_date:"",week_end_date:"",miles:"",notes:""}),Z=E(()=>{const _=[...p.milesEntries];return _.sort((m,h)=>{let W=m[T.value],X=h[T.value];return W>X?z.value==="asc"?1:-1:W<X?z.value==="asc"?-1:1:0}),_}),B=E(()=>Math.ceil(Z.value.length/L.value)),G=E(()=>{const _=(F.value-1)*L.value,m=_+L.value;return Z.value.slice(_,m)}),R=E(()=>{const _=[];if(B.value<=5)for(let h=1;h<=B.value;h++)_.push(h);else{let h=Math.max(1,F.value-Math.floor(2.5)),W=Math.min(B.value,h+5-1);W===B.value&&(h=Math.max(1,W-5+1));for(let X=h;X<=W;X++)_.push(X)}return _});function M(_){_<1||_>B.value||(F.value=_)}function H(_){T.value===_?z.value=z.value==="asc"?"desc":"asc":(T.value=_,z.value="asc"),F.value=1}function se(_=null){if(S.reset(),S.clearErrors(),_){S.id=_.id,S.week_start_date=_.week_start_date,S.week_end_date=_.week_end_date,S.miles=_.miles,S.notes=_.notes;const m=new Date(_.week_start_date),h=new Date(Date.UTC(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()));h.setUTCDate(h.getUTCDate()+4-(h.getUTCDay()||7));const W=h.getUTCFullYear(),X=Math.ceil(((h-Date.UTC(W,0,1))/864e5+1)/7)+1;S.year=W,S.week_number=X}O.value=!0}function K(){const _=+S.year,m=+S.week_number;if(!_||!m){S.week_start_date="",S.week_end_date="";return}const h=new Date(Date.UTC(_,0,4)),W=h.getUTCDay()||7;h.setUTCDate(h.getUTCDate()+(m-1)*7+(1-W));const X=new Date(h);X.setUTCDate(h.getUTCDate()-1);const ae=new Date(X);ae.setUTCDate(X.getUTCDate()+6),S.week_start_date=X.toISOString().slice(0,10),S.week_end_date=ae.toISOString().slice(0,10)}function b(){const _=S.id?"miles_driven.update":"miles_driven.store",m=S.id?{tenantSlug:p.tenantSlug,milesDriven:S.id}:{tenantSlug:p.tenantSlug};S[S.id?"put":"post"](it(_,m),{preserveScroll:!0,onSuccess:()=>{O.value=!1}})}const oe=V(null);function le(_){oe.value=_,confirm("Really delete this record?")&&y()}function y(){const _="miles_driven.destroy",m={tenantSlug:p.tenantSlug,milesDriven:oe.value.id};S.delete(it(_,m),{preserveScroll:!0,onSuccess:()=>{}})}function ee(_){if(!_)return"";const m=new Date(_);return new Date(m.getTime()+m.getTimezoneOffset()*6e4).toLocaleDateString()}function ve(_){return Number(_).toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:4})}function Me(_,m){return(_==null?void 0:_.length)>m?_.slice(0,m)+"…":_||""}const re=E(()=>p.permissions.map(_=>_.name));return(_,m)=>(d(),v("div",sn,[l("div",ln,[m[13]||(m[13]=l("h3",{class:"text-base md:text-xl font-semibold"}," Miles Driven ",-1)),re.value.includes("miles-driven.create")?(d(),g(e(k),{key:0,onClick:m[0]||(m[0]=h=>se()),variant:"default"},{default:a(()=>[t(i,{name:"plus",class:"mr-2 h-4 w-4"}),m[12]||(m[12]=l("span",null,"Add Miles Driven",-1))]),_:1})):w("",!0)]),l("div",an,[t(e(we),{class:"w-full"},{default:a(()=>[t(e(be),null,{default:a(()=>[t(e(j),{class:"sticky top-0 z-10 border-b"},{default:a(()=>[t(e(U),{class:"cursor-pointer",onClick:m[1]||(m[1]=h=>H("week_start_date"))},{default:a(()=>[m[14]||(m[14]=o(" Week Start ")),l("span",null,[T.value==="week_start_date"&&z.value==="asc"?(d(),g(i,{key:0,name:"chevron-up"})):T.value==="week_start_date"&&z.value==="desc"?(d(),g(i,{key:1,name:"chevron-down"})):(d(),g(i,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e(U),{class:"cursor-pointer",onClick:m[2]||(m[2]=h=>H("week_end_date"))},{default:a(()=>[m[15]||(m[15]=o(" Week End ")),l("span",null,[T.value==="week_end_date"&&z.value==="asc"?(d(),g(i,{key:0,name:"chevron-up"})):T.value==="week_end_date"&&z.value==="desc"?(d(),g(i,{key:1,name:"chevron-down"})):(d(),g(i,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e(U),{class:"cursor-pointer",onClick:m[3]||(m[3]=h=>H("miles"))},{default:a(()=>[m[16]||(m[16]=o(" Miles ")),l("span",null,[T.value==="miles"&&z.value==="asc"?(d(),g(i,{key:0,name:"chevron-up"})):T.value==="miles"&&z.value==="desc"?(d(),g(i,{key:1,name:"chevron-down"})):(d(),g(i,{key:2,name:"chevron-up-down",class:"opacity-50"}))])]),_:1}),t(e(U),null,{default:a(()=>m[17]||(m[17]=[o("Notes")])),_:1}),t(e(U),null,{default:a(()=>m[18]||(m[18]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:a(()=>[(d(!0),v(I,null,q(G.value,h=>(d(),g(e(j),{key:h.id},{default:a(()=>[t(e($),null,{default:a(()=>[o(f(ee(h.week_start_date)),1)]),_:2},1024),t(e($),null,{default:a(()=>[o(f(ee(h.week_end_date)),1)]),_:2},1024),t(e($),null,{default:a(()=>[o(f(ve(h.miles)),1)]),_:2},1024),t(e($),null,{default:a(()=>[o(f(Me(h.notes,30)),1)]),_:2},1024),re.value.includes("miles-driven.update")||re.value.includes("miles-driven.delete")?(d(),g(e($),{key:0},{default:a(()=>[l("div",nn,[re.value.includes("miles-driven.update")?(d(),g(e(k),{key:0,variant:"outline",size:"sm",onClick:W=>se(h)},{default:a(()=>[t(i,{name:"pencil",class:"mr-1 h-4 w-4"}),m[19]||(m[19]=l("span",null,"Edit",-1))]),_:2},1032,["onClick"])):w("",!0),re.value.includes("miles-driven.delete")?(d(),g(e(k),{key:1,variant:"destructive",size:"sm",onClick:W=>le(h)},{default:a(()=>[t(i,{name:"trash",class:"mr-1 h-4 w-4"}),m[20]||(m[20]=l("span",null,"Delete",-1))]),_:2},1032,["onClick"])):w("",!0)])]),_:2},1024)):w("",!0)]),_:2},1024))),128)),_.milesEntries.length?w("",!0):(d(),g(e(j),{key:0},{default:a(()=>[t(e($),{colspan:5,class:"py-4 text-center text-muted-foreground"},{default:a(()=>m[21]||(m[21]=[o(" No miles driven records found ")])),_:1})]),_:1}))]),_:1})]),_:1})]),B.value>1?(d(),v("div",on,[l("div",rn,[l("div",dn," Showing "+f(G.value.length)+" of "+f(_.milesEntries.length)+" entries ",1),l("div",un,[t(e(k),{onClick:m[4]||(m[4]=h=>M(F.value-1)),disabled:F.value===1,variant:"ghost",size:"sm"},{default:a(()=>m[22]||(m[22]=[o(" Previous ")])),_:1},8,["disabled"]),(d(!0),v(I,null,q(R.value,h=>(d(),g(e(k),{key:h,onClick:W=>M(h),variant:"ghost",size:"sm",class:ge({"border-primary bg-primary/10 text-primary":F.value===h})},{default:a(()=>[o(f(h),1)]),_:2},1032,["onClick","class"]))),128)),t(e(k),{onClick:m[5]||(m[5]=h=>M(F.value+1)),disabled:F.value===B.value,variant:"ghost",size:"sm"},{default:a(()=>m[23]||(m[23]=[o(" Next ")])),_:1},8,["disabled"])])])])):w("",!0),t(e(pe),{open:O.value,"onUpdate:open":m[11]||(m[11]=h=>O.value=h)},{default:a(()=>[t(e(de),{class:"sm:max-w-md w-full max-h-[90vh] overflow-auto"},{default:a(()=>[t(e(ie),null,{default:a(()=>[t(e(ue),null,{default:a(()=>[o(f(e(S).id?"Edit Miles Driven":"Add Miles Driven"),1)]),_:1}),t(e(me),{class:"text-muted-foreground"},{default:a(()=>[o(f(e(S).id?"Update this record.":"Fill in the new miles driven record."),1)]),_:1})]),_:1}),l("form",{onSubmit:ke(b,["prevent"]),class:"grid gap-4 py-4"},[l("div",mn,[l("div",null,[t(e(C),{for:"year"},{default:a(()=>m[24]||(m[24]=[o("Year")])),_:1}),t(e(Q),{id:"year",type:"number",modelValue:e(S).year,"onUpdate:modelValue":m[6]||(m[6]=h=>e(S).year=h),modelModifiers:{number:!0},min:"2000",max:"2100",onInput:K},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"week_number"},{default:a(()=>m[25]||(m[25]=[o("Week #")])),_:1}),t(e(Q),{id:"week_number",type:"number",modelValue:e(S).week_number,"onUpdate:modelValue":m[7]||(m[7]=h=>e(S).week_number=h),modelModifiers:{number:!0},min:"1",max:"53",onInput:K},null,8,["modelValue"])])]),e(S).week_start_date?(d(),v("div",pn,[l("div",null,[t(e(C),null,{default:a(()=>m[26]||(m[26]=[o("Start (Sun)")])),_:1}),l("p",fn,f(ee(e(S).week_start_date)),1)]),l("div",null,[t(e(C),null,{default:a(()=>m[27]||(m[27]=[o("End (Sat)")])),_:1}),l("p",cn,f(ee(e(S).week_end_date)),1)])])):w("",!0),l("div",null,[t(e(C),{for:"miles"},{default:a(()=>m[28]||(m[28]=[o("Miles")])),_:1}),t(e(Q),{id:"miles",modelValue:e(S).miles,"onUpdate:modelValue":m[8]||(m[8]=h=>e(S).miles=h),type:"number",step:"0.0001",min:"0",max:"999999.9999"},null,8,["modelValue"])]),l("div",null,[t(e(C),{for:"notes"},{default:a(()=>m[29]||(m[29]=[o("Notes")])),_:1}),P(l("textarea",{id:"notes","onUpdate:modelValue":m[9]||(m[9]=h=>e(S).notes=h),class:"w-full h-24 resize-none rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[lt,e(S).notes]])]),t(e(ce),{class:"mt-4"},{default:a(()=>[t(e(k),{variant:"outline",type:"button",onClick:m[10]||(m[10]=h=>O.value=!1)},{default:a(()=>m[30]||(m[30]=[o(" Cancel ")])),_:1}),t(e(k),{type:"submit",disabled:e(S).processing},{default:a(()=>m[31]||(m[31]=[o("Submit")])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]))}}),xn={class:"w-full md:max-w-2xl lg:max-w-3xl xl:max-w-6xl lg:mx-auto m-0 p-2 md:p-4 lg:p-6 space-y-2 md:space-y-4 lg:space-y-6"},gn={class:"border-b"},wn={class:"flex justify-center space-x-8 px-0 pt-4"},bn={key:0,class:"flex justify-center items-center p-12"},yn={key:1,class:"p-0"},Rn=Pe({__name:"AssetMaintenance",props:{entries:{type:Array,default:()=>[]},tenants:{type:Array,default:()=>[]},trucks:{type:Array,default:()=>[]},vendors:{type:Array,default:()=>[]},areasOfConcern:{type:Array,default:()=>[]},repairOrders:{type:Object,default:()=>({data:[],links:[]})},dateRange:{type:Object,default:null},woStatuses:{type:Array,default:()=>[]},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},canceledQSInvoices:{type:Array,default:()=>[]},outstandingInvoices:{type:Array,default:()=>[]},workOrdersByTruck:{type:Array,default:()=>[]},workOrderByAreasOfConcern:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},dateFilter:{type:String,default:"yesterday"},tenantSlug:String,SuperAdmin:Boolean,perPage:{type:Number,default:10},openedComponent:{type:String,default:"repairOrders"},milesEntries:Array,permissions:Array},setup(D){const p=D,O=V(!1),T=V(""),z=V(""),F=V(p.openedComponent||"trucks"),L=E(()=>[{title:p.tenantSlug?"Dashboard":"Admin Dashboard",href:p.tenantSlug?route("dashboard",{tenantSlug:p.tenantSlug}):route("admin.dashboard")},{title:"Asset Maintenance",href:"#"}]),S=E(()=>F.value==="trucks"?zs:F.value==="milesDriven"?vn:tn),Z=E(()=>p.permissions.map(R=>R.name)),B=E(()=>F.value==="trucks"?{entries:p.entries,tenantSlug:p.tenantSlug,SuperAdmin:p.SuperAdmin,tenants:p.tenants,trucks:p.trucks,vendors:p.vendors,areasOfConcern:p.areasOfConcern,permissions:p.permissions}:F.value==="milesDriven"?{milesEntries:p.milesEntries,tenantSlug:p.tenantSlug,permissions:p.permissions}:{repairOrders:p.repairOrders,tenantSlug:p.tenantSlug,SuperAdmin:p.SuperAdmin,tenants:p.tenants,trucks:p.trucks,vendors:p.vendors,areasOfConcern:p.areasOfConcern,dateRange:p.dateRange,woStatuses:p.woStatuses,weekNumber:p.weekNumber,startWeekNumber:p.startWeekNumber,endWeekNumber:p.endWeekNumber,year:p.year,canceledQSInvoices:p.canceledQSInvoices,outstandingInvoices:p.outstandingInvoices,workOrdersByTruck:p.workOrdersByTruck,workOrderByAreasOfConcern:p.workOrderByAreasOfConcern,filters:p.filters,dateFilter:p.dateFilter,perPage:p.perPage,permissions:p.permissions});function G(R){O.value=!0,F.value=R;const M=new URL(window.location.href);M.search="",M.searchParams.set("openedComponent",R),window.history.replaceState({},"",M.href),setTimeout(()=>{O.value=!1},300)}return(R,M)=>(d(),g(St,{breadcrumbs:L.value,tenantSlug:D.tenantSlug,permissions:p.permissions},{default:a(()=>[t(e(Ct),{title:"Asset Maintenance"}),l("div",xn,[T.value?(d(),g(e(Ue),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),null,{default:a(()=>M[3]||(M[3]=[o("Success")])),_:1}),t(e(Oe),null,{default:a(()=>[o(f(T.value),1)]),_:1})]),_:1})):w("",!0),z.value?(d(),g(e(Ue),{key:1,variant:"destructive",class:"animate-in fade-in duration-300"},{default:a(()=>[t(e(De),null,{default:a(()=>M[4]||(M[4]=[o("Error")])),_:1}),t(e(Oe),null,{default:a(()=>[o(f(z.value),1)]),_:1})]),_:1})):w("",!0),M[9]||(M[9]=l("div",{class:"flex flex-col sm:flex-row justify-between items-center px-2 mb-2 md:mb-4 lg:mb-6"},[l("h1",{class:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800 dark:text-gray-200"}," Asset Maintenance "),l("div",{class:"flex flex-wrap gap-3 mt-2 sm:mt-0"})],-1)),t(e(Ve),{class:"shadow-sm border bg-card"},{default:a(()=>[t(e(Ae),{class:"p-0"},{default:a(()=>[l("div",gn,[l("div",wn,[Z.value.includes("repair-orders.view")?(d(),g(e(k),{key:0,onClick:M[0]||(M[0]=H=>G("repairOrders")),variant:"ghost",class:ge([[F.value==="repairOrders"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-0 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(i,{name:"clipboardList",class:"mr-2 h-4 w-4"}),M[5]||(M[5]=l("span",null,"Repair Orders",-1))]),_:1},8,["class"])):w("",!0),Z.value.includes("miles-driven.view")?(d(),g(e(k),{key:1,onClick:M[1]||(M[1]=H=>G("milesDriven")),variant:"ghost",class:ge([[F.value==="milesDriven"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(i,{name:"gauge",class:"mr-2 h-4 w-4"}),M[6]||(M[6]=l("span",null,"Miles Driven",-1))]),_:1},8,["class"])):w("",!0),Z.value.includes("trucks.view")?(d(),g(e(k),{key:2,onClick:M[2]||(M[2]=H=>G("trucks")),variant:"ghost",class:ge([[F.value==="trucks"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"],"py-2 px-3 -mb-px font-medium text-sm rounded-none transition-colors duration-200 inline-flex items-center"])},{default:a(()=>[t(i,{name:"truck",class:"mr-2 h-4 w-4"}),M[7]||(M[7]=l("span",null,"Trucks",-1))]),_:1},8,["class"])):w("",!0)])]),O.value?(d(),v("div",bn,M[8]||(M[8]=[l("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):(d(),v("div",yn,[(d(),g(Vt(S.value),At(Dt(B.value)),null,16))]))]),_:1})]),_:1})])]),_:1},8,["breadcrumbs","tenantSlug","permissions"]))}});export{Rn as default};
