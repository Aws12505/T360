import{d as B,c as N,an as j,b as $,e as n,f as l,z as s,u as e,ao as z,aj as E,i as M,m as T,ap as U,F as i,X as r,U as g,S as u,C as q,Y as F,H as L,O as P,E as v,G as D}from"./vendor-BpT-r7Ja.js";import{x as G}from"./vendor-vue-B19pMx_k.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-BjJf4-TG.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-CACqrpJk.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-Kvpd3EIc.js";import{c as C}from"./utils-Do85zU62.js";import{_ as w}from"./InputError.vue_vue_type_script_setup_true_lang-h2cAZsoZ.js";import{X as O,L as X}from"./vendor-icons-Dww4C8Xv.js";const S=B({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(m,{emit:_}){const d=m,c=_,h=N(()=>{const{class:b,...p}=d;return p}),o=j(h,c);return(b,p)=>(n(),$(e(U),T(e(o),{class:e(C)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",d.class)}),{default:l(()=>[s(e(z),{class:E(e(C)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5"))},{default:l(()=>[M(b.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),A={class:"bg-background p-4 sm:p-6 rounded-lg shadow-xl w-full overflow-y-auto max-h-[90vh] animate-in fade-in zoom-in-95 duration-200 border border-border"},H={class:"flex justify-between items-center mb-4"},Y={class:"text-xl sm:text-2xl font-bold text-foreground"},I={class:"space-y-2"},J={key:0},K=["value"],Q={key:1,class:"text-lg font-medium capitalize text-foreground"},R={class:"space-y-4 p-4 border rounded-md border-border bg-card"},W={class:"flex items-center justify-between"},Z={key:0,class:"space-y-2"},ee={class:"space-y-4 p-4 border rounded-md border-border bg-card"},te={class:"flex items-center justify-between"},oe={key:0,class:"space-y-2"},se={class:"flex justify-end space-x-3"},ce=B({__name:"Form",props:{entry:{type:Object,default:()=>({})},isCreating:{type:Boolean,default:!1},availableMetrics:{type:Array,default:()=>[]},tenantSlug:{type:String,default:null}},emits:["saved","cancel"],setup(m,{emit:_}){const d=m,c=_,{tenantSlug:h}=d,o=G({id:d.entry.id,metric_name:d.entry.metric_name||"",good_threshold:d.entry.good_threshold??null,bad_threshold:d.entry.bad_threshold??null,good_enabled:d.entry.good_enabled??!0,bad_enabled:d.entry.bad_enabled??!0}),b=N(()=>d.isCreating?"Create New Threshold":"Edit Threshold"),p=()=>{o.post(route("sms-coaching.update",{tenantSlug:h}),{onSuccess:()=>c("saved")})},V=y=>y.replace(/_/g," ");return(y,t)=>(n(),i("div",A,[r("div",H,[r("h2",Y,g(b.value),1),s(e(x),{variant:"ghost",size:"icon",onClick:t[0]||(t[0]=()=>c("cancel"))},{default:l(()=>[s(e(O),{class:"h-5 w-5"})]),_:1})]),r("form",{onSubmit:D(p,["prevent"]),class:"space-y-6"},[r("div",I,[s(e(f),{for:"metric_name"},{default:l(()=>t[7]||(t[7]=[u("Metric Name")])),_:1}),m.isCreating?(n(),i("div",J,[q(r("select",{id:"metric_name","onUpdate:modelValue":t[1]||(t[1]=a=>e(o).metric_name=a),required:"",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground dark:text-white shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[8]||(t[8]=r("option",{value:"",disabled:""},"Select a metric",-1)),(n(!0),i(L,null,P(m.availableMetrics,a=>(n(),i("option",{key:a,value:a,class:"capitalize"},g(V(a)),9,K))),128))],512),[[F,e(o).metric_name]]),s(w,{message:e(o).errors.metric_name},null,8,["message"])])):(n(),i("div",Q,g(V(e(o).metric_name)),1))]),r("div",R,[r("div",W,[s(e(f),{for:"good_enabled",class:"text-base font-medium text-foreground"},{default:l(()=>t[9]||(t[9]=[u("Good Threshold")])),_:1}),s(e(S),{id:"good_enabled",modelValue:e(o).good_enabled,"onUpdate:modelValue":t[2]||(t[2]=a=>e(o).good_enabled=a)},null,8,["modelValue"])]),e(o).good_enabled?(n(),i("div",Z,[s(e(f),{for:"good_threshold",class:"text-foreground"},{default:l(()=>t[10]||(t[10]=[u("Value")])),_:1}),s(e(k),{id:"good_threshold",modelValue:e(o).good_threshold,"onUpdate:modelValue":t[3]||(t[3]=a=>e(o).good_threshold=a),type:"number",step:"0.01",placeholder:"Enter threshold value",class:"w-full"},null,8,["modelValue"]),s(w,{message:e(o).errors.good_threshold},null,8,["message"]),t[11]||(t[11]=r("p",{class:"text-sm text-muted-foreground"},' Values less than or equal to this threshold will be considered "good". ',-1))])):v("",!0)]),r("div",ee,[r("div",te,[s(e(f),{for:"bad_enabled",class:"text-base font-medium text-foreground"},{default:l(()=>t[12]||(t[12]=[u("Bad Threshold")])),_:1}),s(e(S),{id:"bad_enabled",modelValue:e(o).bad_enabled,"onUpdate:modelValue":t[4]||(t[4]=a=>e(o).bad_enabled=a)},null,8,["modelValue"])]),e(o).bad_enabled?(n(),i("div",oe,[s(e(f),{for:"bad_threshold",class:"text-foreground"},{default:l(()=>t[13]||(t[13]=[u("Value")])),_:1}),s(e(k),{id:"bad_threshold",modelValue:e(o).bad_threshold,"onUpdate:modelValue":t[5]||(t[5]=a=>e(o).bad_threshold=a),type:"number",step:"0.01",placeholder:"Enter threshold value",class:"w-full"},null,8,["modelValue"]),s(w,{message:e(o).errors.bad_threshold},null,8,["message"]),t[14]||(t[14]=r("p",{class:"text-sm text-muted-foreground"},' Values more than or equal to this threshold will be considered "bad". ',-1))])):v("",!0)]),r("div",se,[s(e(x),{type:"button",onClick:t[6]||(t[6]=a=>c("cancel")),variant:"outline"},{default:l(()=>t[15]||(t[15]=[u(" Cancel ")])),_:1}),s(e(x),{type:"submit",disabled:e(o).processing},{default:l(()=>[e(o).processing?(n(),$(e(X),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):v("",!0),u(" "+g(e(o).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)]))}});export{ce as _};
