import{r as S,a as L,w as Ae,f,i,j as l,B as t,X as a,u as s,G as m,O as u,P as p,C as De,E as T,Y as I,al as le,H as x,J as P,K as z,ak as ae,I as ne,am as Ve}from"./vendor-BFuKjz45.js";import{x as q,g as Me,W as w}from"./vendor-vue-BLQkEQ_D.js";import{_ as Ue}from"./AppLayout.vue_vue_type_script_setup_true_lang-CMNPZQ2-.js";import{_ as d}from"./Icon.vue_vue_type_script_setup_true_lang-Bvtx7n_2.js";import{_ as Pe,a as ze,b as H,c as $,d as Be,e as C}from"./TableRow.vue_vue_type_script_setup_true_lang-BYKXF4kE.js";import{_ as c}from"./Button.vue_vue_type_script_setup_true_lang-BbwYdLlm.js";import{_ as oe}from"./Card.vue_vue_type_script_setup_true_lang-kUJ1jh19.js";import{_ as Fe,a as Ne}from"./CardTitle.vue_vue_type_script_setup_true_lang-B4PiGnOE.js";import{_ as ue}from"./CardContent.vue_vue_type_script_setup_true_lang-CaXnTGJw.js";import{_ as K,a as R,b as W,c as Y,d as G}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BMgF8EFT.js";import{_ as J}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B6J1QtuW.js";import{_ as A,a as X}from"./Label.vue_vue_type_script_setup_true_lang-B6MZTsAk.js";import{_ as Ee,a as Le,b as Oe}from"./AlertDescription.vue_vue_type_script_setup_true_lang-DfRKwC2v.js";import{_ as re}from"./Badge.vue_vue_type_script_setup_true_lang-Cbc7GIY_.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-7fX89-0C.js";import"./vendor-ui-CqNqovUm.js";import"./app-C1zc-OeF.js";import"./vendor-icons-ILJ_3fu6.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CZUnzYQk.js";const Ie={class:"w-[95%] mx-auto p-6 space-y-8"},qe={class:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6"},He={class:"flex items-center gap-3"},Ke={class:"flex gap-3"},Re={class:"flex flex-col gap-4"},We={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ye={class:"relative"},Ge={class:"flex items-end"},Je={class:"flex items-center gap-2 h-10 cursor-pointer"},Xe={class:"flex justify-end"},Qe={class:"overflow-x-auto bg-background dark:bg-background border-t border-border"},Ze={class:"flex items-center justify-center"},et=["checked"],tt={class:"flex items-center gap-1"},st={class:"flex items-center gap-1"},lt={class:"flex items-center gap-1"},at={class:"flex items-center gap-1"},nt={class:"flex flex-col items-center justify-center text-muted-foreground"},ot=["value"],ut={class:"flex items-center gap-2"},rt={class:"font-medium"},it={class:"flex flex-col"},dt={class:"text-xs text-muted-foreground"},ct={class:"flex gap-2"},mt={key:0,class:"bg-muted/20 px-4 py-3 border-t"},ft={class:"flex flex-col sm:flex-row justify-between items-center gap-4"},pt={class:"text-sm text-muted-foreground"},vt={class:"flex items-center gap-4"},gt={class:"flex items-center gap-2"},bt={class:"flex"},xt=["innerHTML"],kt={class:"space-y-2"},yt=["value"],St={key:0,class:"mt-2"},wt={class:"space-y-4 p-4"},_t={class:"flex-1"},ht={class:"border rounded-md"},jt={class:"divide-y max-h-[300px] overflow-y-auto"},Ct={key:0,class:"p-4 text-center text-muted-foreground"},$t={class:"flex gap-2"},Tt={key:0,class:"border rounded-md mt-4"},At={class:"divide-y max-h-[200px] overflow-y-auto"},Dt={class:"text-muted-foreground flex items-center"},Vt={class:"flex gap-2"},Qt={__name:"TicketIndex",props:{tickets:Object,tenantSlug:{type:String,default:null},SuperAdmin:Boolean,filters:Object,ticket_subjects:{type:Array,default:()=>[]},deleted_subjects:{type:Array,default:()=>[]}},setup(v){var se;const r=v,k=S(""),D=S(!1),B=S(!1),_=q({subject:"",message:""}),F=q({name:""}),b=S({...r.filters}),g=S([]),V=S(!1),M=S(((se=r.tickets)==null?void 0:se.per_page)||10),h=S("created_at"),y=S("desc"),U=S("custom"),Q=L(()=>U.value==="custom");function ie(){Q.value?_.subject="":_.subject=U.value}const de=[{title:r.tenantSlug?"Dashboard":"Admin Dashboard",href:r.tenantSlug?route("dashboard",{tenantSlug:r.tenantSlug}):route("admin.dashboard")},{title:"Support Tickets",href:r.tenantSlug?route("support.index",{tenantSlug:r.tenantSlug}):route("support.index.admin")}],Z=L(()=>r.tickets.data.length>0&&g.value.length===r.tickets.data.length);function ce(){Z.value?g.value=[]:g.value=r.tickets.data.map(o=>o.id)}function me(o){return g.value.includes(o)}function fe(o){return r.SuperAdmin?!o.seen_by_admin:!o.seen_by_user}function pe(o){switch(o){case"open":return"default";case"in_progress":return"warning";case"closed":return"secondary";default:return"outline"}}function N(o){h.value===o?y.value=y.value==="asc"?"desc":"asc":(h.value=o,y.value="asc");const e=r.tenantSlug?route("support.index",{tenantSlug:r.tenantSlug}):route("support.index.admin");w.get(e,{...b.value,sort:h.value,direction:y.value,per_page:M.value},{preserveState:!0})}function ve(){if(g.value.length===0)return;const o=q({ids:g.value}),e=r.SuperAdmin?"support.destroyBulk.admin":"support.destroyBulk",n=r.SuperAdmin?{}:{tenantSlug:r.tenantSlug};o.delete(route(e,n),{preserveScroll:!0,onSuccess:()=>{k.value=`${g.value.length} tickets deleted successfully.`,g.value=[],V.value=!1},onError:j=>{console.error(j)}})}function ge(){const o=r.tenantSlug?route("support.index",{tenantSlug:r.tenantSlug}):route("support.index.admin");w.get(o,{...b.value,sort:h.value,direction:y.value,per_page:M.value},{preserveState:!0})}function be(){b.value={search:"",status:"",unseen:!1},E()}function xe(o){o&&w.get(new URL(o).href,{},{preserveState:!0})}function E(){const o=r.tenantSlug?route("support.index",{tenantSlug:r.tenantSlug}):route("support.index.admin");w.get(o,{search:b.value.search,status:b.value.status,unseen:b.value.unseen?"true":void 0,sort:h.value,direction:y.value,per_page:M.value},{preserveState:!0})}function ee(){_.reset(),U.value="custom",D.value=!0}function ke(){const o=r.tenantSlug?route("support.store",{tenantSlug:r.tenantSlug}):route("support.store.admin");_.post(o,{onSuccess:()=>{k.value="Ticket created.",D.value=!1,_.reset()}})}function ye(o){const e=r.tenantSlug?route("support.show",{tenantSlug:r.tenantSlug,ticket:o}):route("support.show.admin",o);w.get(e)}function Se(o){w.delete(r.tenantSlug?route("support.destroy",{tenantSlug:r.tenantSlug,ticket:o}):route("support.destroy.admin",o),{onSuccess:()=>{k.value="Ticket deleted.",w.reload()}})}function we(o){const e=new Date(o);return`${e.getMonth()+1}-${e.getDate()}-${e.getFullYear()}`}function _e(o){return new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}Ae(k,o=>{o&&setTimeout(()=>k.value="",5e3)});function he(){B.value=!0}function je(){F.post(route("ticket_subjects.store.admin"),{preserveScroll:!0,onSuccess:()=>{F.reset(),k.value="Subject created successfully"}})}function Ce(o){confirm("Are you sure you want to delete this subject?")&&w.delete(route("ticket_subjects.destroy.admin",o),{preserveScroll:!0,onSuccess:()=>{k.value="Subject deleted successfully"}})}function $e(o){w.post(route("ticket_subjects.restore.admin",o),{},{preserveScroll:!0,onSuccess:()=>{k.value="Subject restored successfully"}})}function Te(o){confirm("Are you sure you want to permanently delete this subject? This action cannot be undone.")&&w.delete(route("ticket_subjects.forceDelete.admin",o),{preserveScroll:!0,onSuccess:()=>{k.value="Subject permanently deleted"}})}const O=L(()=>r.ticket_subjects.filter(o=>!o.deleted_at)),te=L(()=>r.ticket_subjects.filter(o=>o.deleted_at));return(o,e)=>(i(),f(Ue,{breadcrumbs:de,tenantSlug:v.tenantSlug},{default:l(()=>[t(s(Me),{title:"Support Tickets"}),a("div",Ie,[k.value?(i(),f(s(Ee),{key:0,variant:"success",class:"animate-in fade-in duration-300"},{default:l(()=>[t(s(Le),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"check-circle",class:"h-5 w-5 text-green-500"}),e[22]||(e[22]=u(" Success "))]),_:1}),t(s(Oe),null,{default:l(()=>[u(p(k.value),1)]),_:1})]),_:1})):m("",!0),a("div",qe,[a("div",He,[t(d,{name:"help-circle",class:"h-7 w-7 text-primary"}),e[23]||(e[23]=a("h1",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"Support Tickets",-1))]),a("div",Ke,[v.SuperAdmin?m("",!0):(i(),f(s(c),{key:0,onClick:ee,variant:"default",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"plus",class:"mr-2 h-4 w-4"}),e[24]||(e[24]=u(" New Ticket "))]),_:1})),g.value.length>0?(i(),f(s(c),{key:1,onClick:e[0]||(e[0]=n=>V.value=!0),variant:"destructive",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"trash",class:"mr-2 h-4 w-4"}),u(" Delete Selected ("+p(g.value.length)+") ",1)]),_:1})):m("",!0),v.SuperAdmin?(i(),f(s(c),{key:2,onClick:e[1]||(e[1]=n=>he()),variant:"outline"},{default:l(()=>[t(d,{name:"settings",class:"mr-2 h-4 w-4"}),e[25]||(e[25]=u(" Manage Subjects "))]),_:1})):m("",!0)])]),t(s(oe),{class:"shadow-sm hover:shadow transition-all duration-300"},{default:l(()=>[t(s(Fe),{class:"pb-2"},{default:l(()=>[t(s(Ne),{class:"text-lg flex items-center gap-2"},{default:l(()=>[t(d,{name:"filter",class:"h-5 w-5 text-muted-foreground"}),e[26]||(e[26]=u(" Filters "))]),_:1})]),_:1}),t(s(ue),{class:"p-4 pt-2"},{default:l(()=>[a("div",Re,[a("div",We,[a("div",null,[t(s(A),{for:"search",class:"text-sm font-medium mb-1 block"},{default:l(()=>e[27]||(e[27]=[u("Search")])),_:1}),a("div",Ye,[t(d,{name:"search",class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t(s(X),{id:"search",modelValue:b.value.search,"onUpdate:modelValue":e[2]||(e[2]=n=>b.value.search=n),placeholder:"Search subject or messageâ€¦",onKeydown:De(E,["enter"]),class:"pl-9"},null,8,["modelValue"])])]),a("div",null,[t(s(A),{for:"status",class:"text-sm font-medium mb-1 block"},{default:l(()=>e[28]||(e[28]=[u("Status")])),_:1}),T(a("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=n=>b.value.status=n),onChange:E,class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background"},e[29]||(e[29]=[a("option",{value:""},"All Statuses",-1),a("option",{value:"open"},"Open",-1),a("option",{value:"in_progress"},"In Progress",-1),a("option",{value:"closed"},"Closed",-1)]),544),[[I,b.value.status]])]),a("div",Ge,[a("label",Je,[T(a("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=n=>b.value.unseen=n),onChange:E,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,544),[[le,b.value.unseen]]),e[30]||(e[30]=a("span",null,"Unseen Only",-1))])])]),a("div",Xe,[t(s(c),{onClick:be,variant:"ghost",size:"sm",class:"gap-1"},{default:l(()=>[t(d,{name:"rotate-ccw",class:"h-4 w-4"}),e[31]||(e[31]=u(" Reset Filters "))]),_:1})])])]),_:1})]),_:1}),t(s(oe),{class:"shadow-sm hover:shadow transition-all duration-300"},{default:l(()=>[t(s(ue),{class:"p-0"},{default:l(()=>[a("div",Qe,[t(s(Pe),{class:"relative h-[600px] overflow-auto"},{default:l(()=>[t(s(ze),null,{default:l(()=>[t(s(H),{class:"sticky top-0 bg-background border-b z-10 hover:bg-background"},{default:l(()=>[t(s($),{class:"w-[50px]"},{default:l(()=>[a("div",Ze,[a("input",{type:"checkbox",onChange:ce,checked:Z.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,et)])]),_:1}),t(s($),{class:"w-[70px] cursor-pointer",onClick:e[5]||(e[5]=n=>N("id"))},{default:l(()=>[a("div",tt,[e[32]||(e[32]=u(" ID ")),h.value==="id"?(i(),f(d,{key:0,name:y.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):m("",!0)])]),_:1}),v.SuperAdmin?(i(),f(s($),{key:0},{default:l(()=>e[33]||(e[33]=[u("User")])),_:1})):m("",!0),t(s($),{class:"cursor-pointer",onClick:e[6]||(e[6]=n=>N("subject"))},{default:l(()=>[a("div",st,[e[34]||(e[34]=u(" Subject ")),h.value==="subject"?(i(),f(d,{key:0,name:y.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):m("",!0)])]),_:1}),t(s($),{class:"cursor-pointer",onClick:e[7]||(e[7]=n=>N("status"))},{default:l(()=>[a("div",lt,[e[35]||(e[35]=u(" Status ")),h.value==="status"?(i(),f(d,{key:0,name:y.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):m("",!0)])]),_:1}),t(s($),{class:"cursor-pointer",onClick:e[8]||(e[8]=n=>N("created_at"))},{default:l(()=>[a("div",at,[e[36]||(e[36]=u(" Created ")),h.value==="created_at"?(i(),f(d,{key:0,name:y.value==="asc"?"arrow-up":"arrow-down",class:"h-3 w-3"},null,8,["name"])):m("",!0)])]),_:1}),t(s($),null,{default:l(()=>e[37]||(e[37]=[u("Actions")])),_:1})]),_:1})]),_:1}),t(s(Be),null,{default:l(()=>[v.tickets.data.length===0?(i(),f(s(H),{key:0},{default:l(()=>[t(s(C),{colspan:v.SuperAdmin?7:6,class:"py-8 text-center"},{default:l(()=>[a("div",nt,[t(d,{name:"inbox",class:"h-12 w-12 mb-2 opacity-20"}),e[39]||(e[39]=a("p",null,"No tickets found",-1)),t(s(c),{onClick:ee,variant:"link",class:"mt-2"},{default:l(()=>e[38]||(e[38]=[u("Create your first ticket")])),_:1})])]),_:1},8,["colspan"])]),_:1})):m("",!0),(i(!0),x(P,null,z(v.tickets.data,n=>(i(),f(s(H),{key:n.id,class:ae(["hover:bg-muted/50 transition-colors",{"bg-primary/5":me(n.id)}])},{default:l(()=>[t(s(C),{class:"text-center"},{default:l(()=>[T(a("input",{type:"checkbox",value:n.id,"onUpdate:modelValue":e[9]||(e[9]=j=>g.value=j),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,8,ot),[[le,g.value]])]),_:2},1024),t(s(C),{class:"text-center font-mono text-sm"},{default:l(()=>[u(p(n.id),1)]),_:2},1024),v.SuperAdmin?(i(),f(s(C),{key:0},{default:l(()=>[u(p(n.user.name),1)]),_:2},1024)):m("",!0),t(s(C),null,{default:l(()=>[a("div",ut,[a("span",rt,p(n.subject),1),fe(n)?(i(),f(s(re),{key:0,variant:"destructive",class:"ml-2 animate-pulse"},{default:l(()=>e[40]||(e[40]=[u("New")])),_:1})):m("",!0)])]),_:2},1024),t(s(C),null,{default:l(()=>[t(s(re),{variant:pe(n.status),class:"capitalize"},{default:l(()=>[u(p(n.status.replace("_"," ")),1)]),_:2},1032,["variant"])]),_:2},1024),t(s(C),null,{default:l(()=>[a("div",it,[a("span",null,p(we(n.created_at)),1),a("span",dt,p(_e(n.created_at)),1)])]),_:2},1024),t(s(C),null,{default:l(()=>[a("div",ct,[t(s(c),{onClick:j=>ye(n.id),size:"sm",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"eye",class:"mr-1 h-4 w-4"}),e[41]||(e[41]=u("View "))]),_:2},1032,["onClick"]),t(s(c),{onClick:j=>Se(n.id),variant:"destructive",size:"sm",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"trash",class:"mr-1 h-4 w-4"}),e[42]||(e[42]=u("Delete "))]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),v.tickets.links?(i(),x("div",mt,[a("div",ft,[a("div",pt," Showing "+p(v.tickets.data.length)+" of "+p(v.tickets.total),1),a("div",vt,[a("div",gt,[t(s(A),{for:"perPage",class:"text-sm"},{default:l(()=>e[43]||(e[43]=[u("Per page:")])),_:1}),T(a("select",{id:"perPage","onUpdate:modelValue":e[10]||(e[10]=n=>M.value=n),onChange:ge,class:"h-8 rounded-md border border-input bg-background px-2 py-1 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},e[44]||(e[44]=[a("option",{value:"10"},"10",-1),a("option",{value:"25"},"25",-1),a("option",{value:"50"},"50",-1),a("option",{value:"100"},"100",-1)]),544),[[I,M.value]])]),a("div",bt,[(i(!0),x(P,null,z(v.tickets.links,n=>(i(),f(s(c),{key:n.label,onClick:j=>xe(n.url),disabled:!n.url,size:"sm",variant:"ghost",class:ae(["mx-1",{"bg-primary/10 text-primary border-primary":n.active}])},{default:l(()=>[a("span",{innerHTML:n.label},null,8,xt)]),_:2},1032,["onClick","disabled","class"]))),128))])])])])):m("",!0)]),_:1})]),_:1}),t(s(K),{open:V.value,"onUpdate:open":e[13]||(e[13]=n=>V.value=n)},{default:l(()=>[t(s(R),null,{default:l(()=>[t(s(W),null,{default:l(()=>[t(s(Y),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"alert-triangle",class:"h-5 w-5 text-destructive"}),e[45]||(e[45]=u(" Confirm Bulk Deletion "))]),_:1}),t(s(G),null,{default:l(()=>[u(" Are you sure you want to delete "+p(g.value.length)+" tickets? This action cannot be undone. ",1)]),_:1})]),_:1}),t(s(J),{class:"mt-4"},{default:l(()=>[t(s(c),{type:"button",onClick:e[11]||(e[11]=n=>V.value=!1),variant:"outline"},{default:l(()=>e[46]||(e[46]=[u(" Cancel ")])),_:1}),t(s(c),{type:"button",onClick:e[12]||(e[12]=n=>ve()),variant:"destructive"},{default:l(()=>e[47]||(e[47]=[u(" Delete Selected ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(s(K),{open:D.value,"onUpdate:open":e[18]||(e[18]=n=>D.value=n)},{default:l(()=>[t(s(R),{class:"sm:max-w-lg w-[90vw]"},{default:l(()=>[t(s(W),null,{default:l(()=>[t(s(Y),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"plus-circle",class:"h-5 w-5 text-primary"}),e[48]||(e[48]=u(" New Ticket "))]),_:1}),t(s(G),null,{default:l(()=>e[49]||(e[49]=[u(" Fill in the details to create a new support ticket. ")])),_:1})]),_:1}),a("form",{onSubmit:ne(ke,["prevent"]),class:"space-y-4 p-4"},[a("div",null,[t(s(A),{for:"subjectSelect"},{default:l(()=>e[50]||(e[50]=[u("Subject")])),_:1}),a("div",kt,[T(a("select",{id:"subjectSelect","onUpdate:modelValue":e[14]||(e[14]=n=>U.value=n),onChange:ie,class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background"},[e[51]||(e[51]=a("option",{value:"custom"},"Custom Subject",-1)),(i(!0),x(P,null,z(O.value,n=>(i(),x("option",{key:n.id,value:n.name},p(n.name),9,yt))),128))],544),[[I,U.value]]),Q.value?(i(),x("div",St,[t(s(A),{for:"customSubject",class:"text-sm text-muted-foreground"},{default:l(()=>e[52]||(e[52]=[u("Enter Custom Subject")])),_:1}),t(s(X),{id:"customSubject",modelValue:s(_).subject,"onUpdate:modelValue":e[15]||(e[15]=n=>s(_).subject=n),required:"",placeholder:"Enter your custom subject...",class:"mt-1"},null,8,["modelValue"])])):m("",!0)])]),a("div",null,[t(s(A),{for:"message"},{default:l(()=>e[53]||(e[53]=[u("Message")])),_:1}),T(a("textarea",{id:"message","onUpdate:modelValue":e[16]||(e[16]=n=>s(_).message=n),rows:"4",placeholder:"Describe your issue in detail...",class:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",required:""},null,512),[[Ve,s(_).message]])]),t(s(J),{class:"flex justify-end gap-2"},{default:l(()=>[t(s(c),{type:"button",onClick:e[17]||(e[17]=n=>D.value=!1),variant:"outline"},{default:l(()=>e[54]||(e[54]=[u(" Cancel ")])),_:1}),t(s(c),{type:"submit",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>e[55]||(e[55]=[u("Create")])),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(s(K),{open:B.value,"onUpdate:open":e[21]||(e[21]=n=>B.value=n)},{default:l(()=>[t(s(R),{class:"sm:max-w-lg"},{default:l(()=>[t(s(W),null,{default:l(()=>[t(s(Y),{class:"flex items-center gap-2"},{default:l(()=>[t(d,{name:"list",class:"h-5 w-5 text-primary"}),e[56]||(e[56]=u(" Manage Ticket Subjects "))]),_:1}),t(s(G),null,{default:l(()=>e[57]||(e[57]=[u(" Create and manage predefined subjects for support tickets. ")])),_:1})]),_:1}),a("div",wt,[a("form",{onSubmit:ne(je,["prevent"]),class:"flex gap-2 mb-6"},[a("div",_t,[t(s(X),{modelValue:s(F).name,"onUpdate:modelValue":e[19]||(e[19]=n=>s(F).name=n),placeholder:"Enter subject name...",required:"",class:"w-full"},null,8,["modelValue"])]),t(s(c),{type:"submit",class:"shadow-sm hover:shadow transition-all"},{default:l(()=>[t(d,{name:"plus",class:"mr-2 h-4 w-4"}),e[58]||(e[58]=u(" Add "))]),_:1})],32),a("div",ht,[e[59]||(e[59]=a("div",{class:"bg-muted/30 px-4 py-2 border-b"},[a("h3",{class:"font-medium"},"Available Subjects")],-1)),a("div",jt,[O.value.length===0?(i(),x("div",Ct," No subjects found. Create your first one above. ")):m("",!0),(i(!0),x(P,null,z(O.value,n=>(i(),x("div",{key:n.id,class:"flex items-center justify-between p-3 hover:bg-muted/30"},[a("span",null,p(n.name),1),a("div",$t,[t(s(c),{onClick:j=>Ce(n.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:l(()=>[t(d,{name:"trash",class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])])]))),128))])]),te.value.length>0?(i(),x("div",Tt,[e[61]||(e[61]=a("div",{class:"bg-muted/30 px-4 py-2 border-b"},[a("h3",{class:"font-medium"},"Deleted Subjects")],-1)),a("div",At,[(i(!0),x(P,null,z(te.value,n=>(i(),x("div",{key:n.id,class:"flex items-center justify-between p-3 hover:bg-muted/30"},[a("span",Dt,[u(p(n.name)+" ",1),e[60]||(e[60]=a("span",{class:"ml-2 text-xs text-red-500"},"(Deleted)",-1))]),a("div",Vt,[t(s(c),{onClick:j=>$e(n.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0",title:"Restore Subject"},{default:l(()=>[t(d,{name:"undo",class:"h-4 w-4 text-primary"})]),_:2},1032,["onClick"]),t(s(c),{onClick:j=>Te(n.id),variant:"ghost",size:"sm",class:"h-8 w-8 p-0",title:"Permanently Delete"},{default:l(()=>[t(d,{name:"x",class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])])]))),128))])])):m("",!0)]),t(s(J),null,{default:l(()=>[t(s(c),{onClick:e[20]||(e[20]=n=>B.value=!1),variant:"outline"},{default:l(()=>e[62]||(e[62]=[u(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1},8,["tenantSlug"]))}};export{Qt as default};
