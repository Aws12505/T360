import{c as C,k as V,d as B,C as T,l as j,o as a,w as f,e as r,u as i,m as L,b as e,a as d,g as l,j as A,h as _,t as n,T as E,i as G,V as M}from"./app--bSWE9if.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-CUxGtrl9.js";import{_ as z,a as k}from"./Layout.vue_vue_type_script_setup_true_lang-K0F9kzHk.js";import{_ as I}from"./Button.vue_vue_type_script_setup_true_lang-DDmT9EkP.js";import{_ as x,a as h}from"./Label.vue_vue_type_script_setup_true_lang-vyFiwHoL.js";import{_ as v}from"./Separator.vue_vue_type_script_setup_true_lang-9IBluZxX.js";import{_ as q}from"./Badge.vue_vue_type_script_setup_true_lang-56ev6w69.js";import"./index-DZHJ_HUJ.js";import"./createLucideIcon-DvzHZPDZ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BN1lJoeG.js";const p=V([]);function F(){const s=b=>{const m=Math.random().toString(36).substring(2,9),o={id:m,...b,duration:b.duration||5e3};return p.value=[...p.value,o],setTimeout(()=>{c(m)},o.duration),m},c=b=>{p.value=p.value.filter(m=>m.id!==b)};return{toasts:C(()=>p.value),toast:s,dismissToast:c}}const O={class:"space-y-6"},R={key:0,class:"flex flex-col items-center space-y-3 p-4 border rounded-md bg-muted/50"},Y={class:"w-32 h-32 rounded-md overflow-hidden border border-border flex items-center justify-center bg-white"},J=["src"],W={class:"grid gap-2"},H={key:0,class:"text-sm text-destructive"},K={class:"grid gap-2"},Q={key:0,class:"text-sm text-destructive"},X={class:"grid gap-2"},Z={class:"flex items-start space-x-4"},tt={key:0,class:"w-24 h-24 rounded-md overflow-hidden border border-border flex items-center justify-center bg-white"},et=["src"],st={class:"flex-1"},it={key:0,class:"text-sm text-destructive"},nt={class:"flex items-center gap-4"},ot={key:0},at={key:1},rt={class:"text-sm text-neutral-600"},dt={key:1,class:"mt-8"},lt={class:"bg-card rounded-lg border shadow-sm p-6"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ut={class:"space-y-2"},mt={class:"text-lg font-semibold"},gt={class:"text-sm text-muted-foreground"},ft={class:"space-y-2 md:text-right"},bt={class:"text-2xl font-bold"},pt={class:"space-y-3 col-span-1 md:col-span-2"},_t={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},vt={class:"bg-muted/50 p-3 rounded-md"},yt={class:"font-medium"},xt={class:"bg-muted/50 p-3 rounded-md"},ht={class:"font-medium"},St={class:"bg-muted/50 p-3 rounded-md"},wt={class:"font-medium"},kt={class:"text-xs text-muted-foreground"},Ct={key:0,class:"space-y-3 col-span-1 md:col-span-2"},Vt={class:"bg-muted/50 p-3 rounded-md"},Nt={key:0},$t={key:1},Dt={key:0},Ut={key:1},Bt={key:2},Tt={key:2},jt={key:3,class:"mt-1 text-sm text-muted-foreground"},Ot=B({__name:"TenantSettings",props:{tenant:{type:Object,required:!0},tenantSlug:{type:String,required:!0},subscription:{type:Object,default:null}},setup(s){const c=s;C(()=>[{title:c.tenantSlug?"Dashboard":"Admin Dashboard",href:c.tenantSlug?route("dashboard",{tenantSlug:c.tenantSlug}):route("admin.dashboard")}]);const{toast:b}=F(),m=V(null),o=T({name:c.tenant.name,slug:c.tenant.slug,image:null}),N=u=>{const t=u.target;if(t.files&&t.files[0]){o.image=t.files[0];const g=new FileReader;g.onload=y=>{var w;m.value=(w=y.target)==null?void 0:w.result},g.readAsDataURL(t.files[0])}},$=()=>{o.post(route("tenant.settings.update",c.tenantSlug),{onSuccess:()=>{b({title:"Success",description:"Company settings updated successfully"})},preserveScroll:!0})},D=(u,t="USD")=>u?new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD"}).format(u):"$0.00",S=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",U=(u,t)=>{if(!u||!t)return"N/A";const g=u.toString().padStart(2,"0"),y=t.toString().length===4?t.toString().slice(-2):t.toString();return`${g}/${y}`};return(u,t)=>(a(),j(P,{breadcrumbs:c.breadcrumbItems,tenantSlug:c.tenantSlug},{default:f(()=>[r(i(L),{title:"Company Settings"}),r(z,null,{default:f(()=>[e("div",O,[r(k,{title:"Company Settings",description:"Update your company information and logo"}),r(i(v)),s.tenant.image_path?(a(),d("div",R,[t[2]||(t[2]=e("div",{class:"text-sm font-medium"},"Current Company Logo",-1)),e("div",Y,[e("img",{src:`/storage/${s.tenant.image_path}`,alt:"Company Logo",class:"max-w-full max-h-full object-contain"},null,8,J)]),t[3]||(t[3]=e("div",{class:"text-xs text-muted-foreground"}," Logo is optimized and converted to SVG for better quality ",-1))])):l("",!0),e("form",{onSubmit:A($,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[e("div",W,[r(i(x),{for:"name"},{default:f(()=>t[4]||(t[4]=[_("Company Name")])),_:1}),r(i(h),{id:"name",modelValue:i(o).name,"onUpdate:modelValue":t[0]||(t[0]=g=>i(o).name=g),placeholder:"Enter company name",class:"mt-1 block w-full"},null,8,["modelValue"]),i(o).errors.name?(a(),d("p",H,n(i(o).errors.name),1)):l("",!0)]),e("div",K,[r(i(x),{for:"slug"},{default:f(()=>t[5]||(t[5]=[_("Slug")])),_:1}),r(i(h),{id:"slug",modelValue:i(o).slug,"onUpdate:modelValue":t[1]||(t[1]=g=>i(o).slug=g),placeholder:"Enter company slug",class:"mt-1 block w-full"},null,8,["modelValue"]),i(o).errors.slug?(a(),d("p",Q,n(i(o).errors.slug),1)):l("",!0)]),e("div",X,[r(i(x),{for:"image"},{default:f(()=>t[6]||(t[6]=[_("Update Company Logo")])),_:1}),e("div",Z,[m.value?(a(),d("div",tt,[e("img",{src:m.value,alt:"New Company Logo Preview",class:"max-w-full max-h-full object-contain"},null,8,et)])):l("",!0),e("div",st,[r(i(h),{id:"image",type:"file",onChange:N,accept:"image/jpeg,image/png,image/gif,image/svg+xml",class:"mt-1 block w-full"}),t[7]||(t[7]=e("p",{class:"text-xs text-muted-foreground mt-1"}," Accepted formats: JPEG, PNG, GIF, SVG. Max size: 2MB. Will be optimized and converted to SVG. ",-1)),i(o).errors.image?(a(),d("p",it,n(i(o).errors.image),1)):l("",!0)])])]),e("div",nt,[r(i(I),{type:"submit",disabled:i(o).processing},{default:f(()=>[i(o).processing?(a(),d("span",ot,"Updating...")):(a(),d("span",at,"Save Changes"))]),_:1},8,["disabled"]),r(E,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:f(()=>[G(e("p",rt,"Saved.",512),[[M,i(o).recentlySuccessful]])]),_:1})])],32),s.subscription?(a(),d("div",dt,[r(k,{title:"Subscription Details",description:"Your current subscription information"}),r(i(v),{class:"my-4"}),e("div",lt,[e("div",ct,[e("div",ut,[e("h3",mt,n(s.subscription.name),1),e("p",gt,n(s.subscription.description||"No description available"),1)]),e("div",ft,[e("div",bt,n(D(s.subscription.price,s.subscription.currency_code)),1),r(i(q),{variant:"outline"},{default:f(()=>[_(n(s.subscription.payment_gateway),1)]),_:1})]),e("div",pt,[r(i(v)),t[11]||(t[11]=e("h4",{class:"font-medium"},"Billing Information",-1)),e("div",_t,[e("div",vt,[t[8]||(t[8]=e("div",{class:"text-xs text-muted-foreground"},"Next Billing",-1)),e("div",yt,n(S(s.subscription.next_billing_at)),1)]),e("div",xt,[t[9]||(t[9]=e("div",{class:"text-xs text-muted-foreground"},"Last Billing",-1)),e("div",ht,n(S(s.subscription.last_billing_at)),1)]),e("div",St,[t[10]||(t[10]=e("div",{class:"text-xs text-muted-foreground"},"Payment Method",-1)),e("div",wt,n(s.subscription.card_type)+" •••• "+n(s.subscription.last_four_digits),1),e("div",kt,"Expires "+n(U(s.subscription.expiry_month,s.subscription.expiry_year)),1)])])]),s.subscription.billing_address?(a(),d("div",Ct,[r(i(v)),t[12]||(t[12]=e("h4",{class:"font-medium"},"Billing Address",-1)),e("div",Vt,[s.subscription.billing_address.street?(a(),d("div",Nt,n(s.subscription.billing_address.street),1)):l("",!0),s.subscription.billing_address.street2?(a(),d("div",$t,n(s.subscription.billing_address.street2),1)):l("",!0),e("div",null,[s.subscription.billing_address.city?(a(),d("span",Dt,n(s.subscription.billing_address.city)+", ",1)):l("",!0),s.subscription.billing_address.state?(a(),d("span",Ut,n(s.subscription.billing_address.state),1)):l("",!0),s.subscription.billing_address.zip?(a(),d("span",Bt,n(s.subscription.billing_address.zip),1)):l("",!0)]),s.subscription.billing_address.country?(a(),d("div",Tt,n(s.subscription.billing_address.country),1)):l("",!0),s.subscription.billing_address.phone?(a(),d("div",jt," Phone: "+n(s.subscription.billing_address.phone),1)):l("",!0)])])):l("",!0)])])])):l("",!0)])]),_:1})]),_:1},8,["breadcrumbs","tenantSlug"]))}});export{Ot as default};
