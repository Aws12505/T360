import{g as te,W as ae}from"./vendor-vue-BLQkEQ_D.js";import{_ as ne}from"./AppLayout.vue_vue_type_script_setup_true_lang-OHgTIsMh.js";import{_ as M}from"./Icon.vue_vue_type_script_setup_true_lang-Bvtx7n_2.js";import{_ as S}from"./Badge.vue_vue_type_script_setup_true_lang-Cbc7GIY_.js";import{_ as Y}from"./Button.vue_vue_type_script_setup_true_lang-BbwYdLlm.js";import{_ as se,a as re,b as oe,c as ie,d as le}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BMgF8EFT.js";import{_ as de}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B6J1QtuW.js";import{_ as ce,a as ue,b as Z,c as q,d as me,e as E}from"./TableRow.vue_vue_type_script_setup_true_lang-BYKXF4kE.js";import{e as V,a as R,H as p,i as x,X as e,P as r,ak as N,r as T,A as ee,G as P,J as I,K as G,B as o,j as l,O as v,u as d,f as O}from"./vendor-BFuKjz45.js";import"./vendor-axios-xsH4HHeE.js";import"./utils-7fX89-0C.js";import"./vendor-ui-CqNqovUm.js";import"./app-CFSI6AXr.js";import"./vendor-icons-ILJ_3fu6.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CZUnzYQk.js";const fe={class:"mb-6"},ge=V({__name:"DashboardHeader",props:{operationalExcellenceScore:{type:String,default:"Not Available"}},setup(t){const m=t,g=R(()=>{switch(m.operationalExcellenceScore){case"Fantastic +":return"text-green-600";case"Fantastic":return"text-emerald-600";case"Good":return"text-blue-600";case"Fair":return"text-amber-600";case"Poor":return"text-red-600";default:return"text-gray-600"}});return(h,y)=>(x(),p("div",fe,[e("h2",{class:N(["text-4xl font-bold tracking-tight",[g.value,"transition-colors duration-300"]])},r(t.operationalExcellenceScore),3)]))}}),be={class:"mb-6"},ve={class:"border-b"},xe={class:"flex -mb-px space-x-8"},ye=["onClick"],_e={key:0,class:"mt-2 text-sm text-muted-foreground"},pe={key:0,class:"ml-1"},we=V({__name:"TimePeriodTabs",props:{dateRangeText:{type:String,default:""},weekNumber:{type:Number,default:null},startWeekNumber:{type:Number,default:null},endWeekNumber:{type:Number,default:null},year:{type:Number,default:null},activeTabId:{type:String,default:"yesterday"}},emits:["tab-change"],setup(t,{emit:m}){const g=t,h=[{id:"yesterday",label:"Yesterday"},{id:"current-week",label:"WtD"},{id:"t6w",label:"T6W Scores"},{id:"quarterly",label:"Quarterly Scores"}],y=T(g.activeTabId),i=m,f=R(()=>(y.value==="yesterday"||y.value==="current-week")&&g.weekNumber&&g.year?`Week ${g.weekNumber}, ${g.year}`:(y.value==="t6w"||y.value==="quarterly")&&g.startWeekNumber&&g.endWeekNumber&&g.year?`Weeks ${g.startWeekNumber}-${g.endWeekNumber}, ${g.year}`:""),B=k=>{y.value=k,i("tab-change",k)};return ee(()=>{i("tab-change",y.value)}),(k,C)=>(x(),p("div",be,[e("div",ve,[e("div",xe,[(x(),p(I,null,G(h,$=>e("button",{key:$.id,onClick:F=>B($.id),class:N(["py-2 px-1 border-b-2 text-sm font-medium transition-colors",y.value===$.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted-foreground"])},r($.label),11,ye)),64))])]),t.dateRangeText?(x(),p("div",_e,[e("span",null,r(t.dateRangeText),1),f.value?(x(),p("span",pe,"("+r(f.value)+")",1)):P("",!0)])):P("",!0)]))}}),he={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-6"},ke={class:"bg-card rounded-lg border shadow-sm p-4"},De={class:"flex items-center justify-between gap-3 mb-4"},$e={class:"space-y-2 text-sm max-h-40 overflow-y-auto"},Se={class:"bg-card rounded-lg border shadow-sm p-4"},Re={class:"flex items-center justify-between gap-3 mb-4"},Ne={class:"space-y-2 text-sm max-h-40 overflow-y-auto"},je={class:"bg-card rounded-lg border shadow-sm p-4"},Te={class:"flex items-center justify-between gap-3 mb-4"},Be={class:"text-sm mb-2 space-y-2"},Ce={class:"flex justify-between"},Fe={class:"flex justify-between"},Ae={class:"flex justify-between"},We={class:"flex justify-between"},Oe={class:"bg-card rounded-lg border shadow-sm p-4"},Pe={class:"flex items-center justify-between gap-3 mb-4"},Ve={class:"text-4xl font-bold text-indigo-600"},Me={class:"space-y-2 text-sm"},qe={class:"flex justify-between items-center"},Ee={class:"flex items-center gap-2"},Ie={class:"w-12 text-right"},Ge={class:"w-16 text-right"},Qe={class:"flex justify-between items-center"},He={class:"flex items-center gap-2"},Ke={class:"w-12 text-right"},Ue={class:"w-16 text-right"},ze={class:"flex justify-between items-center"},Le={class:"flex items-center gap-2"},Je={class:"w-12 text-right"},Xe={class:"w-16 text-right"},Ye={class:"flex justify-between items-center"},Ze={class:"flex items-center gap-2"},et={class:"w-12 text-right"},tt={class:"w-16 text-right"},at={class:"flex justify-between items-center"},nt={class:"flex items-center gap-2"},st={class:"w-12 text-right"},rt={class:"w-16 text-right"},ot={class:"text-sm text-muted-foreground mt-3"},it=V({__name:"PerformanceCards",props:{performanceData:{type:Object,default:()=>({})},performanceRatings:{type:Object,default:()=>({})},safetyData:{type:Object,default:()=>({})},delayBreakdowns:{type:Array,default:()=>[]},rejectionBreakdowns:{type:Array,default:()=>[]},maintenanceBreakdowns:{type:Object,default:()=>({})}},setup(t){const m=t,g=R(()=>[...m.delayBreakdowns].sort((a,s)=>s.total_delays-a.total_delays).slice(0,3)),h=R(()=>[...m.rejectionBreakdowns].sort((a,s)=>s.total_rejections-a.total_rejections).slice(0,3)),y=a=>a==null?"0%":`${Math.round(parseFloat(a))}%`,i=a=>(typeof a=="string"&&(a=parseFloat(a)),a==null||isNaN(a)?"0":Math.round(a).toString()),f=a=>(typeof a=="string"&&(a=parseFloat(a)),a==null||isNaN(a)?"0.00":a.toFixed(2)),B=a=>(typeof a=="string"&&(a=parseFloat(a)),a==null||isNaN(a)?"0.00":a.toFixed(2)),k=a=>{if(!a)return"Not Available";switch(a){case"gold":return"Gold Tier";case"silver":return"Silver Tier";case"not_eligible":return"Not Eligible";case"fantastic_plus":return"Fantastic +";case"fantastic":return"Fantastic";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return a}},C=a=>{if(!a)return"outline";switch(a){case"gold":return"gold";case"silver":return"silver";case"not_eligible":return"not-eligible";case"fantastic_plus":return"fantastic-plus";case"fantastic":return"fantastic";case"good":return"good";case"fair":return"fair";case"poor":return"poor";default:return"outline"}},$=a=>a?a==="Gold Tier"?"gold":a==="Silver Tier"?"silver":a==="Not Eligible"?"not-eligible":"outline":"outline",F=R(()=>{var w;if(!((w=m.safetyData)!=null&&w.ratings))return null;const a=m.safetyData.ratings,s={gold:3,silver:2,not_eligible:1},c=["traffic_light_violation","speeding_violations","following_distance","driver_distraction","sign_violations"];let n="gold";for(const _ of c)a[_]&&s[a[_]]<s[n]&&(n=a[_]);switch(n){case"gold":return"Gold Tier";case"silver":return"Silver Tier";case"not_eligible":return"Not Eligible";default:return"Not Available"}}),A=a=>{if(!a)return"text-gray-600";switch(a){case"gold":return"text-amber-600";case"silver":return"text-slate-600";case"not_eligible":return"text-red-600";case"fantastic_plus":return"text-green-600";case"fantastic":return"text-emerald-600";case"good":return"text-blue-600";case"fair":return"text-amber-600";case"poor":return"text-red-600";default:return"text-indigo-600"}};return(a,s)=>{var c,n,w,_,u;return x(),p("div",he,[e("div",ke,[s[0]||(s[0]=e("h3",{class:"text-base font-semibold mb-1"},"Acceptance",-1)),s[1]||(s[1]=e("div",{class:"text-xs text-muted-foreground mb-1"},"Total Score",-1)),e("div",De,[e("div",{class:N(["text-4xl font-bold",A(t.performanceRatings.average_acceptance)])},r(y(t.performanceData.average_acceptance)),3),o(d(S),{variant:C(t.performanceRatings.average_acceptance),class:"text-xs"},{default:l(()=>[v(r(k(t.performanceRatings.average_acceptance)),1)]),_:1},8,["variant"])]),s[2]||(s[2]=e("div",{class:"text-sm mb-2 flex justify-between"},[e("span",{class:"font-semibold"},"Rejections by Reason"),e("span",{class:"font-semibold"},"Total")],-1)),e("div",$e,[(x(!0),p(I,null,G(h.value,(b,D)=>(x(),p("div",{key:D,class:"flex justify-between"},[e("span",null,r(b.reason_code),1),e("span",null,r(b.total_rejections),1)]))),128))])]),e("div",Se,[s[3]||(s[3]=e("h3",{class:"text-base font-semibold mb-1"},"On-Time",-1)),s[4]||(s[4]=e("div",{class:"text-xs text-muted-foreground mb-1"},"Total Score",-1)),e("div",Re,[e("div",{class:N(["text-4xl font-bold",A(t.performanceRatings.average_on_time)])},r(y(t.performanceData.average_on_time)),3),o(d(S),{variant:C(t.performanceRatings.average_on_time),class:"text-xs"},{default:l(()=>[v(r(k(t.performanceRatings.average_on_time)),1)]),_:1},8,["variant"])]),s[5]||(s[5]=e("div",{class:"text-sm mb-2 flex justify-between"},[e("span",{class:"font-semibold"},"Delays by Reason"),e("span",{class:"font-semibold"},"Total")],-1)),e("div",Ne,[(x(!0),p(I,null,G(g.value,(b,D)=>(x(),p("div",{key:D,class:"flex justify-between"},[e("span",null,r(b.code),1),e("span",null,r(b.total_delays),1)]))),128))])]),e("div",je,[s[10]||(s[10]=e("h3",{class:"text-base font-semibold mb-1"},"Maintenance",-1)),s[11]||(s[11]=e("div",{class:"text-xs text-muted-foreground mb-1"},"MVtS Score",-1)),e("div",Te,[e("div",{class:N(["text-4xl font-bold",A(t.performanceRatings.average_maintenance_variance_to_spend)])},r(y(t.performanceData.average_maintenance_variance_to_spend)),3),o(d(S),{variant:C(t.performanceRatings.average_maintenance_variance_to_spend),class:"text-xs"},{default:l(()=>[v(r(k(t.performanceRatings.average_maintenance_variance_to_spend)),1)]),_:1},8,["variant"])]),e("div",Be,[e("div",Ce,[s[6]||(s[6]=e("span",null,"Cost per mile",-1)),e("span",null,"$"+r(B(t.maintenanceBreakdowns.cpm)),1)]),e("div",Fe,[s[7]||(s[7]=e("span",null,"Num of WOs",-1)),e("span",null,r(t.maintenanceBreakdowns.total_repair_orders),1)]),e("div",Ae,[s[8]||(s[8]=e("span",null,"Current Costs",-1)),e("span",null,"$"+r(B(t.maintenanceBreakdowns.total_invoice_amount)),1)]),e("div",We,[s[9]||(s[9]=e("span",null,"Missing Invoices",-1)),e("span",null,r(t.maintenanceBreakdowns.missing_invoices_count||0),1)])])]),e("div",Oe,[s[17]||(s[17]=e("h3",{class:"text-base font-semibold mb-1"},"Netradyne Alerts Bonus Criteria",-1)),s[18]||(s[18]=e("div",{class:"text-xs text-muted-foreground mb-1"},"Green Zone Score",-1)),e("div",Pe,[e("div",Ve,r(i(t.safetyData.average_driver_score||"N/A")),1),o(d(S),{variant:$(F.value),class:"text-xs"},{default:l(()=>[v(r(k(F.value)),1)]),_:1},8,["variant"])]),s[19]||(s[19]=e("div",{class:"flex justify-between items-center text-sm font-semibold mb-2"},[e("span",null,"Alert Type"),e("div",{class:"flex items-center gap-2"},[e("span",{class:"w-12 text-right"},"Total"),e("span",{class:"w-16 text-right"},"P1KH")])],-1)),e("div",Me,[e("div",qe,[s[12]||(s[12]=e("span",null,"Distracted Driving",-1)),e("div",Ee,[e("span",Ie,r(i(t.safetyData.driver_distraction)),1),e("span",Ge,r(f((c=t.safetyData.rates)==null?void 0:c.driver_distraction)),1)])]),e("div",Qe,[s[13]||(s[13]=e("span",null,"Speeding",-1)),e("div",He,[e("span",Ke,r(i(t.safetyData.speeding_violations)),1),e("span",Ue,r(f((n=t.safetyData.rates)==null?void 0:n.speeding_violations)),1)])]),e("div",ze,[s[14]||(s[14]=e("span",null,"Sign Violation",-1)),e("div",Le,[e("span",Je,r(i(t.safetyData.sign_violations)),1),e("span",Xe,r(f((w=t.safetyData.rates)==null?void 0:w.sign_violations)),1)])]),e("div",Ye,[s[15]||(s[15]=e("span",null,"Traffic Light Violation",-1)),e("div",Ze,[e("span",et,r(i(t.safetyData.traffic_light_violation)),1),e("span",tt,r(f((_=t.safetyData.rates)==null?void 0:_.traffic_light_violation)),1)])]),e("div",at,[s[16]||(s[16]=e("span",null,"Following Distance",-1)),e("div",nt,[e("span",st,r(i(t.safetyData.following_distance)),1),e("span",rt,r(f((u=t.safetyData.rates)==null?void 0:u.following_distance)),1)])])]),e("div",ot,[e("div",null,"Total Hours Analyzed: "+r(i(t.safetyData.total_hours||0)),1)])])])}}}),lt={class:"bg-card rounded-lg border shadow-sm p-6 mb-6"},dt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ct={class:"p-4 border rounded-lg"},ut={class:"flex items-center justify-between gap-3 mb-3"},mt={class:"p-4 border rounded-lg"},ft={class:"flex items-center justify-between gap-3 mb-3"},gt={class:"p-4 border rounded-lg"},bt={class:"flex items-center justify-between gap-3 mb-3"},vt=V({__name:"AdditionalMetricsCard",props:{performanceData:{type:Object,default:()=>({})},performanceRatings:{type:Object,default:()=>({})}},setup(t){const m=i=>i==null?"0":Math.round(parseFloat(i)).toString(),g=i=>{if(!i)return"Not Available";switch(i){case"fantastic_plus":return"Fantastic +";case"fantastic":return"Fantastic";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return i.charAt(0).toUpperCase()+i.slice(1).replace(/_/g," ")}},h=i=>{if(!i)return"outline";switch(i){case"fantastic_plus":return"fantastic-plus";case"fantastic":return"fantastic";case"good":return"good";case"fair":return"fair";case"poor":return"poor";default:return"outline"}},y=i=>{if(!i)return"text-gray-600";switch(i){case"fantastic_plus":return"text-green-600";case"fantastic":return"text-emerald-600";case"good":return"text-blue-600";case"fair":return"text-amber-600";case"poor":return"text-red-600";default:return"text-indigo-600"}};return(i,f)=>(x(),p("div",lt,[f[6]||(f[6]=e("h3",{class:"text-xl font-semibold mb-4"},"Additional Performance Metrics",-1)),e("div",dt,[e("div",ct,[f[0]||(f[0]=e("h4",{class:"text-lg font-medium mb-2"},"VCR-P",-1)),f[1]||(f[1]=e("div",{class:"text-sm text-muted-foreground mb-1"},"Count",-1)),e("div",ut,[e("div",{class:N(["text-3xl font-bold",y(t.performanceRatings.vcr_preventable)])},r(m(t.performanceData.vcr_preventable)),3),o(d(S),{variant:h(t.performanceRatings.vcr_preventable),class:"text-xs"},{default:l(()=>[v(r(g(t.performanceRatings.vcr_preventable)),1)]),_:1},8,["variant"])])]),e("div",mt,[f[2]||(f[2]=e("h4",{class:"text-lg font-medium mb-2"},"VMCR-P",-1)),f[3]||(f[3]=e("div",{class:"text-sm text-muted-foreground mb-1"},"Count",-1)),e("div",ft,[e("div",{class:N(["text-3xl font-bold",y(t.performanceRatings.vmcr_p)])},r(m(t.performanceData.vmcr_p)),3),o(d(S),{variant:h(t.performanceRatings.vmcr_p),class:"text-xs"},{default:l(()=>[v(r(g(t.performanceRatings.vmcr_p)),1)]),_:1},8,["variant"])])]),e("div",gt,[f[4]||(f[4]=e("h4",{class:"text-lg font-medium mb-2"},"Open BOC",-1)),f[5]||(f[5]=e("div",{class:"text-sm text-muted-foreground mb-1"},"Count",-1)),e("div",bt,[e("div",{class:N(["text-3xl font-bold",y(t.performanceRatings.open_boc)])},r(m(t.performanceData.open_boc)),3),o(d(S),{variant:h(t.performanceRatings.open_boc),class:"text-xs"},{default:l(()=>[v(r(g(t.performanceRatings.open_boc)),1)]),_:1},8,["variant"])])])])]))}}),xt={class:"container mx-auto p-6"},yt={class:"flex items-center justify-between mb-6"},_t={key:0,class:"mb-6"},pt={class:"bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 dark:border-red-400 p-4 rounded-md shadow-sm"},wt={class:"flex items-center"},ht={class:"flex-shrink-0"},kt={class:"h-10 w-10 rounded-full bg-red-100 dark:bg-red-800 flex items-center justify-center"},Dt={class:"ml-3"},$t={class:"mt-1 text-sm text-red-700 dark:text-red-200"},St={class:"mt-2"},Rt={class:"max-h-[60vh] overflow-y-auto"},Nt={class:"flex items-center gap-2"},jt={key:1,class:"text-center py-8 text-muted-foreground"},Ht=V({__name:"Summary",props:{tenantSlug:String,summaries:Object,delayBreakdowns:Object,rejectionBreakdowns:Object,maintenanceBreakdowns:Object,dateFilter:String,dateRange:Object},setup(t){const m=t;T("on-time");const g=T(m.dateFilter||"t6w"),h=T(null),y=T(null);T(!0);const i=T(!1),f=R(()=>{var c,n;return((n=(c=m.maintenanceBreakdowns)==null?void 0:c.canceled_qs_invoices)==null?void 0:n.length)>0});ee(()=>{});const B=c=>c==null?"0.00":Number(c).toFixed(2),k=R(()=>{const n={yesterday:"yesterday","current-week":"current_week",t6w:"rolling_6_weeks",quarterly:"quarterly"}[g.value]||g.value;return A(n)}),C=c=>{g.value=c,ae.visit(route("dashboard",{tenantSlug:m.tenantSlug,dateFilter:c,minInvoiceAmount:h.value||null,outstandingDate:y.value||null}),{preserveState:!0,preserveScroll:!0,only:["summaries","delayBreakdowns","rejectionBreakdowns","maintenanceBreakdowns","dateFilter","dateRange"]})},$=[{title:m.tenantSlug?"Dashboard":"Admin Dashboard",href:m.tenantSlug?route("dashboard",{tenantSlug:m.tenantSlug}):route("admin.dashboard")},{title:"Performance Summary",href:route("dashboard",{tenantSlug:m.tenantSlug})}],F=c=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(c),A=c=>{var w,_;if((_=(w=m.summaries)==null?void 0:w[c])!=null&&_.date_range){const u=new Date(m.summaries[c].date_range.start+"T12:00:00"),b=new Date(m.summaries[c].date_range.end+"T12:00:00");return`${a(u)} - ${a(b)}`}const n=new Date;switch(c){case"yesterday":{const u=new Date(n);return u.setDate(u.getDate()-1),a(u)}case"current_week":{const u=new Date(n);u.setDate(n.getDate()-n.getDay());const b=new Date(u);return b.setDate(u.getDate()+6),`${a(u)} - ${a(b)}`}case"rolling_6_weeks":{const u=new Date(n);u.setDate(n.getDate()-n.getDay()+6);const b=new Date(u);return b.setDate(u.getDate()-6*7+1),`${a(b)} - ${a(u)}`}case"quarterly":{const u=new Date(n),b=new Date(n);return b.setMonth(b.getMonth()-3),`${a(b)} - ${a(u)}`}default:return""}},a=c=>new Intl.DateTimeFormat("en-US",{month:"numeric",day:"numeric",year:"numeric"}).format(c),s=R(()=>{var u,b;if(!((b=(u=m.summaries)==null?void 0:u.performance)!=null&&b.ratings))return"Not Available";const c=m.summaries.performance.ratings,n={fantastic_plus:5,fantastic:4,good:3,fair:2,poor:1},w=["average_acceptance","average_on_time","average_maintenance_variance_to_spend","open_boc","vcr_preventable","vmcr_p"];let _="fantastic_plus";for(const D of w)c[D]&&n[c[D]]<n[_]&&(_=c[D]);switch(_){case"fantastic_plus":return"Fantastic +";case"fantastic":return"Fantastic";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return"Not Available"}});return(c,n)=>(x(),O(ne,{breadcrumbs:$,tenantSlug:t.tenantSlug},{default:l(()=>{var w,_,u,b,D,Q,H,K,U,z,L,J;return[o(d(te),{title:"Performance Summary Dashboard"}),e("div",xt,[e("div",yt,[n[3]||(n[3]=e("h1",{class:"text-2xl font-bold"},null,-1)),o(d(S),{variant:"outline",class:"text-sm"},{default:l(()=>[o(M,{name:"calendar",class:"mr-1 h-4 w-4"}),v(" Last updated: "+r(F(new Date)),1)]),_:1})]),o(ge,{operationalExcellenceScore:s.value},null,8,["operationalExcellenceScore"]),f.value?(x(),p("div",_t,[e("div",pt,[e("div",wt,[e("div",ht,[e("div",kt,[o(M,{name:"triangleAlert",class:"h-6 w-6 text-red-600 dark:text-red-300"})])]),e("div",Dt,[n[5]||(n[5]=e("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"},"Attention Required",-1)),e("div",$t,r(((_=(w=t.maintenanceBreakdowns)==null?void 0:w.canceled_qs_invoices)==null?void 0:_.length)||0)+" invoices found with canceled WO status but still on QS. These need immediate attention. ",1),e("div",St,[o(d(Y),{onClick:n[0]||(n[0]=W=>i.value=!0),variant:"destructive",size:"sm"},{default:l(()=>n[4]||(n[4]=[v(" View Details ")])),_:1})])])])])])):P("",!0),o(we,{onTabChange:C,dateRangeText:k.value,weekNumber:(u=t.dateRange)==null?void 0:u.weekNumber,startWeekNumber:(b=t.dateRange)==null?void 0:b.startWeekNumber,endWeekNumber:(D=t.dateRange)==null?void 0:D.endWeekNumber,year:(Q=t.dateRange)==null?void 0:Q.year,activeTabId:g.value},null,8,["dateRangeText","weekNumber","startWeekNumber","endWeekNumber","year","activeTabId"]),t.summaries?(x(),O(it,{key:1,performanceData:((H=t.summaries.performance)==null?void 0:H.data)||{},performanceRatings:((K=t.summaries.performance)==null?void 0:K.ratings)||{},safetyData:t.summaries.safety||{},delayBreakdowns:((U=t.delayBreakdowns)==null?void 0:U.by_code)||[],rejectionBreakdowns:((z=t.rejectionBreakdowns)==null?void 0:z.by_reason)||[],maintenanceBreakdowns:t.maintenanceBreakdowns||{}},null,8,["performanceData","performanceRatings","safetyData","delayBreakdowns","rejectionBreakdowns","maintenanceBreakdowns"])):P("",!0),t.summaries?(x(),O(vt,{key:2,performanceData:((L=t.summaries.performance)==null?void 0:L.data)||{},performanceRatings:((J=t.summaries.performance)==null?void 0:J.ratings)||{}},null,8,["performanceData","performanceRatings"])):P("",!0)]),o(d(se),{open:i.value,"onUpdate:open":n[2]||(n[2]=W=>i.value=W)},{default:l(()=>[o(d(re),{class:"sm:max-w-lg"},{default:l(()=>{var W,X;return[o(d(oe),null,{default:l(()=>[o(d(ie),{class:"flex items-center gap-2"},{default:l(()=>[o(M,{name:"alert-triangle",class:"h-5 w-5 text-red-600"}),n[6]||(n[6]=v(" Canceled Invoices on QS "))]),_:1}),o(d(le),null,{default:l(()=>n[7]||(n[7]=[v(" These invoices have a canceled WO status but are still marked as on QS. Please review and take appropriate action. ")])),_:1})]),_:1}),e("div",Rt,[(X=(W=t.maintenanceBreakdowns)==null?void 0:W.canceled_qs_invoices)!=null&&X.length?(x(),O(d(ce),{key:0},{default:l(()=>[o(d(ue),null,{default:l(()=>[o(d(Z),null,{default:l(()=>[o(d(q),null,{default:l(()=>n[8]||(n[8]=[v("RO Number")])),_:1}),o(d(q),null,{default:l(()=>n[9]||(n[9]=[v("Vendor")])),_:1}),o(d(q),{class:"text-right"},{default:l(()=>n[10]||(n[10]=[v("Amount")])),_:1}),o(d(q),null,{default:l(()=>n[11]||(n[11]=[v("Week")])),_:1})]),_:1})]),_:1}),o(d(me),null,{default:l(()=>[(x(!0),p(I,null,G(t.maintenanceBreakdowns.canceled_qs_invoices,j=>(x(),O(d(Z),{key:j.ro_number,class:"hover:bg-red-50 dark:hover:bg-red-900/30"},{default:l(()=>[o(d(E),{class:"font-medium"},{default:l(()=>[e("div",Nt,[o(M,{name:"alert-triangle",class:"h-4 w-4 text-red-600 dark:text-red-400"}),v(" "+r(j.ro_number),1)])]),_:2},1024),o(d(E),null,{default:l(()=>[v(r(j.vendor_name),1)]),_:2},1024),o(d(E),{class:"text-right"},{default:l(()=>[v("$"+r(B(j.invoice_amount)),1)]),_:2},1024),o(d(E),null,{default:l(()=>[v("W"+r(j.week_number)+"/"+r(j.year),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(x(),p("div",jt," No canceled QS invoices found. "))]),o(d(de),null,{default:l(()=>[o(d(Y),{onClick:n[1]||(n[1]=j=>i.value=!1),variant:"outline"},{default:l(()=>n[12]||(n[12]=[v("Close")])),_:1})]),_:1})]}),_:1})]),_:1},8,["open"])]}),_:1},8,["tenantSlug"]))}});export{Ht as default};
