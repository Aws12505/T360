import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-BVQ_O_Pt.js";import{_ as D}from"./Form.vue_vue_type_script_setup_true_lang-Dsslx31S.js";import{g as V}from"./vendor-vue-b4KxZBNV.js";import{_ as F,a as G,b as T,c as u,d as j,e as f}from"./TableRow.vue_vue_type_script_setup_true_lang-UcWElY6d.js";import{_ as h}from"./Button.vue_vue_type_script_setup_true_lang-CzZBifQk.js";import{_ as z}from"./Card.vue_vue_type_script_setup_true_lang-aMwvZFez.js";import{_ as H,a as J}from"./CardTitle.vue_vue_type_script_setup_true_lang-Df2fSrYx.js";import{_ as K}from"./CardContent.vue_vue_type_script_setup_true_lang-Bj6hH48Z.js";import{_ as B}from"./Badge.vue_vue_type_script_setup_true_lang-Orxa2Kil.js";import{r as y,a as L,f as m,i,j as a,B as l,X as _,u as e,H as x,G as E,O as s,J as O,K as P,P as c}from"./vendor-DwH8xScK.js";import"./utils-BsI0tD0G.js";import"./vendor-ui-DoCXuQZy.js";import"./Icon.vue_vue_type_script_setup_true_lang-CCQAf4zh.js";import"./vendor-icons-BYt1eATw.js";import"./app-CxsajcKP.js";import"./vendor-axios-xsH4HHeE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BOjezWgd.js";import"./Label.vue_vue_type_script_setup_true_lang-DpSppbWv.js";const X={class:"container mx-auto p-6 space-y-8"},Y={class:"flex flex-col sm:flex-row justify-between items-center mb-6"},q={key:0},I={class:"overflow-x-auto"},Q={key:2,class:"text-center py-12"},pe={__name:"Admin",props:{thresholds:Array,metrics:Array,tenantSlug:{type:String,default:null}},setup(w){const o=w,{tenantSlug:d}=o,A=[{title:d?"Dashboard":"Admin Dashboard",href:d?route("dashboard",{tenantSlug:d}):route("admin.dashboard")},{title:"Safety Thresholds",href:route("safety-thresholds.edit",{tenantSlug:d})}],p=y(!1),b=y({}),g=y(!1),$=n=>{switch(n){case!0:return"success";case!1:return"destructive";default:return"outline"}};function M(n){b.value=n,g.value=!1,p.value=!0}function S(){b.value={metric_name:"",good_threshold:null,bad_threshold:null,good_enabled:!0,bad_enabled:!0},g.value=!0,p.value=!0}function k(){p.value=!1,b.value={}}function C(n){return n??"-"}const v=L(()=>{if(!o.metrics||!o.thresholds)return[];const n=o.thresholds.map(t=>t.metric_name);return o.metrics.filter(t=>!n.includes(t))});return(n,t)=>(i(),m(N,{breadcrumbs:A,tenantSlug:e(d)},{default:a(()=>[l(e(V),{title:"Safety Thresholds Management"}),_("div",X,[_("div",Y,[t[1]||(t[1]=_("h1",{class:"text-2xl font-bold text-foreground"}," Safety Thresholds ",-1)),v.value.length>0?(i(),m(e(h),{key:0,onClick:S,variant:"default",class:"mt-4 sm:mt-0"},{default:a(()=>t[0]||(t[0]=[s(" Add New Threshold ")])),_:1})):E("",!0)]),p.value?(i(),x("div",q,[l(D,{tenantSlug:e(d),entry:b.value,isCreating:g.value,availableMetrics:v.value,onSaved:k,onCancel:k},null,8,["tenantSlug","entry","isCreating","availableMetrics"])])):o.thresholds&&o.thresholds.length>0?(i(),m(e(z),{key:1},{default:a(()=>[l(e(H),null,{default:a(()=>[l(e(J),null,{default:a(()=>t[2]||(t[2]=[s("Safety Thresholds")])),_:1})]),_:1}),l(e(K),null,{default:a(()=>[_("div",I,[l(e(F),null,{default:a(()=>[l(e(G),null,{default:a(()=>[l(e(T),null,{default:a(()=>[l(e(u),null,{default:a(()=>t[3]||(t[3]=[s("Metric")])),_:1}),l(e(u),null,{default:a(()=>t[4]||(t[4]=[s("Good Threshold")])),_:1}),l(e(u),null,{default:a(()=>t[5]||(t[5]=[s("Good Enabled")])),_:1}),l(e(u),null,{default:a(()=>t[6]||(t[6]=[s("Bad Threshold")])),_:1}),l(e(u),null,{default:a(()=>t[7]||(t[7]=[s("Bad Enabled")])),_:1}),l(e(u),{class:"text-right"},{default:a(()=>t[8]||(t[8]=[s("Actions")])),_:1})]),_:1})]),_:1}),l(e(j),null,{default:a(()=>[(i(!0),x(O,null,P(o.thresholds,r=>(i(),m(e(T),{key:r.id},{default:a(()=>[l(e(f),{class:"capitalize"},{default:a(()=>[s(c(r.metric_name.replace(/_/g," ")),1)]),_:2},1024),l(e(f),null,{default:a(()=>[s(c(C(r.good_threshold)),1)]),_:2},1024),l(e(f),null,{default:a(()=>[l(e(B),{variant:$(r.good_enabled)},{default:a(()=>[s(c(r.good_enabled?"Enabled":"Disabled"),1)]),_:2},1032,["variant"])]),_:2},1024),l(e(f),null,{default:a(()=>[s(c(C(r.bad_threshold)),1)]),_:2},1024),l(e(f),null,{default:a(()=>[l(e(B),{variant:$(r.bad_enabled)},{default:a(()=>[s(c(r.bad_enabled?"Enabled":"Disabled"),1)]),_:2},1032,["variant"])]),_:2},1024),l(e(f),{class:"text-right"},{default:a(()=>[l(e(h),{variant:"outline",size:"sm",onClick:R=>M(r)},{default:a(()=>t[9]||(t[9]=[s(" Edit ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})):(i(),x("div",Q,[t[11]||(t[11]=_("h3",{class:"text-lg font-medium text-muted-foreground mb-4"},"No safety thresholds defined yet",-1)),v.value.length>0?(i(),m(e(h),{key:0,onClick:S,variant:"default"},{default:a(()=>t[10]||(t[10]=[s(" Create Your First Threshold ")])),_:1})):E("",!0)]))])]),_:1},8,["tenantSlug"]))}};export{pe as default};
